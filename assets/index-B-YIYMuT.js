var w_=t=>{throw TypeError(t)};var _p=(t,e,n)=>e.has(t)||w_("Cannot "+n);var U=(t,e,n)=>(_p(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?w_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(_p(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(_p(t,e,"access private method"),n);var $u=(t,e,n,r)=>({set _(i){he(t,e,i,n)},get _(){return U(t,e,r)}});function LD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vS={exports:{}},af={},wS={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=Symbol.for("react.element"),FD=Symbol.for("react.portal"),jD=Symbol.for("react.fragment"),UD=Symbol.for("react.strict_mode"),BD=Symbol.for("react.profiler"),$D=Symbol.for("react.provider"),zD=Symbol.for("react.context"),WD=Symbol.for("react.forward_ref"),HD=Symbol.for("react.suspense"),KD=Symbol.for("react.memo"),qD=Symbol.for("react.lazy"),__=Symbol.iterator;function GD(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ES=Object.assign,TS={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=TS,this.updater=n||_S}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xS(){}xS.prototype=Ma.prototype;function zy(t,e,n){this.props=t,this.context=e,this.refs=TS,this.updater=n||_S}var Wy=zy.prototype=new xS;Wy.constructor=zy;ES(Wy,Ma.prototype);Wy.isPureReactComponent=!0;var E_=Array.isArray,SS=Object.prototype.hasOwnProperty,Hy={current:null},CS={key:!0,ref:!0,__self:!0,__source:!0};function bS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SS.call(e,r)&&!CS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:eu,type:t,key:s,ref:o,props:i,_owner:Hy.current}}function QD(t,e){return{$$typeof:eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===eu}function YD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T_=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YD(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eu:case FD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ep(o,0):r,E_(i)?(n="",t!=null&&(n=t.replace(T_,"$&/")+"/"),Cd(i,e,n,"",function(c){return c})):i!=null&&(Ky(i)&&(i=QD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(T_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",E_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ep(s,a);o+=Cd(s,e,n,l,i)}else if(l=GD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ep(s,a++),o+=Cd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},bd={transition:null},JD={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:bd,ReactCurrentOwner:Hy};function IS(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!Ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Ma;ge.Fragment=jD;ge.Profiler=BD;ge.PureComponent=zy;ge.StrictMode=UD;ge.Suspense=HD;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JD;ge.act=IS;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ES({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SS.call(e,l)&&!CS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:eu,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:zD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$D,_context:t},t.Consumer=t};ge.createElement=bS;ge.createFactory=function(t){var e=bS.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:WD,render:t}};ge.isValidElement=Ky;ge.lazy=function(t){return{$$typeof:qD,_payload:{_status:-1,_result:t},_init:XD}};ge.memo=function(t,e){return{$$typeof:KD,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=bd.transition;bd.transition={};try{t()}finally{bd.transition=e}};ge.unstable_act=IS;ge.useCallback=function(t,e){return nn.current.useCallback(t,e)};ge.useContext=function(t){return nn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return nn.current.useEffect(t,e)};ge.useId=function(){return nn.current.useId()};ge.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return nn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ge.useRef=function(t){return nn.current.useRef(t)};ge.useState=function(t){return nn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return nn.current.useTransition()};ge.version="18.3.1";wS.exports=ge;var E=wS.exports;const H=yS(E),PS=LD({__proto__:null,default:H},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=E,e2=Symbol.for("react.element"),t2=Symbol.for("react.fragment"),n2=Object.prototype.hasOwnProperty,r2=ZD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i2={key:!0,ref:!0,__self:!0,__source:!0};function AS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n2.call(e,r)&&!i2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:e2,type:t,key:s,ref:o,props:i,_owner:r2.current}}af.Fragment=t2;af.jsx=AS;af.jsxs=AS;vS.exports=af;var x=vS.exports,RS={exports:{}},Sn={},kS={exports:{}},NS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var Q=L.length;L.push($);e:for(;0<Q;){var q=Q-1>>>1,Z=L[q];if(0<i(Z,$))L[q]=$,L[Q]=Z,Q=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],Q=L.pop();if(Q!==$){L[0]=Q;e:for(var q=0,Z=L.length,ne=Z>>>1;q<ne;){var Ce=2*(q+1)-1,Be=L[Ce],pe=Ce+1,ee=L[pe];if(0>i(Be,Q))pe<Z&&0>i(ee,Be)?(L[q]=ee,L[pe]=Q,q=pe):(L[q]=Be,L[Ce]=Q,q=Ce);else if(pe<Z&&0>i(ee,Q))L[q]=ee,L[pe]=Q,q=pe;else break e}}return $}function i(L,$){var Q=L.sortIndex-$.sortIndex;return Q!==0?Q:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,T=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=L)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function A(L){if(g=!1,_(L),!T)if(n(l)!==null)T=!0,J(N);else{var $=n(c);$!==null&&G(A,$.startTime-L)}}function N(L,$){T=!1,g&&(g=!1,v(C),C=-1),m=!0;var Q=h;try{for(_($),f=n(l);f!==null&&(!(f.expirationTime>$)||L&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var Z=q(f.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),_($)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var Ce=n(c);Ce!==null&&G(A,Ce.startTime-$),ne=!1}return ne}finally{f=null,h=Q,m=!1}}var M=!1,b=null,C=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function O(){if(b!==null){var L=t.unstable_now();R=L;var $=!0;try{$=b(!0,L)}finally{$?k():(M=!1,b=null)}}else M=!1}var k;if(typeof y=="function")k=function(){y(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=O,k=function(){re.postMessage(null)}}else k=function(){S(O,0)};function J(L){b=L,M||(M=!0,k())}function G(L,$){C=S(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,J(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Q=h;h=$;try{return L()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=h;h=L;try{return $()}finally{h=Q}},t.unstable_scheduleCallback=function(L,$,Q){var q=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?q+Q:q):Q=q,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,L={id:d++,callback:$,priorityLevel:L,startTime:Q,expirationTime:Z,sortIndex:-1},Q>q?(L.sortIndex=Q,e(c,L),n(l)===null&&L===n(c)&&(g?(v(C),C=-1):g=!0,G(A,Q-q))):(L.sortIndex=Z,e(l,L),T||m||(T=!0,J(N))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var $=h;return function(){var Q=h;h=$;try{return L.apply(this,arguments)}finally{h=Q}}}})(NS);kS.exports=NS;var s2=kS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=E,En=s2;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DS=new Set,cc={};function lo(t,e){ya(t,e),ya(t+"Capture",e)}function ya(t,e){for(cc[t]=e,t=0;t<e.length;t++)DS.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=Object.prototype.hasOwnProperty,a2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x_={},S_={};function l2(t){return Nm.call(S_,t)?!0:Nm.call(x_,t)?!1:a2.test(t)?S_[t]=!0:(x_[t]=!0,!1)}function c2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u2(t,e,n,r){if(e===null||typeof e>"u"||c2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Gy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qy,Gy);Nt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qy,Gy);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qy,Gy);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qy(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u2(e,n,i,r)&&(n=null),r||i===null?l2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Mm=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),VS=Symbol.for("react.offscreen"),C_=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=C_&&t[C_]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Tp;function Pl(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var xp=!1;function Sp(t,e){if(!t||xp)return"";xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function d2(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=Sp(t.type,!1),t;case 11:return t=Sp(t.type.render,!1),t;case 1:return t=Sp(t.type,!0),t;default:return""}}function Vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Ro:return"Portal";case Dm:return"Profiler";case Yy:return"StrictMode";case Om:return"Suspense";case Mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case Xy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jy:return e=t.displayName||null,e!==null?e:Vm(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Vm(t(e))}catch{}}return null}function h2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vm(e);case 8:return e===Yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f2(t){var e=LS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=f2(t))}function FS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jS(t,e){e=e.checked,e!=null&&Qy(t,"checked",e,!1)}function Fm(t,e){jS(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&jm(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jm(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function Go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Al(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function US(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,$S=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p2=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){p2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function zS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m2=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wm=null;function Zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hm=null,Qo=null,Yo=null;function R_(t){if(t=ru(t)){if(typeof Hm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=hf(e),Hm(t.stateNode,t.type,e))}}function HS(t){Qo?Yo?Yo.push(t):Yo=[t]:Qo=t}function KS(){if(Qo){var t=Qo,e=Yo;if(Yo=Qo=null,R_(t),e)for(t=0;t<e.length;t++)R_(e[t])}}function qS(t,e){return t(e)}function GS(){}var Cp=!1;function QS(t,e,n){if(Cp)return t(e,n);Cp=!0;try{return qS(t,e,n)}finally{Cp=!1,(Qo!==null||Yo!==null)&&(GS(),KS())}}function dc(t,e){var n=t.stateNode;if(n===null)return null;var r=hf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Km=!1;if(Wr)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Km=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Km=!1}function g2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var $l=!1,rh=null,ih=!1,qm=null,y2={onError:function(t){$l=!0,rh=t}};function v2(t,e,n,r,i,s,o,a,l){$l=!1,rh=null,g2.apply(y2,arguments)}function w2(t,e,n,r,i,s,o,a,l){if(v2.apply(this,arguments),$l){if($l){var c=rh;$l=!1,rh=null}else throw Error(z(198));ih||(ih=!0,qm=c)}}function co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k_(t){if(co(t)!==t)throw Error(z(188))}function _2(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return k_(i),t;if(s===r)return k_(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function XS(t){return t=_2(t),t!==null?JS(t):null}function JS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JS(t);if(e!==null)return e;t=t.sibling}return null}var ZS=En.unstable_scheduleCallback,N_=En.unstable_cancelCallback,E2=En.unstable_shouldYield,T2=En.unstable_requestPaint,ot=En.unstable_now,x2=En.unstable_getCurrentPriorityLevel,ev=En.unstable_ImmediatePriority,eC=En.unstable_UserBlockingPriority,sh=En.unstable_NormalPriority,S2=En.unstable_LowPriority,tC=En.unstable_IdlePriority,lf=null,fr=null;function C2(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(lf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:P2,b2=Math.log,I2=Math.LN2;function P2(t){return t>>>=0,t===0?32:31-(b2(t)/I2|0)|0}var qu=64,Gu=4194304;function Rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Rl(a):(s&=o,s!==0&&(r=Rl(s)))}else o=n&~i,o!==0?r=Rl(o):s!==0&&(r=Rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function A2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=A2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function k2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iC,nv,sC,oC,aC,Qm=!1,Qu=[],Mi=null,Vi=null,Li=null,hc=new Map,fc=new Map,_i=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D_(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(e.pointerId)}}function wl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ru(e),e!==null&&nv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D2(t,e,n,r,i){switch(e){case"focusin":return Mi=wl(Mi,t,e,n,r,i),!0;case"dragenter":return Vi=wl(Vi,t,e,n,r,i),!0;case"mouseover":return Li=wl(Li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hc.set(s,wl(hc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fc.set(s,wl(fc.get(s)||null,t,e,n,r,i)),!0}return!1}function lC(t){var e=ks(t.target);if(e!==null){var n=co(e);if(n!==null){if(e=n.tag,e===13){if(e=YS(n),e!==null){t.blockedOn=e,aC(t.priority,function(){sC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wm=r,n.target.dispatchEvent(r),Wm=null}else return e=ru(n),e!==null&&nv(e),t.blockedOn=n,!1;e.shift()}return!0}function O_(t,e,n){Id(t)&&n.delete(e)}function O2(){Qm=!1,Mi!==null&&Id(Mi)&&(Mi=null),Vi!==null&&Id(Vi)&&(Vi=null),Li!==null&&Id(Li)&&(Li=null),hc.forEach(O_),fc.forEach(O_)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,Qm||(Qm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,O2)))}function pc(t){function e(i){return _l(i,t)}if(0<Qu.length){_l(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&_l(Mi,t),Vi!==null&&_l(Vi,t),Li!==null&&_l(Li,t),hc.forEach(e),fc.forEach(e),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&_i.shift()}var Xo=ni.ReactCurrentBatchConfig,ah=!0;function M2(t,e,n,r){var i=ke,s=Xo.transition;Xo.transition=null;try{ke=1,rv(t,e,n,r)}finally{ke=i,Xo.transition=s}}function V2(t,e,n,r){var i=ke,s=Xo.transition;Xo.transition=null;try{ke=4,rv(t,e,n,r)}finally{ke=i,Xo.transition=s}}function rv(t,e,n,r){if(ah){var i=Ym(t,e,n,r);if(i===null)Vp(t,e,r,lh,n),D_(t,r);else if(D2(i,t,e,n,r))r.stopPropagation();else if(D_(t,r),e&4&&-1<N2.indexOf(t)){for(;i!==null;){var s=ru(i);if(s!==null&&iC(s),s=Ym(t,e,n,r),s===null&&Vp(t,e,r,lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vp(t,e,r,null,n)}}var lh=null;function Ym(t,e,n,r){if(lh=null,t=Zy(r),t=ks(t),t!==null)if(e=co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x2()){case ev:return 1;case eC:return 4;case sh:case S2:return 16;case tC:return 536870912;default:return 16}default:return 16}}var ki=null,iv=null,Pd=null;function uC(){if(Pd)return Pd;var t,e=iv,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pd=i.slice(t,1<r?1-r:void 0)}function Ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function M_(){return!1}function Cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yu:M_,this.isPropagationStopped=M_,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=Cn(Va),nu=Ye({},Va,{view:0,detail:0}),L2=Cn(nu),Ip,Pp,El,cf=Ye({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Ip=t.screenX-El.screenX,Pp=t.screenY-El.screenY):Pp=Ip=0,El=t),Ip)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),V_=Cn(cf),F2=Ye({},cf,{dataTransfer:0}),j2=Cn(F2),U2=Ye({},nu,{relatedTarget:0}),Ap=Cn(U2),B2=Ye({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Cn(B2),z2=Ye({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W2=Cn(z2),H2=Ye({},Va,{data:0}),L_=Cn(H2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G2[t])?!!e[t]:!1}function ov(){return Q2}var Y2=Ye({},nu,{key:function(t){if(t.key){var e=K2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(t){return t.type==="keypress"?Ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X2=Cn(Y2),J2=Ye({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F_=Cn(J2),Z2=Ye({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),eO=Cn(Z2),tO=Ye({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),nO=Cn(tO),rO=Ye({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iO=Cn(rO),sO=[9,13,27,32],av=Wr&&"CompositionEvent"in window,zl=null;Wr&&"documentMode"in document&&(zl=document.documentMode);var oO=Wr&&"TextEvent"in window&&!zl,dC=Wr&&(!av||zl&&8<zl&&11>=zl),j_=" ",U_=!1;function hC(t,e){switch(t){case"keyup":return sO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function aO(t,e){switch(t){case"compositionend":return fC(e);case"keypress":return e.which!==32?null:(U_=!0,j_);case"textInput":return t=e.data,t===j_&&U_?null:t;default:return null}}function lO(t,e){if(No)return t==="compositionend"||!av&&hC(t,e)?(t=uC(),Pd=iv=ki=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var cO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cO[t.type]:e==="textarea"}function pC(t,e,n,r){HS(r),e=ch(e,"onChange"),0<e.length&&(n=new sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wl=null,mc=null;function uO(t){CC(t,0)}function uf(t){var e=Mo(t);if(FS(e))return t}function dO(t,e){if(t==="change")return e}var mC=!1;if(Wr){var Rp;if(Wr){var kp="oninput"in document;if(!kp){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),kp=typeof $_.oninput=="function"}Rp=kp}else Rp=!1;mC=Rp&&(!document.documentMode||9<document.documentMode)}function z_(){Wl&&(Wl.detachEvent("onpropertychange",gC),mc=Wl=null)}function gC(t){if(t.propertyName==="value"&&uf(mc)){var e=[];pC(e,mc,t,Zy(t)),QS(uO,e)}}function hO(t,e,n){t==="focusin"?(z_(),Wl=e,mc=n,Wl.attachEvent("onpropertychange",gC)):t==="focusout"&&z_()}function fO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uf(mc)}function pO(t,e){if(t==="click")return uf(e)}function mO(t,e){if(t==="input"||t==="change")return uf(e)}function gO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:gO;function gc(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nm.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function W_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H_(t,e){var n=W_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W_(n)}}function yC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vC(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yO(t){var e=vC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yC(n.ownerDocument.documentElement,n)){if(r!==null&&lv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=H_(n,s);var o=H_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vO=Wr&&"documentMode"in document&&11>=document.documentMode,Do=null,Xm=null,Hl=null,Jm=!1;function K_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jm||Do==null||Do!==nh(r)||(r=Do,"selectionStart"in r&&lv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&gc(Hl,r)||(Hl=r,r=ch(Xm,"onSelect"),0<r.length&&(e=new sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function Xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},Np={},wC={};Wr&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function df(t){if(Np[t])return Np[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wC)return Np[t]=e[n];return t}var _C=df("animationend"),EC=df("animationiteration"),TC=df("animationstart"),xC=df("transitionend"),SC=new Map,q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){SC.set(t,e),lo(e,[t])}for(var Dp=0;Dp<q_.length;Dp++){var Op=q_[Dp],wO=Op.toLowerCase(),_O=Op[0].toUpperCase()+Op.slice(1);us(wO,"on"+_O)}us(_C,"onAnimationEnd");us(EC,"onAnimationIteration");us(TC,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(xC,"onTransitionEnd");ya("onMouseEnter",["mouseout","mouseover"]);ya("onMouseLeave",["mouseout","mouseover"]);ya("onPointerEnter",["pointerout","pointerover"]);ya("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EO=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function G_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w2(r,e,void 0,t),t.currentTarget=null}function CC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;G_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;G_(i,a,c),s=l}}}if(ih)throw t=qm,ih=!1,qm=null,t}function Fe(t,e){var n=e[rg];n===void 0&&(n=e[rg]=new Set);var r=t+"__bubble";n.has(r)||(bC(e,t,2,!1),n.add(r))}function Mp(t,e,n){var r=0;e&&(r|=4),bC(n,t,r,e)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[Ju]){t[Ju]=!0,DS.forEach(function(n){n!=="selectionchange"&&(EO.has(n)||Mp(n,!1,t),Mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ju]||(e[Ju]=!0,Mp("selectionchange",!1,e))}}function bC(t,e,n,r){switch(cC(e)){case 1:var i=M2;break;case 4:i=V2;break;default:i=rv}n=i.bind(null,e,n,t),i=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QS(function(){var c=s,d=Zy(n),f=[];e:{var h=SC.get(t);if(h!==void 0){var m=sv,T=t;switch(t){case"keypress":if(Ad(n)===0)break e;case"keydown":case"keyup":m=X2;break;case"focusin":T="focus",m=Ap;break;case"focusout":T="blur",m=Ap;break;case"beforeblur":case"afterblur":m=Ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=V_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eO;break;case _C:case EC:case TC:m=$2;break;case xC:m=nO;break;case"scroll":m=L2;break;case"wheel":m=iO;break;case"copy":case"cut":case"paste":m=W2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=F_}var g=(e&4)!==0,S=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,_;y!==null;){_=y;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=dc(y,v),A!=null&&g.push(vc(y,A,_)))),S)break;y=y.return}0<g.length&&(h=new m(h,T,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Wm&&(T=n.relatedTarget||n.fromElement)&&(ks(T)||T[Hr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=c,T=T?ks(T):null,T!==null&&(S=co(T),T!==S||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=c),m!==T)){if(g=V_,A="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=F_,A="onPointerLeave",v="onPointerEnter",y="pointer"),S=m==null?h:Mo(m),_=T==null?h:Mo(T),h=new g(A,y+"leave",m,n,d),h.target=S,h.relatedTarget=_,A=null,ks(d)===c&&(g=new g(v,y+"enter",T,n,d),g.target=_,g.relatedTarget=S,A=g),S=A,m&&T)t:{for(g=m,v=T,y=0,_=g;_;_=To(_))y++;for(_=0,A=v;A;A=To(A))_++;for(;0<y-_;)g=To(g),y--;for(;0<_-y;)v=To(v),_--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=To(g),v=To(v)}g=null}else g=null;m!==null&&Q_(f,h,m,g,!1),T!==null&&S!==null&&Q_(f,S,T,g,!0)}}e:{if(h=c?Mo(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=dO;else if(B_(h))if(mC)N=mO;else{N=fO;var M=hO}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=pO);if(N&&(N=N(t,c))){pC(f,N,n,d);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&jm(h,"number",h.value)}switch(M=c?Mo(c):window,t){case"focusin":(B_(M)||M.contentEditable==="true")&&(Do=M,Xm=c,Hl=null);break;case"focusout":Hl=Xm=Do=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,K_(f,n,d);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":K_(f,n,d)}var b;if(av)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else No?hC(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(dC&&n.locale!=="ko"&&(No||C!=="onCompositionStart"?C==="onCompositionEnd"&&No&&(b=uC()):(ki=d,iv="value"in ki?ki.value:ki.textContent,No=!0)),M=ch(c,C),0<M.length&&(C=new L_(C,t,null,n,d),f.push({event:C,listeners:M}),b?C.data=b:(b=fC(n),b!==null&&(C.data=b)))),(b=oO?aO(t,n):lO(t,n))&&(c=ch(c,"onBeforeInput"),0<c.length&&(d=new L_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}CC(f,e)})}function vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ch(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dc(t,n),s!=null&&r.unshift(vc(t,s,i)),s=dc(t,e),s!=null&&r.push(vc(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dc(n,s),l!=null&&o.unshift(vc(n,l,a))):i||(l=dc(n,s),l!=null&&o.push(vc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TO=/\r\n?/g,xO=/\u0000|\uFFFD/g;function Y_(t){return(typeof t=="string"?t:""+t).replace(TO,`
`).replace(xO,"")}function Zu(t,e,n){if(e=Y_(e),Y_(t)!==e&&n)throw Error(z(425))}function uh(){}var Zm=null,eg=null;function tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,SO=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,CO=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(bO)}:ng;function bO(t){setTimeout(function(){throw t})}function Lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pc(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function J_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),dr="__reactFiber$"+La,wc="__reactProps$"+La,Hr="__reactContainer$"+La,rg="__reactEvents$"+La,IO="__reactListeners$"+La,PO="__reactHandles$"+La;function ks(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=J_(t);t!==null;){if(n=t[dr])return n;t=J_(t)}return e}t=n,n=t.parentNode}return null}function ru(t){return t=t[dr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function hf(t){return t[wc]||null}var ig=[],Vo=-1;function ds(t){return{current:t}}function Ue(t){0>Vo||(t.current=ig[Vo],ig[Vo]=null,Vo--)}function Me(t,e){Vo++,ig[Vo]=t.current,t.current=e}var Yi={},Kt=ds(Yi),un=ds(!1),qs=Yi;function va(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function dh(){Ue(un),Ue(Kt)}function Z_(t,e,n){if(Kt.current!==Yi)throw Error(z(168));Me(Kt,e),Me(un,n)}function IC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,h2(t)||"Unknown",i));return Ye({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,qs=Kt.current,Me(Kt,t),Me(un,un.current),!0}function eE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=IC(t,e,qs),r.__reactInternalMemoizedMergedChildContext=t,Ue(un),Ue(Kt),Me(Kt,t)):Ue(un),Me(un,n)}var Vr=null,ff=!1,Fp=!1;function PC(t){Vr===null?Vr=[t]:Vr.push(t)}function AO(t){ff=!0,PC(t)}function hs(){if(!Fp&&Vr!==null){Fp=!0;var t=0,e=ke;try{var n=Vr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,ff=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),ZS(ev,hs),i}finally{ke=e,Fp=!1}}return null}var Lo=[],Fo=0,fh=null,ph=0,Rn=[],kn=0,Gs=null,Lr=1,Fr="";function bs(t,e){Lo[Fo++]=ph,Lo[Fo++]=fh,fh=t,ph=e}function AC(t,e,n){Rn[kn++]=Lr,Rn[kn++]=Fr,Rn[kn++]=Gs,Gs=t;var r=Lr;t=Fr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-Xn(e)+i|n<<i|r,Fr=s+t}else Lr=1<<s|n<<i|r,Fr=t}function cv(t){t.return!==null&&(bs(t,1),AC(t,1,0))}function uv(t){for(;t===fh;)fh=Lo[--Fo],Lo[Fo]=null,ph=Lo[--Fo],Lo[Fo]=null;for(;t===Gs;)Gs=Rn[--kn],Rn[kn]=null,Fr=Rn[--kn],Rn[kn]=null,Lr=Rn[--kn],Rn[kn]=null}var wn=null,vn=null,ze=!1,Gn=null;function RC(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,vn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gs!==null?{id:Lr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,vn=null,!0):!1;default:return!1}}function sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function og(t){if(ze){var e=vn;if(e){var n=e;if(!tE(t,e)){if(sg(t))throw Error(z(418));e=Fi(n.nextSibling);var r=wn;e&&tE(t,e)?RC(r,n):(t.flags=t.flags&-4097|2,ze=!1,wn=t)}}else{if(sg(t))throw Error(z(418));t.flags=t.flags&-4097|2,ze=!1,wn=t}}}function nE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function ed(t){if(t!==wn)return!1;if(!ze)return nE(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tg(t.type,t.memoizedProps)),e&&(e=vn)){if(sg(t))throw kC(),Error(z(418));for(;e;)RC(t,e),e=Fi(e.nextSibling)}if(nE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=wn?Fi(t.stateNode.nextSibling):null;return!0}function kC(){for(var t=vn;t;)t=Fi(t.nextSibling)}function wa(){vn=wn=null,ze=!1}function dv(t){Gn===null?Gn=[t]:Gn.push(t)}var RO=ni.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rE(t){var e=t._init;return e(t._payload)}function NC(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=$i(v,y),v.index=0,v.sibling=null,v}function s(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,A){return y===null||y.tag!==6?(y=Hp(_,v.mode,A),y.return=v,y):(y=i(y,_),y.return=v,y)}function l(v,y,_,A){var N=_.type;return N===ko?d(v,y,_.props.children,A,_.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vi&&rE(N)===y.type)?(A=i(y,_.props),A.ref=Tl(v,y,_),A.return=v,A):(A=Vd(_.type,_.key,_.props,null,v.mode,A),A.ref=Tl(v,y,_),A.return=v,A)}function c(v,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Kp(_,v.mode,A),y.return=v,y):(y=i(y,_.children||[]),y.return=v,y)}function d(v,y,_,A,N){return y===null||y.tag!==7?(y=$s(_,v.mode,A,N),y.return=v,y):(y=i(y,_),y.return=v,y)}function f(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hp(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:return _=Vd(y.type,y.key,y.props,null,v.mode,_),_.ref=Tl(v,null,y),_.return=v,_;case Ro:return y=Kp(y,v.mode,_),y.return=v,y;case vi:var A=y._init;return f(v,A(y._payload),_)}if(Al(y)||yl(y))return y=$s(y,v.mode,_,null),y.return=v,y;td(v,y)}return null}function h(v,y,_,A){var N=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(v,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return _.key===N?l(v,y,_,A):null;case Ro:return _.key===N?c(v,y,_,A):null;case vi:return N=_._init,h(v,y,N(_._payload),A)}if(Al(_)||yl(_))return N!==null?null:d(v,y,_,A,null);td(v,_)}return null}function m(v,y,_,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,a(y,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wu:return v=v.get(A.key===null?_:A.key)||null,l(y,v,A,N);case Ro:return v=v.get(A.key===null?_:A.key)||null,c(y,v,A,N);case vi:var M=A._init;return m(v,y,_,M(A._payload),N)}if(Al(A)||yl(A))return v=v.get(_)||null,d(y,v,A,N,null);td(y,A)}return null}function T(v,y,_,A){for(var N=null,M=null,b=y,C=y=0,P=null;b!==null&&C<_.length;C++){b.index>C?(P=b,b=null):P=b.sibling;var R=h(v,b,_[C],A);if(R===null){b===null&&(b=P);break}t&&b&&R.alternate===null&&e(v,b),y=s(R,y,C),M===null?N=R:M.sibling=R,M=R,b=P}if(C===_.length)return n(v,b),ze&&bs(v,C),N;if(b===null){for(;C<_.length;C++)b=f(v,_[C],A),b!==null&&(y=s(b,y,C),M===null?N=b:M.sibling=b,M=b);return ze&&bs(v,C),N}for(b=r(v,b);C<_.length;C++)P=m(b,v,C,_[C],A),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?C:P.key),y=s(P,y,C),M===null?N=P:M.sibling=P,M=P);return t&&b.forEach(function(D){return e(v,D)}),ze&&bs(v,C),N}function g(v,y,_,A){var N=yl(_);if(typeof N!="function")throw Error(z(150));if(_=N.call(_),_==null)throw Error(z(151));for(var M=N=null,b=y,C=y=0,P=null,R=_.next();b!==null&&!R.done;C++,R=_.next()){b.index>C?(P=b,b=null):P=b.sibling;var D=h(v,b,R.value,A);if(D===null){b===null&&(b=P);break}t&&b&&D.alternate===null&&e(v,b),y=s(D,y,C),M===null?N=D:M.sibling=D,M=D,b=P}if(R.done)return n(v,b),ze&&bs(v,C),N;if(b===null){for(;!R.done;C++,R=_.next())R=f(v,R.value,A),R!==null&&(y=s(R,y,C),M===null?N=R:M.sibling=R,M=R);return ze&&bs(v,C),N}for(b=r(v,b);!R.done;C++,R=_.next())R=m(b,v,C,R.value,A),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),y=s(R,y,C),M===null?N=R:M.sibling=R,M=R);return t&&b.forEach(function(O){return e(v,O)}),ze&&bs(v,C),N}function S(v,y,_,A){if(typeof _=="object"&&_!==null&&_.type===ko&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:e:{for(var N=_.key,M=y;M!==null;){if(M.key===N){if(N=_.type,N===ko){if(M.tag===7){n(v,M.sibling),y=i(M,_.props.children),y.return=v,v=y;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vi&&rE(N)===M.type){n(v,M.sibling),y=i(M,_.props),y.ref=Tl(v,M,_),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===ko?(y=$s(_.props.children,v.mode,A,_.key),y.return=v,v=y):(A=Vd(_.type,_.key,_.props,null,v.mode,A),A.ref=Tl(v,y,_),A.return=v,v=A)}return o(v);case Ro:e:{for(M=_.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=i(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Kp(_,v.mode,A),y.return=v,v=y}return o(v);case vi:return M=_._init,S(v,y,M(_._payload),A)}if(Al(_))return T(v,y,_,A);if(yl(_))return g(v,y,_,A);td(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,_),y.return=v,v=y):(n(v,y),y=Hp(_,v.mode,A),y.return=v,v=y),o(v)):n(v,y)}return S}var _a=NC(!0),DC=NC(!1),mh=ds(null),gh=null,jo=null,hv=null;function fv(){hv=jo=gh=null}function pv(t){var e=mh.current;Ue(mh),t._currentValue=e}function ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){gh=t,hv=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(hv!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(gh===null)throw Error(z(308));jo=t,gh.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var Ns=null;function mv(t){Ns===null?Ns=[t]:Ns.push(t)}function OC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function gv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,mv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function Rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}function iE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yh(t,e,n,r){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,g=a;switch(h=e,m=n,g.tag){case 1:if(T=g.payload,typeof T=="function"){f=T.call(m,f,h);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=g.payload,h=typeof T=="function"?T.call(m,f,h):T,h==null)break e;f=Ye({},f,h);break e;case 2:wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ys|=o,t.lanes=o,t.memoizedState=f}}function sE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var iu={},pr=ds(iu),_c=ds(iu),Ec=ds(iu);function Ds(t){if(t===iu)throw Error(z(174));return t}function yv(t,e){switch(Me(Ec,e),Me(_c,t),Me(pr,iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bm(e,t)}Ue(pr),Me(pr,e)}function Ea(){Ue(pr),Ue(_c),Ue(Ec)}function VC(t){Ds(Ec.current);var e=Ds(pr.current),n=Bm(e,t.type);e!==n&&(Me(_c,t),Me(pr,n))}function vv(t){_c.current===t&&(Ue(pr),Ue(_c))}var Ke=ds(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jp=[];function wv(){for(var t=0;t<jp.length;t++)jp[t]._workInProgressVersionPrimary=null;jp.length=0}var kd=ni.ReactCurrentDispatcher,Up=ni.ReactCurrentBatchConfig,Qs=0,Qe=null,mt=null,Et=null,wh=!1,Kl=!1,Tc=0,kO=0;function Ft(){throw Error(z(321))}function _v(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function Ev(t,e,n,r,i,s){if(Qs=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kd.current=t===null||t.memoizedState===null?MO:VO,t=n(r,i),Kl){s=0;do{if(Kl=!1,Tc=0,25<=s)throw Error(z(301));s+=1,Et=mt=null,e.updateQueue=null,kd.current=LO,t=n(r,i)}while(Kl)}if(kd.current=_h,e=mt!==null&&mt.next!==null,Qs=0,Et=mt=Qe=null,wh=!1,e)throw Error(z(300));return t}function Tv(){var t=Tc!==0;return Tc=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=t:Et=Et.next=t,Et}function jn(){if(mt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Et===null?Qe.memoizedState:Et.next;if(e!==null)Et=e,mt=t;else{if(t===null)throw Error(z(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?Qe.memoizedState=Et=t:Et=Et.next=t}return Et}function xc(t,e){return typeof e=="function"?e(t):e}function Bp(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Qs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Qe.lanes|=d,Ys|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Zn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,Ys|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $p(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LC(){}function FC(t,e){var n=Qe,r=jn(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,xv(BC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Sc(9,UC.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(z(349));Qs&30||jC(n,e,i)}return i}function jC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UC(t,e,n,r){e.value=n,e.getSnapshot=r,$C(e)&&zC(t)}function BC(t,e,n){return n(function(){$C(e)&&zC(t)})}function $C(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function zC(t){var e=Kr(t,1);e!==null&&Jn(e,t,1,-1)}function oE(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:t},e.queue=t,t=t.dispatch=OO.bind(null,Qe,t),[e.memoizedState,t]}function Sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WC(){return jn().memoizedState}function Nd(t,e,n,r){var i=or();Qe.flags|=t,i.memoizedState=Sc(1|e,n,void 0,r===void 0?null:r)}function pf(t,e,n,r){var i=jn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&_v(r,o.deps)){i.memoizedState=Sc(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=Sc(1|e,n,s,r)}function aE(t,e){return Nd(8390656,8,t,e)}function xv(t,e){return pf(2048,8,t,e)}function HC(t,e){return pf(4,2,t,e)}function KC(t,e){return pf(4,4,t,e)}function qC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,n){return n=n!=null?n.concat([t]):null,pf(4,4,qC.bind(null,e,t),n)}function Sv(){}function QC(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YC(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XC(t,e,n){return Qs&21?(Zn(n,e)||(n=nC(),Qe.lanes|=n,Ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function NO(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Up.transition;Up.transition={};try{t(!1),e()}finally{ke=n,Up.transition=r}}function JC(){return jn().memoizedState}function DO(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZC(t))eb(e,n);else if(n=OC(t,e,n,r),n!==null){var i=tn();Jn(n,t,r,i),tb(n,e,r)}}function OO(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZC(t))eb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var l=e.interleaved;l===null?(i.next=i,mv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OC(t,e,i,r),n!==null&&(i=tn(),Jn(n,t,r,i),tb(n,e,r))}}function ZC(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function eb(t,e){Kl=wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}var _h={readContext:Fn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},MO={readContext:Fn,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:aE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nd(4194308,4,qC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DO.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:oE,useDebugValue:Sv,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=oE(!1),e=t[0];return t=NO.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=or();if(ze){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),xt===null)throw Error(z(349));Qs&30||jC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,aE(BC.bind(null,r,s,t),[t]),r.flags|=2048,Sc(9,UC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=xt.identifierPrefix;if(ze){var n=Fr,r=Lr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VO={readContext:Fn,useCallback:QC,useContext:Fn,useEffect:xv,useImperativeHandle:GC,useInsertionEffect:HC,useLayoutEffect:KC,useMemo:YC,useReducer:Bp,useRef:WC,useState:function(){return Bp(xc)},useDebugValue:Sv,useDeferredValue:function(t){var e=jn();return XC(e,mt.memoizedState,t)},useTransition:function(){var t=Bp(xc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1},LO={readContext:Fn,useCallback:QC,useContext:Fn,useEffect:xv,useImperativeHandle:GC,useInsertionEffect:HC,useLayoutEffect:KC,useMemo:YC,useReducer:$p,useRef:WC,useState:function(){return $p(xc)},useDebugValue:Sv,useDeferredValue:function(t){var e=jn();return mt===null?e.memoizedState=t:XC(e,mt.memoizedState,t)},useTransition:function(){var t=$p(xc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mf={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Bi(t),s=Br(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Jn(e,t,i,r),Rd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Bi(t),s=Br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Jn(e,t,i,r),Rd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Bi(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&(Jn(e,t,r,n),Rd(e,t,r))}};function lE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gc(n,r)||!gc(i,s):!0}function nb(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=dn(e)?qs:Kt.current,r=e.contextTypes,s=(r=r!=null)?va(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mf.enqueueReplaceState(e,e.state,null)}function cg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=dn(e)?qs:Kt.current,i.context=va(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mf.enqueueReplaceState(i,i.state,null),yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ta(t,e){try{var n="",r=e;do n+=d2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FO=typeof WeakMap=="function"?WeakMap:Map;function rb(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,_g=r),ug(t,e)},n}function ib(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ug(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JO.bind(null,t,e,n),e.then(t,t))}function dE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var jO=ni.ReactCurrentOwner,ln=!1;function Jt(t,e,n,r){e.child=t===null?DC(e,null,n,r):_a(e,t.child,n,r)}function fE(t,e,n,r,i){n=n.render;var s=e.ref;return Jo(e,i),r=Ev(t,e,n,r,s,i),n=Tv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(ze&&n&&cv(e),e.flags|=1,Jt(t,e,r,i),e.child)}function pE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sb(t,e,s,r,i)):(t=Vd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gc,n(o,r)&&t.ref===e.ref)return qr(t,e,i)}return e.flags|=1,t=$i(s,r),t.ref=e.ref,t.return=e,e.child=t}function sb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gc(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,qr(t,e,i)}return dg(t,e,n,r,i)}function ob(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Bo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Bo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Bo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Bo,gn),gn|=r;return Jt(t,e,i,n),e.child}function ab(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dg(t,e,n,r,i){var s=dn(n)?qs:Kt.current;return s=va(e,s),Jo(e,i),n=Ev(t,e,n,r,s,i),r=Tv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(ze&&r&&cv(e),e.flags|=1,Jt(t,e,n,i),e.child)}function mE(t,e,n,r,i){if(dn(n)){var s=!0;hh(e)}else s=!1;if(Jo(e,i),e.stateNode===null)Dd(t,e),nb(e,n,r),cg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=dn(n)?qs:Kt.current,c=va(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cE(e,o,r,c),wi=!1;var h=e.memoizedState;o.state=h,yh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||un.current||wi?(typeof d=="function"&&(lg(e,n,d,r),l=e.memoizedState),(a=wi||lE(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=dn(n)?qs:Kt.current,l=va(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&cE(e,o,r,l),wi=!1,h=e.memoizedState,o.state=h,yh(e,r,o,i);var T=e.memoizedState;a!==f||h!==T||un.current||wi?(typeof m=="function"&&(lg(e,n,m,r),T=e.memoizedState),(c=wi||lE(e,n,c,r,h,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return hg(t,e,n,r,s,i)}function hg(t,e,n,r,i,s){ab(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&eE(e,n,!1),qr(t,e,s);r=e.stateNode,jO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,s),e.child=_a(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&eE(e,n,!0),e.child}function lb(t){var e=t.stateNode;e.pendingContext?Z_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z_(t,e.context,!1),yv(t,e.containerInfo)}function gE(t,e,n,r,i){return wa(),dv(i),e.flags|=256,Jt(t,e,n,r),e.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function cb(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(Ke,i&1),t===null)return og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vf(o,r,0,null),t=$s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pg(n),e.memoizedState=fg,t):Cv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$i(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$i(a,s):(s=$s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fg,r}return s=t.child,t=s.sibling,r=$i(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cv(t,e){return e=vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&dv(r),_a(e,t.child,null,n),t=Cv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zp(Error(z(422))),nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vf({mode:"visible",children:r.children},i,0,null),s=$s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=pg(o),e.memoizedState=fg,s);if(!(e.mode&1))return nd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=zp(s,r,void 0),nd(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Jn(r,t,i,-1))}return kv(),r=zp(Error(z(421))),nd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=Fi(i.nextSibling),wn=e,ze=!0,Gn=null,t!==null&&(Rn[kn++]=Lr,Rn[kn++]=Fr,Rn[kn++]=Gs,Lr=t.id,Fr=t.overflow,Gs=e),e=Cv(e,r.children),e.flags|=4096,e)}function yE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ag(t.return,e,n)}function Wp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ub(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yE(t,n,e);else if(t.tag===19)yE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wp(e,!0,n,null,s);break;case"together":Wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=$i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BO(t,e,n){switch(e.tag){case 3:lb(e),wa();break;case 5:VC(e);break;case 1:dn(e.type)&&hh(e);break;case 4:yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?cb(t,e,n):(Me(Ke,Ke.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Me(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ub(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,ob(t,e,n)}return qr(t,e,n)}var db,mg,hb,fb;db=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mg=function(){};hb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ds(pr.current);var s=null;switch(n){case"input":i=Lm(t,i),r=Lm(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Um(t,i),r=Um(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}$m(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fb=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $O(t,e,n){var r=e.pendingProps;switch(uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return dn(e.type)&&dh(),jt(e),null;case 3:return r=e.stateNode,Ea(),Ue(un),Ue(Kt),wv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(xg(Gn),Gn=null))),mg(t,e),jt(e),null;case 5:vv(e);var i=Ds(Ec.current);if(n=e.type,t!==null&&e.stateNode!=null)hb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return jt(e),null}if(t=Ds(pr.current),ed(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[wc]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)Fe(kl[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":b_(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":P_(r,s),Fe("invalid",r)}$m(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",""+a]):cc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Hu(r),I_(r,s,!0);break;case"textarea":Hu(r),A_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[wc]=r,db(t,e,!1,!1),e.stateNode=t;e:{switch(o=zm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)Fe(kl[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":b_(t,r),i=Lm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":P_(t,r),i=Um(t,r),Fe("invalid",t);break;default:i=r}$m(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$S(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uc(t,l):typeof l=="number"&&uc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Qy(t,s,l,o))}switch(n){case"input":Hu(t),I_(t,r,!1);break;case"textarea":Hu(t),A_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Go(t,!!r.multiple,s,!1):r.defaultValue!=null&&Go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)fb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ds(Ec.current),Ds(pr.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return jt(e),null;case 13:if(Ue(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&vn!==null&&e.mode&1&&!(e.flags&128))kC(),wa(),e.flags|=98560,s=!1;else if(s=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[dr]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Gn!==null&&(xg(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):kv())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Ea(),mg(t,e),t===null&&yc(e.stateNode.containerInfo),jt(e),null;case 10:return pv(e.type._context),jt(e),null;case 17:return dn(e.type)&&dh(),jt(e),null;case 19:if(Ue(Ke),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vh(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>xa&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return jt(e),null}else 2*ot()-s.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ke.current,Me(Ke,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function zO(t,e){switch(uv(e),e.tag){case 1:return dn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ea(),Ue(un),Ue(Kt),wv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vv(e),null;case 13:if(Ue(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ke),null;case 4:return Ea(),null;case 10:return pv(e.type._context),null;case 22:case 23:return Rv(),null;case 24:return null;default:return null}}var rd=!1,zt=!1,WO=typeof WeakSet=="function"?WeakSet:Set,X=null;function Uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function gg(t,e,n){try{n()}catch(r){nt(t,e,r)}}var vE=!1;function HO(t,e){if(Zm=ah,t=vC(),lv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eg={focusedElem:t,selectionRange:n},ah=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var g=T.memoizedProps,S=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wn(e.type,g),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){nt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=vE,vE=!1,T}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gg(e,n,s)}i=i.next}while(i!==r)}}function gf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pb(t){var e=t.alternate;e!==null&&(t.alternate=null,pb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[wc],delete e[rg],delete e[IO],delete e[PO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mb(t){return t.tag===5||t.tag===3||t.tag===4}function wE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wg(t,e,n),t=t.sibling;t!==null;)wg(t,e,n),t=t.sibling}var bt=null,qn=!1;function di(t,e,n){for(n=n.child;n!==null;)gb(t,e,n),n=n.sibling}function gb(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(lf,n)}catch{}switch(n.tag){case 5:zt||Uo(n,e);case 6:var r=bt,i=qn;bt=null,di(t,e,n),bt=r,qn=i,bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?Lp(t.parentNode,n):t.nodeType===1&&Lp(t,n),pc(t)):Lp(bt,n.stateNode));break;case 4:r=bt,i=qn,bt=n.stateNode.containerInfo,qn=!0,di(t,e,n),bt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gg(n,e,o),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!zt&&(Uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,di(t,e,n),zt=r):di(t,e,n);break;default:di(t,e,n)}}function _E(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WO),e.forEach(function(r){var i=eM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,qn=!1;break e;case 3:bt=a.stateNode.containerInfo,qn=!0;break e;case 4:bt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(bt===null)throw Error(z(160));gb(s,o,i),bt=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yb(e,t),e=e.sibling}function yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),sr(t),r&4){try{ql(3,t,t.return),gf(3,t)}catch(g){nt(t,t.return,g)}try{ql(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:Bn(e,t),sr(t),r&512&&n!==null&&Uo(n,n.return);break;case 5:if(Bn(e,t),sr(t),r&512&&n!==null&&Uo(n,n.return),t.flags&32){var i=t.stateNode;try{uc(i,"")}catch(g){nt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jS(i,s),zm(a,o);var c=zm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?WS(i,f):d==="dangerouslySetInnerHTML"?$S(i,f):d==="children"?uc(i,f):Qy(i,d,f,c)}switch(a){case"input":Fm(i,s);break;case"textarea":US(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Go(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Go(i,!!s.multiple,s.defaultValue,!0):Go(i,!!s.multiple,s.multiple?[]:"",!1))}i[wc]=s}catch(g){nt(t,t.return,g)}}break;case 6:if(Bn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){nt(t,t.return,g)}}break;case 3:if(Bn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pc(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:Bn(e,t),sr(t);break;case 13:Bn(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pv=ot())),r&4&&_E(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||d,Bn(e,t),zt=c):Bn(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Uo(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:Uo(h,h.return);break;case 22:if(h.memoizedState!==null){TE(f);continue}}m!==null?(m.return=h,X=m):TE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zS("display",o))}catch(g){nt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){nt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),sr(t),r&4&&_E(t);break;case 21:break;default:Bn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(uc(i,""),r.flags&=-33);var s=wE(t);wg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wE(t);vg(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KO(t,e,n){X=t,vb(t)}function vb(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=rd;var c=zt;if(rd=o,(zt=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?xE(i):l!==null?(l.return=o,X=l):xE(i);for(;s!==null;)X=s,vb(s),s=s.sibling;X=i,rd=a,zt=c}EE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):EE(t)}}function EE(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||gf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}zt||e.flags&512&&yg(e)}catch(h){nt(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function TE(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function xE(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gf(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{yg(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{yg(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var qO=Math.ceil,Eh=ni.ReactCurrentDispatcher,bv=ni.ReactCurrentOwner,Vn=ni.ReactCurrentBatchConfig,Se=0,xt=null,ht=null,kt=0,gn=0,Bo=ds(0),yt=0,Cc=null,Ys=0,yf=0,Iv=0,Gl=null,an=null,Pv=0,xa=1/0,Mr=null,Th=!1,_g=null,Ui=null,id=!1,Ni=null,xh=0,Ql=0,Eg=null,Od=-1,Md=0;function tn(){return Se&6?ot():Od!==-1?Od:Od=ot()}function Bi(t){return t.mode&1?Se&2&&kt!==0?kt&-kt:RO.transition!==null?(Md===0&&(Md=nC()),Md):(t=ke,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function Jn(t,e,n,r){if(50<Ql)throw Ql=0,Eg=null,Error(z(185));tu(t,n,r),(!(Se&2)||t!==xt)&&(t===xt&&(!(Se&2)&&(yf|=n),yt===4&&Ei(t,kt)),hn(t,r),n===1&&Se===0&&!(e.mode&1)&&(xa=ot()+500,ff&&hs()))}function hn(t,e){var n=t.callbackNode;R2(t,e);var r=oh(t,t===xt?kt:0);if(r===0)n!==null&&N_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&N_(n),e===1)t.tag===0?AO(SE.bind(null,t)):PC(SE.bind(null,t)),CO(function(){!(Se&6)&&hs()}),n=null;else{switch(rC(r)){case 1:n=ev;break;case 4:n=eC;break;case 16:n=sh;break;case 536870912:n=tC;break;default:n=sh}n=bb(n,wb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wb(t,e){if(Od=-1,Md=0,Se&6)throw Error(z(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=oh(t,t===xt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var i=Se;Se|=2;var s=Eb();(xt!==t||kt!==e)&&(Mr=null,xa=ot()+500,Bs(t,e));do try{YO();break}catch(a){_b(t,a)}while(!0);fv(),Eh.current=s,Se=i,ht!==null?e=0:(xt=null,kt=0,e=yt)}if(e!==0){if(e===2&&(i=Gm(t),i!==0&&(r=i,e=Tg(t,i))),e===1)throw n=Cc,Bs(t,0),Ei(t,r),hn(t,ot()),n;if(e===6)Ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!GO(i)&&(e=Sh(t,r),e===2&&(s=Gm(t),s!==0&&(r=s,e=Tg(t,s))),e===1))throw n=Cc,Bs(t,0),Ei(t,r),hn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Is(t,an,Mr);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=Pv+500-ot(),10<e)){if(oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ng(Is.bind(null,t,an,Mr),e);break}Is(t,an,Mr);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qO(r/1960))-r,10<r){t.timeoutHandle=ng(Is.bind(null,t,an,Mr),r);break}Is(t,an,Mr);break;case 5:Is(t,an,Mr);break;default:throw Error(z(329))}}}return hn(t,ot()),t.callbackNode===n?wb.bind(null,t):null}function Tg(t,e){var n=Gl;return t.current.memoizedState.isDehydrated&&(Bs(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=an,an=n,e!==null&&xg(e)),t}function xg(t){an===null?an=t:an.push.apply(an,t)}function GO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~Iv,e&=~yf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function SE(t){if(Se&6)throw Error(z(327));Zo();var e=oh(t,0);if(!(e&1))return hn(t,ot()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=Gm(t);r!==0&&(e=r,n=Tg(t,r))}if(n===1)throw n=Cc,Bs(t,0),Ei(t,e),hn(t,ot()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,an,Mr),hn(t,ot()),null}function Av(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(xa=ot()+500,ff&&hs())}}function Xs(t){Ni!==null&&Ni.tag===0&&!(Se&6)&&Zo();var e=Se;Se|=1;var n=Vn.transition,r=ke;try{if(Vn.transition=null,ke=1,t)return t()}finally{ke=r,Vn.transition=n,Se=e,!(Se&6)&&hs()}}function Rv(){gn=Bo.current,Ue(Bo)}function Bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:Ea(),Ue(un),Ue(Kt),wv();break;case 5:vv(r);break;case 4:Ea();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:pv(r.type._context);break;case 22:case 23:Rv()}n=n.return}if(xt=t,ht=t=$i(t.current,null),kt=gn=e,yt=0,Cc=null,Iv=yf=Ys=0,an=Gl=null,Ns!==null){for(e=0;e<Ns.length;e++)if(n=Ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return t}function _b(t,e){do{var n=ht;try{if(fv(),kd.current=_h,wh){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wh=!1}if(Qs=0,Et=mt=Qe=null,Kl=!1,Tc=0,bv.current=null,n===null||n.return===null){yt=1,Cc=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=dE(o);if(m!==null){m.flags&=-257,hE(m,o,a,s,e),m.mode&1&&uE(s,c,e),e=m,l=c;var T=e.updateQueue;if(T===null){var g=new Set;g.add(l),e.updateQueue=g}else T.add(l);break e}else{if(!(e&1)){uE(s,c,e),kv();break e}l=Error(z(426))}}else if(ze&&a.mode&1){var S=dE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hE(S,o,a,s,e),dv(Ta(l,a));break e}}s=l=Ta(l,a),yt!==4&&(yt=2),Gl===null?Gl=[s]:Gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=rb(s,l,e);iE(s,v);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ui===null||!Ui.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=ib(s,a,e);iE(s,A);break e}}s=s.return}while(s!==null)}xb(n)}catch(N){e=N,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Eb(){var t=Eh.current;return Eh.current=_h,t===null?_h:t}function kv(){(yt===0||yt===3||yt===2)&&(yt=4),xt===null||!(Ys&268435455)&&!(yf&268435455)||Ei(xt,kt)}function Sh(t,e){var n=Se;Se|=2;var r=Eb();(xt!==t||kt!==e)&&(Mr=null,Bs(t,e));do try{QO();break}catch(i){_b(t,i)}while(!0);if(fv(),Se=n,Eh.current=r,ht!==null)throw Error(z(261));return xt=null,kt=0,yt}function QO(){for(;ht!==null;)Tb(ht)}function YO(){for(;ht!==null&&!E2();)Tb(ht)}function Tb(t){var e=Cb(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?xb(t):ht=e,bv.current=null}function xb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ht=null;return}}else if(n=$O(n,e,gn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);yt===0&&(yt=5)}function Is(t,e,n){var r=ke,i=Vn.transition;try{Vn.transition=null,ke=1,XO(t,e,n,r)}finally{Vn.transition=i,ke=r}return null}function XO(t,e,n,r){do Zo();while(Ni!==null);if(Se&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(k2(t,s),t===xt&&(ht=xt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,bb(sh,function(){return Zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=ke;ke=1;var a=Se;Se|=4,bv.current=null,HO(t,n),yb(n,t),yO(eg),ah=!!Zm,eg=Zm=null,t.current=n,KO(n),T2(),Se=a,ke=o,Vn.transition=s}else t.current=n;if(id&&(id=!1,Ni=t,xh=i),s=t.pendingLanes,s===0&&(Ui=null),C2(n.stateNode),hn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=_g,_g=null,t;return xh&1&&t.tag!==0&&Zo(),s=t.pendingLanes,s&1?t===Eg?Ql++:(Ql=0,Eg=t):Ql=0,hs(),null}function Zo(){if(Ni!==null){var t=rC(xh),e=Vn.transition,n=ke;try{if(Vn.transition=null,ke=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,xh=0,Se&6)throw Error(z(331));var i=Se;for(Se|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ql(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,m=d.return;if(pb(d),d===c){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var T=s.alternate;if(T!==null){var g=T.child;if(g!==null){T.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ql(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,X=v;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,X=_;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gf(9,a)}}catch(N){nt(a,a.return,N)}if(a===o){X=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,X=A;break e}X=a.return}}if(Se=i,hs(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(lf,t)}catch{}r=!0}return r}finally{ke=n,Vn.transition=e}}return!1}function CE(t,e,n){e=Ta(n,e),e=rb(t,e,1),t=ji(t,e,1),e=tn(),t!==null&&(tu(t,1,e),hn(t,e))}function nt(t,e,n){if(t.tag===3)CE(t,t,n);else for(;e!==null;){if(e.tag===3){CE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=Ta(n,t),t=ib(e,t,1),e=ji(e,t,1),t=tn(),e!==null&&(tu(e,1,t),hn(e,t));break}}e=e.return}}function JO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(kt&n)===n&&(yt===4||yt===3&&(kt&130023424)===kt&&500>ot()-Pv?Bs(t,0):Iv|=n),hn(t,e)}function Sb(t,e){e===0&&(t.mode&1?(e=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):e=1);var n=tn();t=Kr(t,e),t!==null&&(tu(t,e,n),hn(t,n))}function ZO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sb(t,n)}function eM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Sb(t,n)}var Cb;Cb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,BO(t,e,n);ln=!!(t.flags&131072)}else ln=!1,ze&&e.flags&1048576&&AC(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=va(e,Kt.current);Jo(e,n),i=Ev(null,e,r,t,i,n);var s=Tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,hh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gv(e),i.updater=mf,e.stateNode=i,i._reactInternals=e,cg(e,r,t,n),e=hg(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&cv(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nM(r),t=Wn(r,t),i){case 0:e=dg(null,e,r,t,n);break e;case 1:e=mE(null,e,r,t,n);break e;case 11:e=fE(null,e,r,t,n);break e;case 14:e=pE(null,e,r,Wn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),dg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),mE(t,e,r,i,n);case 3:e:{if(lb(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MC(t,e),yh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ta(Error(z(423)),e),e=gE(t,e,r,n,i);break e}else if(r!==i){i=Ta(Error(z(424)),e),e=gE(t,e,r,n,i);break e}else for(vn=Fi(e.stateNode.containerInfo.firstChild),wn=e,ze=!0,Gn=null,n=DC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===i){e=qr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return VC(e),t===null&&og(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tg(r,i)?o=null:s!==null&&tg(r,s)&&(e.flags|=32),ab(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&og(e),null;case 13:return cb(t,e,n);case 4:return yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),fE(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(mh,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!un.current){e=qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Br(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ag(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ag(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jo(e,n),i=Fn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),pE(t,e,r,i,n);case 15:return sb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Dd(t,e),e.tag=1,dn(r)?(t=!0,hh(e)):t=!1,Jo(e,n),nb(e,r,i),cg(e,r,i,n),hg(null,e,r,!0,t,n);case 19:return ub(t,e,n);case 22:return ob(t,e,n)}throw Error(z(156,e.tag))};function bb(t,e){return ZS(t,e)}function tM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new tM(t,e,n,r)}function Nv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nM(t){if(typeof t=="function")return Nv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xy)return 11;if(t===Jy)return 14}return 2}function $i(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ko:return $s(n.children,i,s,e);case Yy:o=8,i|=8;break;case Dm:return t=Mn(12,n,e,i|2),t.elementType=Dm,t.lanes=s,t;case Om:return t=Mn(13,n,e,i),t.elementType=Om,t.lanes=s,t;case Mm:return t=Mn(19,n,e,i),t.elementType=Mm,t.lanes=s,t;case VS:return vf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:o=10;break e;case MS:o=9;break e;case Xy:o=11;break e;case Jy:o=14;break e;case vi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $s(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function vf(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=VS,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Kp(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dv(t,e,n,r,i,s,o,a,l){return t=new rM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(s),t}function iM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ib(t){if(!t)return Yi;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(dn(n))return IC(t,n,e)}return e}function Pb(t,e,n,r,i,s,o,a,l){return t=Dv(n,r,!0,t,i,s,o,a,l),t.context=Ib(null),n=t.current,r=tn(),i=Bi(n),s=Br(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,tu(t,i,r),hn(t,r),t}function wf(t,e,n,r){var i=e.current,s=tn(),o=Bi(i);return n=Ib(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&(Jn(t,i,o,s),Rd(t,i,o)),o}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ov(t,e){bE(t,e),(t=t.alternate)&&bE(t,e)}function sM(){return null}var Ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mv(t){this._internalRoot=t}_f.prototype.render=Mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));wf(t,e,null,null)};_f.prototype.unmount=Mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xs(function(){wf(null,t,null,null)}),e[Hr]=null}};function _f(t){this._internalRoot=t}_f.prototype.unstable_scheduleHydration=function(t){if(t){var e=oC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&lC(t)}};function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IE(){}function oM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ch(o);s.call(c)}}var o=Pb(e,r,t,0,null,!1,!1,"",IE);return t._reactRootContainer=o,t[Hr]=o.current,yc(t.nodeType===8?t.parentNode:t),Xs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ch(l);a.call(c)}}var l=Dv(t,0,!1,null,null,!1,!1,"",IE);return t._reactRootContainer=l,t[Hr]=l.current,yc(t.nodeType===8?t.parentNode:t),Xs(function(){wf(e,l,n,r)}),l}function Tf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ch(o);a.call(l)}}wf(e,o,t,i)}else o=oM(n,e,t,i,r);return Ch(o)}iC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rl(e.pendingLanes);n!==0&&(tv(e,n|1),hn(e,ot()),!(Se&6)&&(xa=ot()+500,hs()))}break;case 13:Xs(function(){var r=Kr(t,1);if(r!==null){var i=tn();Jn(r,t,1,i)}}),Ov(t,1)}};nv=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=tn();Jn(e,t,134217728,n)}Ov(t,134217728)}};sC=function(t){if(t.tag===13){var e=Bi(t),n=Kr(t,e);if(n!==null){var r=tn();Jn(n,t,e,r)}Ov(t,e)}};oC=function(){return ke};aC=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Hm=function(t,e,n){switch(e){case"input":if(Fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hf(r);if(!i)throw Error(z(90));FS(r),Fm(r,i)}}}break;case"textarea":US(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};qS=Av;GS=Xs;var aM={usingClientEntryPoint:!1,Events:[ru,Mo,hf,HS,KS,Av]},Sl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lM={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XS(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||sM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{lf=sd.inject(lM),fr=sd}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(e))throw Error(z(200));return iM(t,e,null,n)};Sn.createRoot=function(t,e){if(!Vv(t))throw Error(z(299));var n=!1,r="",i=Ab;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dv(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,yc(t.nodeType===8?t.parentNode:t),new Mv(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=XS(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Xs(t)};Sn.hydrate=function(t,e,n){if(!Ef(e))throw Error(z(200));return Tf(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Vv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ab;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pb(e,null,t,1,n??null,i,!1,s,o),t[Hr]=e.current,yc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _f(e)};Sn.render=function(t,e,n){if(!Ef(e))throw Error(z(200));return Tf(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Ef(t))throw Error(z(40));return t._reactRootContainer?(Xs(function(){Tf(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};Sn.unstable_batchedUpdates=Av;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ef(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Tf(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(t){console.error(t)}}Rb(),RS.exports=Sn;var uo=RS.exports;const kb=yS(uo);var Nb,PE=uo;Nb=PE.createRoot,PE.hydrateRoot;const cM=1,uM=1e6;let qp=0;function dM(){return qp=(qp+1)%Number.MAX_SAFE_INTEGER,qp.toString()}const Gp=new Map,AE=t=>{if(Gp.has(t))return;const e=setTimeout(()=>{Gp.delete(t),Yl({type:"REMOVE_TOAST",toastId:t})},uM);Gp.set(t,e)},hM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,cM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?AE(n):t.toasts.forEach(r=>{AE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ld=[];let Fd={toasts:[]};function Yl(t){Fd=hM(Fd,t),Ld.forEach(e=>{e(Fd)})}function fM({...t}){const e=dM(),n=i=>Yl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Yl({type:"DISMISS_TOAST",toastId:e});return Yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Lv(){const[t,e]=E.useState(Fd);return E.useEffect(()=>(Ld.push(e),()=>{const n=Ld.indexOf(e);n>-1&&Ld.splice(n,1)}),[t]),{...t,toast:fM,dismiss:n=>Yl({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pM(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Db(...t){return e=>t.forEach(n=>pM(n,e))}function rt(...t){return E.useCallback(Db(...t),t)}function mM(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...T}=f,g=(h==null?void 0:h[t][l])||a,S=E.useMemo(()=>T,Object.values(T));return x.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,T=E.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,gM(i,...e)]}function gM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sa=E.forwardRef((t,e)=>{const{children:n,...r}=t,i=E.Children.toArray(n),s=i.find(yM);if(s){const o=s.props.children,a=i.map(l=>l===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:l);return x.jsx(Sg,{...r,ref:e,children:E.isValidElement(o)?E.cloneElement(o,void 0,a):null})}return x.jsx(Sg,{...r,ref:e,children:n})});Sa.displayName="Slot";var Sg=E.forwardRef((t,e)=>{const{children:n,...r}=t;if(E.isValidElement(n)){const i=wM(n);return E.cloneElement(n,{...vM(r,n.props),ref:e?Db(e,i):i})}return E.Children.count(n)>1?E.Children.only(null):null});Sg.displayName="SlotClone";var Ob=({children:t})=>x.jsx(x.Fragment,{children:t});function yM(t){return E.isValidElement(t)&&t.type===Ob}function vM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function wM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mb(t){const e=t+"CollectionProvider",[n,r]=mM(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:T,children:g}=m,S=H.useRef(null),v=H.useRef(new Map).current;return x.jsx(i,{scope:T,itemMap:v,collectionRef:S,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((m,T)=>{const{scope:g,children:S}=m,v=s(a,g),y=rt(T,v.collectionRef);return x.jsx(Sa,{ref:y,children:S})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=H.forwardRef((m,T)=>{const{scope:g,children:S,...v}=m,y=H.useRef(null),_=rt(T,y),A=s(c,g);return H.useEffect(()=>(A.itemMap.set(y,{ref:y,...v}),()=>void A.itemMap.delete(y))),x.jsx(Sa,{[d]:"",ref:_,children:S})});f.displayName=c;function h(m){const T=s(t+"CollectionConsumer",m);return H.useCallback(()=>{const S=T.collectionRef.current;if(!S)return[];const v=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((A,N)=>v.indexOf(A.ref.current)-v.indexOf(N.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function Fv(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];const c=f=>{var v;const{scope:h,children:m,...T}=f,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,S=E.useMemo(()=>T,Object.values(T));return x.jsx(g.Provider,{value:S,children:m})};c.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,T=E.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,_M(i,...e)]}function _M(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var EM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=EM.reduce((t,e)=>{const n=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Sa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Vb(t,e){t&&uo.flushSync(()=>t.dispatchEvent(e))}function Tn(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TM(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xM="DismissableLayer",Cg="dismissableLayer.update",SM="dismissableLayer.pointerDownOutside",CM="dismissableLayer.focusOutside",RE,Lb=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xf=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=E.useContext(Lb),[d,f]=E.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),T=rt(e,b=>f(b)),g=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(S),y=d?g.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=v,N=IM(b=>{const C=b.target,P=[...c.branches].some(R=>R.contains(C));!A||P||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),M=PM(b=>{const C=b.target;[...c.branches].some(R=>R.contains(C))||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return TM(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),E.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),kE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RE)}},[d,h,n,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),kE())},[d,c]),E.useEffect(()=>{const b=()=>m({});return document.addEventListener(Cg,b),()=>document.removeEventListener(Cg,b)},[]),x.jsx(De.div,{...l,ref:T,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,M.onFocusCapture),onBlurCapture:we(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,N.onPointerDownCapture)})});xf.displayName=xM;var bM="DismissableLayerBranch",Fb=E.forwardRef((t,e)=>{const n=E.useContext(Lb),r=E.useRef(null),i=rt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(De.div,{...t,ref:i})});Fb.displayName=bM;function IM(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){jb(SM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PM(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&jb(CM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kE(){const t=new CustomEvent(Cg);document.dispatchEvent(t)}function jb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Vb(i,s):i.dispatchEvent(s)}var AM=xf,RM=Fb,qt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},kM="Portal",jv=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=E.useState(!1);qt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kb.createPortal(x.jsx(De.div,{...r,ref:e}),o):null});jv.displayName=kM;function NM(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Uv=t=>{const{present:e,children:n}=t,r=DM(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=rt(r.ref,OM(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Uv.displayName="Presence";function DM(t){const[e,n]=E.useState(),r=E.useRef({}),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,l]=NM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=od(r.current);s.current=a==="mounted"?c:"none"},[a]),qt(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,m=od(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),qt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=od(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},h=m=>{m.target===e&&(s.current=od(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function od(t){return(t==null?void 0:t.animationName)||"none"}function OM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=MM({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Tn(n),l=E.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function MM({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,i=E.useRef(r),s=Tn(e);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var VM="VisuallyHidden",su=E.forwardRef((t,e)=>x.jsx(De.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));su.displayName=VM;var LM=su,Bv="ToastProvider",[$v,FM,jM]=Mb("Toast"),[Ub,dq]=Fv("Toast",[jM]),[UM,Sf]=Ub(Bv),Bb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=E.useState(null),[c,d]=E.useState(0),f=E.useRef(!1),h=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bv}\`. Expected non-empty \`string\`.`),x.jsx($v.Provider,{scope:e,children:x.jsx(UM,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>d(m=>m+1),[]),onToastRemove:E.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Bb.displayName=Bv;var $b="ToastViewport",BM=["F8"],Ig="toast.viewportPause",Pg="toast.viewportResume",zb=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=BM,label:i="Notifications ({hotkey})",...s}=t,o=Sf($b,n),a=FM(n),l=E.useRef(null),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),h=rt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;E.useEffect(()=>{const S=v=>{var _;r.length!==0&&r.every(A=>v[A]||v.code===A)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),E.useEffect(()=>{const S=l.current,v=f.current;if(T&&S&&v){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Ig);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Pg);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!S.contains(M.relatedTarget)&&_()},N=()=>{S.contains(document.activeElement)||_()};return S.addEventListener("focusin",y),S.addEventListener("focusout",A),S.addEventListener("pointermove",y),S.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{S.removeEventListener("focusin",y),S.removeEventListener("focusout",A),S.removeEventListener("pointermove",y),S.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[T,o.isClosePausedRef]);const g=E.useCallback(({tabbingDirection:S})=>{const y=a().map(_=>{const A=_.ref.current,N=[A,...eV(A)];return S==="forwards"?N:N.reverse()});return(S==="forwards"?y.reverse():y).flat()},[a]);return E.useEffect(()=>{const S=f.current;if(S){const v=y=>{var N,M,b;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const C=document.activeElement,P=y.shiftKey;if(y.target===S&&P){(N=c.current)==null||N.focus();return}const O=g({tabbingDirection:P?"backwards":"forwards"}),k=O.findIndex(W=>W===C);Qp(O.slice(k+1))?y.preventDefault():P?(M=c.current)==null||M.focus():(b=d.current)==null||b.focus()}};return S.addEventListener("keydown",v),()=>S.removeEventListener("keydown",v)}},[a,g]),x.jsxs(RM,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&x.jsx(Ag,{ref:c,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});Qp(S)}}),x.jsx($v.Slot,{scope:n,children:x.jsx(De.ol,{tabIndex:-1,...s,ref:h})}),T&&x.jsx(Ag,{ref:d,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});Qp(S)}})]})});zb.displayName=$b;var Wb="ToastFocusProxy",Ag=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Sf(Wb,n);return x.jsx(su,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Ag.displayName=Wb;var Cf="Toast",$M="toast.swipeStart",zM="toast.swipeMove",WM="toast.swipeCancel",HM="toast.swipeEnd",Hb=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=bg({prop:r,defaultProp:i,onChange:s});return x.jsx(Uv,{present:n||a,children:x.jsx(GM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Tn(t.onPause),onResume:Tn(t.onResume),onSwipeStart:we(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Hb.displayName=Cf;var[KM,qM]=Ub(Cf,{onClose(){}}),GM=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...T}=t,g=Sf(Cf,n),[S,v]=E.useState(null),y=rt(e,W=>v(W)),_=E.useRef(null),A=E.useRef(null),N=i||g.duration,M=E.useRef(0),b=E.useRef(N),C=E.useRef(0),{onToastAdd:P,onToastRemove:R}=g,D=Tn(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),O=E.useCallback(W=>{!W||W===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(D,W))},[D]);E.useEffect(()=>{const W=g.viewport;if(W){const re=()=>{O(b.current),c==null||c()},J=()=>{const G=new Date().getTime()-M.current;b.current=b.current-G,window.clearTimeout(C.current),l==null||l()};return W.addEventListener(Ig,J),W.addEventListener(Pg,re),()=>{W.removeEventListener(Ig,J),W.removeEventListener(Pg,re)}}},[g.viewport,N,l,c,O]),E.useEffect(()=>{s&&!g.isClosePausedRef.current&&O(N)},[s,N,g.isClosePausedRef,O]),E.useEffect(()=>(P(),()=>R()),[P,R]);const k=E.useMemo(()=>S?Jb(S):null,[S]);return g.viewport?x.jsxs(x.Fragment,{children:[k&&x.jsx(QM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),x.jsx(KM,{scope:n,onClose:D,children:uo.createPortal(x.jsx($v.ItemSlot,{scope:n,children:x.jsx(AM,{asChild:!0,onEscapeKeyDown:we(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:we(t.onPointerDown,W=>{W.button===0&&(_.current={x:W.clientX,y:W.clientY})}),onPointerMove:we(t.onPointerMove,W=>{if(!_.current)return;const re=W.clientX-_.current.x,J=W.clientY-_.current.y,G=!!A.current,L=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=L?$(0,re):0,q=L?0:$(0,J),Z=W.pointerType==="touch"?10:2,ne={x:Q,y:q},Ce={originalEvent:W,delta:ne};G?(A.current=ne,ad(zM,f,Ce,{discrete:!1})):NE(ne,g.swipeDirection,Z)?(A.current=ne,ad($M,d,Ce,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(re)>Z||Math.abs(J)>Z)&&(_.current=null)}),onPointerUp:we(t.onPointerUp,W=>{const re=A.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),A.current=null,_.current=null,re){const G=W.currentTarget,L={originalEvent:W,delta:re};NE(re,g.swipeDirection,g.swipeThreshold)?ad(HM,m,L,{discrete:!0}):ad(WM,h,L,{discrete:!0}),G.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),QM=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sf(Cf,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return JM(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.jsx(jv,{asChild:!0,children:x.jsx(su,{...r,children:s&&x.jsxs(x.Fragment,{children:[i.label," ",n]})})})},YM="ToastTitle",Kb=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(De.div,{...r,ref:e})});Kb.displayName=YM;var XM="ToastDescription",qb=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(De.div,{...r,ref:e})});qb.displayName=XM;var Gb="ToastAction",Qb=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(Xb,{altText:n,asChild:!0,children:x.jsx(zv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gb}\`. Expected non-empty \`string\`.`),null)});Qb.displayName=Gb;var Yb="ToastClose",zv=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=qM(Yb,n);return x.jsx(Xb,{asChild:!0,children:x.jsx(De.button,{type:"button",...r,ref:e,onClick:we(t.onClick,i.onClose)})})});zv.displayName=Yb;var Xb=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return x.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Jb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ZM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Jb(r))}}),e}function ad(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Vb(i,s):i.dispatchEvent(s)}var NE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function JM(t=()=>{}){const e=Tn(t);qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ZM(t){return t.nodeType===t.ELEMENT_NODE}function eV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tV=Bb,Zb=zb,eI=Hb,tI=Kb,nI=qb,rI=Qb,iI=zv;function sI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sI(t))&&(r&&(r+=" "),r+=e);return r}const DE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OE=oI,Wv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return OE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=DE(d)||DE(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(T=>{let[g,S]=T;return Array.isArray(S)?S.includes({...s,...a}[g]):{...s,...a}[g]===S})?[...c,f,h]:c},[]);return OE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...rV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aI("lucide",i),...a},[...o.map(([c,d])=>E.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(iV,{ref:s,iconNode:e,className:aI(`lucide-${nV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=wt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=wt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=wt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=wt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=wt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=wt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=wt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qv="-",fV=t=>{const e=mV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qv);return a[0]===""&&a.length!==1&&a.shift(),hI(a,e)||pV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},hI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?hI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},ME=/^\[(.+)\]$/,pV=t=>{if(ME.test(t)){const e=ME.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yV(Object.entries(t.classGroups),n).forEach(([s,o])=>{Ng(o,r,s,e)}),r},Ng=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(gV(i)){Ng(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Ng(o,VE(e,s),n,r)})})},VE=(t,e)=>{let n=t;return e.split(qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gV=t=>t.isThemeGetter,yV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,vV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fI="!",wV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let S=0;S<a.length;S++){let v=a[S];if(c===0){if(v===i&&(r||a.slice(S,S+s)===e)){l.push(a.slice(d,S)),d=S+s;continue}if(v==="/"){f=S;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(fI),T=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},_V=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},EV=t=>({cache:vV(t.cacheSize),parseClassName:wV(t),...fV(t)}),TV=/\s+/,xV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(TV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let T=!!m,g=r(T?h.substring(0,m):h);if(!g){if(!T){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}T=!1}const S=_V(d).join(":"),v=f?S+fI:S,y=v+g;if(s.includes(y))continue;s.push(y);const _=i(g,T);for(let A=0;A<_.length;++A){const N=_[A];s.push(v+N)}a=c+(a.length>0?" "+a:a)}return a};function SV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pI(e))&&(r&&(r+=" "),r+=n);return r}const pI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pI(t[r]))&&(n&&(n+=" "),n+=e);return n};function CV(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=EV(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=xV(l,n);return i(l,d),d}return function(){return s(SV.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mI=/^\[(?:([a-z-]+):)?(.+)\]$/i,bV=/^\d+\/\d+$/,IV=new Set(["px","full","screen"]),PV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=t=>ea(t)||IV.has(t)||bV.test(t),hi=t=>Fa(t,"length",UV),ea=t=>!!t&&!Number.isNaN(Number(t)),Yp=t=>Fa(t,"number",ea),Cl=t=>!!t&&Number.isInteger(Number(t)),DV=t=>t.endsWith("%")&&ea(t.slice(0,-1)),de=t=>mI.test(t),fi=t=>PV.test(t),OV=new Set(["length","size","percentage"]),MV=t=>Fa(t,OV,gI),VV=t=>Fa(t,"position",gI),LV=new Set(["image","url"]),FV=t=>Fa(t,LV,$V),jV=t=>Fa(t,"",BV),bl=()=>!0,Fa=(t,e,n)=>{const r=mI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UV=t=>AV.test(t)&&!RV.test(t),gI=()=>!1,BV=t=>kV.test(t),$V=t=>NV.test(t),zV=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),i=Le("borderColor"),s=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),l=Le("contrast"),c=Le("grayscale"),d=Le("hueRotate"),f=Le("invert"),h=Le("gap"),m=Le("gradientColorStops"),T=Le("gradientColorStopPositions"),g=Le("inset"),S=Le("margin"),v=Le("opacity"),y=Le("padding"),_=Le("saturate"),A=Le("scale"),N=Le("sepia"),M=Le("skew"),b=Le("space"),C=Le("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",de,e],O=()=>[de,e],k=()=>["",Dr,hi],W=()=>["auto",ea,de],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",de],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ea,de];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[Dr,hi],blur:["none","",fi,de],brightness:q(),borderColor:[t],borderRadius:["none","","full",fi,de],borderSpacing:O(),borderWidth:k(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[DV,hi],inset:D(),margin:D(),opacity:q(),padding:O(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[fi]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),de]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,de]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Cl,de]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",Cl,de]},de]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[Cl,de]},de]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[fi]},fi]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fi,hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yp]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",ea,Yp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,hi]}],"underline-offset":[{"underline-offset":["auto",Dr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),VV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Dr,de]}],"outline-w":[{outline:[Dr,hi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Dr,hi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fi,jV]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fi,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Cl,de]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dr,hi,Yp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WV=CV(zV);function He(...t){return WV(oI(t))}const HV=tV,yI=E.forwardRef(({className:t,...e},n)=>x.jsx(Zb,{ref:n,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yI.displayName=Zb.displayName;const KV=Wv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vI=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(eI,{ref:r,className:He(KV({variant:e}),t),...n}));vI.displayName=eI.displayName;const qV=E.forwardRef(({className:t,...e},n)=>x.jsx(rI,{ref:n,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));qV.displayName=rI.displayName;const wI=E.forwardRef(({className:t,...e},n)=>x.jsx(iI,{ref:n,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(Kv,{className:"h-4 w-4"})}));wI.displayName=iI.displayName;const _I=E.forwardRef(({className:t,...e},n)=>x.jsx(tI,{ref:n,className:He("text-sm font-semibold",t),...e}));_I.displayName=tI.displayName;const EI=E.forwardRef(({className:t,...e},n)=>x.jsx(nI,{ref:n,className:He("text-sm opacity-90",t),...e}));EI.displayName=nI.displayName;function GV(){const{toasts:t}=Lv();return x.jsxs(HV,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return x.jsxs(vI,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(_I,{children:n}),r&&x.jsx(EI,{children:r})]}),i,x.jsx(wI,{})]},e)}),x.jsx(yI,{})]})}var LE=["light","dark"],QV="(prefers-color-scheme: dark)",YV=E.createContext(void 0),XV={setTheme:t=>{},themes:[]},JV=()=>{var t;return(t=E.useContext(YV))!=null?t:XV};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?LE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(T,g=!1,S=!0)=>{let v=o?o[T]:T,y=g?T+"|| ''":`'${v}'`,_="";return i&&S&&!g&&LE.includes(T)&&(_+=`d.style.colorScheme = '${T}';`),n==="class"?g||v?_+=`c.add(${y})`:_+="null":v&&(_+=`d[s](n,${y})`),_},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${QV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var ZV=t=>{switch(t){case"success":return nL;case"info":return iL;case"warning":return rL;case"error":return sL;default:return null}},eL=Array(12).fill(0),tL=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},eL.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oL=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Dg=1,aL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Dg++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(cL(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Dg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},mn=new aL,lL=(t,e)=>{let n=(e==null?void 0:e.id)||Dg++;return mn.addToast({title:t,...e,id:n}),n},cL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uL=lL,dL=()=>mn.toasts;Object.assign(uL,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:dL});function hL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}hL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ld(t){return t.label!==void 0}var fL=3,pL="32px",mL=4e3,gL=356,yL=14,vL=20,wL=200;function _L(...t){return t.filter(Boolean).join(" ")}var EL=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:f,toast:h,unstyled:m,interacting:T,setHeights:g,visibleToasts:S,heights:v,index:y,toasts:_,expanded:A,removeToast:N,defaultRichColors:M,closeButton:b,style:C,cancelButtonStyle:P,actionButtonStyle:R,className:D="",descriptionClassName:O="",duration:k,position:W,gap:re,loadingIcon:J,expandByDefault:G,classNames:L,icons:$,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:q,cn:Z}=t,[ne,Ce]=H.useState(!1),[Be,pe]=H.useState(!1),[ee,xe]=H.useState(!1),[$e,me]=H.useState(!1),[Ee,ye]=H.useState(0),[pt,St]=H.useState(0),bn=H.useRef(null),Qt=H.useRef(null),Pr=y===0,tl=y+1<=S,lt=h.type,rr=h.dismissible!==!1,Cu=h.className||"",sp=h.descriptionClassName||"",si=H.useMemo(()=>v.findIndex(le=>le.toastId===h.id)||0,[v,h.id]),nl=H.useMemo(()=>{var le;return(le=h.closeButton)!=null?le:b},[h.closeButton,b]),rl=H.useMemo(()=>h.duration||k||mL,[h.duration,k]),ct=H.useRef(0),Je=H.useRef(0),_s=H.useRef(0),Ar=H.useRef(null),[il,op]=W.split("-"),oi=H.useMemo(()=>v.reduce((le,Ne,Re)=>Re>=si?le:le+Ne.height,0),[v,si]),sl=oL(),bu=h.invert||f,Es=lt==="loading";Je.current=H.useMemo(()=>si*re+oi,[si,oi]),H.useEffect(()=>{Ce(!0)},[]),H.useLayoutEffect(()=>{if(!ne)return;let le=Qt.current,Ne=le.style.height;le.style.height="auto";let Re=le.getBoundingClientRect().height;le.style.height=Ne,St(Re),g(Ot=>Ot.find(sn=>sn.toastId===h.id)?Ot.map(sn=>sn.toastId===h.id?{...sn,height:Re}:sn):[{toastId:h.id,height:Re,position:h.position},...Ot])},[ne,h.title,h.description,g,h.id]);let ir=H.useCallback(()=>{pe(!0),ye(Je.current),g(le=>le.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{N(h)},wL)},[h,N,g,Je]);H.useEffect(()=>{if(h.promise&&lt==="loading"||h.duration===1/0||h.type==="loading")return;let le,Ne=rl;return A||T||q&&sl?(()=>{if(_s.current<ct.current){let Re=new Date().getTime()-ct.current;Ne=Ne-Re}_s.current=new Date().getTime()})():Ne!==1/0&&(ct.current=new Date().getTime(),le=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),ir()},Ne)),()=>clearTimeout(le)},[A,T,G,h,rl,ir,h.promise,lt,q,sl]),H.useEffect(()=>{let le=Qt.current;if(le){let Ne=le.getBoundingClientRect().height;return St(Ne),g(Re=>[{toastId:h.id,height:Ne,position:h.position},...Re]),()=>g(Re=>Re.filter(Ot=>Ot.toastId!==h.id))}},[g,h.id]),H.useEffect(()=>{h.delete&&ir()},[ir,h.delete]);function ap(){return $!=null&&$.loading?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},$.loading):J?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},J):H.createElement(tL,{visible:lt==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Qt,className:Z(D,Cu,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[lt],(n=h==null?void 0:h.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":ne,"data-promise":!!h.promise,"data-removed":Be,"data-visible":tl,"data-y-position":il,"data-x-position":op,"data-index":y,"data-front":Pr,"data-swiping":ee,"data-dismissible":rr,"data-type":lt,"data-invert":bu,"data-swipe-out":$e,"data-expanded":!!(A||G&&ne),style:{"--index":y,"--toasts-before":y,"--z-index":_.length-y,"--offset":`${Be?Ee:Je.current}px`,"--initial-height":G?"auto":`${pt}px`,...C,...h.style},onPointerDown:le=>{Es||!rr||(bn.current=new Date,ye(Je.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(xe(!0),Ar.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ne,Re,Ot;if($e||!rr)return;Ar.current=null;let sn=Number(((le=Qt.current)==null?void 0:le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ai=new Date().getTime()-((Ne=bn.current)==null?void 0:Ne.getTime()),Rr=Math.abs(sn)/ai;if(Math.abs(sn)>=vL||Rr>.11){ye(Je.current),(Re=h.onDismiss)==null||Re.call(h,h),ir(),me(!0);return}(Ot=Qt.current)==null||Ot.style.setProperty("--swipe-amount","0px"),xe(!1)},onPointerMove:le=>{var Ne;if(!Ar.current||!rr)return;let Re=le.clientY-Ar.current.y,Ot=le.clientX-Ar.current.x,sn=(il==="top"?Math.min:Math.max)(0,Re),ai=le.pointerType==="touch"?10:2;Math.abs(sn)>ai?(Ne=Qt.current)==null||Ne.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(Ot)>ai&&(Ar.current=null)}},nl&&!h.jsx?H.createElement("button",{"aria-label":Q,"data-disabled":Es,"data-close-button":!0,onClick:Es||!rr?()=>{}:()=>{var le;ir(),(le=h.onDismiss)==null||le.call(h,h)},className:Z(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,lt||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:Z(L==null?void 0:L.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ap():null,h.type!=="loading"?h.icon||($==null?void 0:$[lt])||ZV(lt):null):null,H.createElement("div",{"data-content":"",className:Z(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:Z(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:Z(O,sp,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&ld(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:le=>{var Ne,Re;ld(h.cancel)&&rr&&((Re=(Ne=h.cancel).onClick)==null||Re.call(Ne,le),ir())},className:Z(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&ld(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:le=>{var Ne,Re;ld(h.action)&&(le.defaultPrevented||((Re=(Ne=h.action).onClick)==null||Re.call(Ne,le),ir()))},className:Z(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function FE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var TL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=fL,toastOptions:m,dir:T=FE(),gap:g=yL,loadingIcon:S,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:_,cn:A=_L}=t,[N,M]=H.useState([]),b=H.useMemo(()=>Array.from(new Set([n].concat(N.filter(q=>q.position).map(q=>q.position)))),[N,n]),[C,P]=H.useState([]),[R,D]=H.useState(!1),[O,k]=H.useState(!1),[W,re]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=H.useRef(null),G=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=H.useRef(null),$=H.useRef(!1),Q=H.useCallback(q=>{var Z;(Z=N.find(ne=>ne.id===q.id))!=null&&Z.delete||mn.dismiss(q.id),M(ne=>ne.filter(({id:Ce})=>Ce!==q.id))},[N]);return H.useEffect(()=>mn.subscribe(q=>{if(q.dismiss){M(Z=>Z.map(ne=>ne.id===q.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{kb.flushSync(()=>{M(Z=>{let ne=Z.findIndex(Ce=>Ce.id===q.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...q},...Z.slice(ne+1)]:[q,...Z]})})})}),[]),H.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{re(q?"dark":"light")})},[l]),H.useEffect(()=>{N.length<=1&&D(!1)},[N]),H.useEffect(()=>{let q=Z=>{var ne,Ce;r.every(Be=>Z[Be]||Z.code===Be)&&(D(!0),(ne=J.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===J.current||(Ce=J.current)!=null&&Ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),H.useEffect(()=>{if(J.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,$.current=!1)}},[J.current]),N.length?H.createElement("section",{"aria-label":`${y} ${G}`,tabIndex:-1},b.map((q,Z)=>{var ne;let[Ce,Be]=q.split("-");return H.createElement("ol",{key:q,dir:T==="auto"?FE():T,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ce,"data-x-position":Be,style:{"--front-toast-height":`${((ne=C[0])==null?void 0:ne.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||pL,"--width":`${gL}px`,"--gap":`${g}px`,...f},onBlur:pe=>{$.current&&!pe.currentTarget.contains(pe.relatedTarget)&&($.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||$.current||($.current=!0,L.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},N.filter(pe=>!pe.position&&Z===0||pe.position===q).map((pe,ee)=>{var xe,$e;return H.createElement(EL,{key:pe.id,icons:v,index:ee,toast:pe,defaultRichColors:c,duration:(xe=m==null?void 0:m.duration)!=null?xe:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:($e=m==null?void 0:m.closeButton)!=null?$e:s,interacting:O,position:q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Q,toasts:N.filter(me=>me.position==pe.position),heights:C.filter(me=>me.position==pe.position),setHeights:P,expandByDefault:i,gap:g,loadingIcon:S,expanded:R,pauseWhenPageIsHidden:_,cn:A})}))})):null};const xL=({...t})=>{const{theme:e="system"}=JV();return x.jsx(TL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var SL=PS.useId||(()=>{}),CL=0;function Gv(t){const[e,n]=E.useState(SL());return qt(()=>{n(r=>r??String(CL++))},[t]),e?`radix-${e}`:""}const bL=["top","right","bottom","left"],Xi=Math.min,yn=Math.max,bh=Math.round,cd=Math.floor,Ji=t=>({x:t,y:t}),IL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function Og(t,e,n){return yn(t,Xi(e,n))}function Gr(t,e){return typeof t=="function"?t(e):t}function Qr(t){return t.split("-")[0]}function ja(t){return t.split("-")[1]}function Qv(t){return t==="x"?"y":"x"}function Yv(t){return t==="y"?"height":"width"}function Zi(t){return["top","bottom"].includes(Qr(t))?"y":"x"}function Xv(t){return Qv(Zi(t))}function AL(t,e,n){n===void 0&&(n=!1);const r=ja(t),i=Xv(t),s=Yv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ih(o)),[o,Ih(o)]}function RL(t){const e=Ih(t);return[Mg(t),e,Mg(e)]}function Mg(t){return t.replace(/start|end/g,e=>PL[e])}function kL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function NL(t,e,n,r){const i=ja(t);let s=kL(Qr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Mg)))),s}function Ih(t){return t.replace(/left|right|bottom|top/g,e=>IL[e])}function DL(t){return{top:0,right:0,bottom:0,left:0,...t}}function TI(t){return typeof t!="number"?DL(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function jE(t,e,n){let{reference:r,floating:i}=t;const s=Zi(e),o=Xv(e),a=Yv(o),l=Qr(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ja(e)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const OL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=jE(c,r,l),h=r,m={},T=0;for(let g=0;g<a.length;g++){const{name:S,fn:v}=a[g],{x:y,y:_,data:A,reset:N}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=_??f,m={...m,[S]:{...m[S],...A}},N&&T<=50&&(T++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=jE(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Pc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Gr(e,t),T=TI(m),S=a[h?f==="floating"?"reference":"floating":f],v=Ph(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Ph(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-N.top+T.top)/A.y,bottom:(N.bottom-v.bottom+T.bottom)/A.y,left:(v.left-N.left+T.left)/A.x,right:(N.right-v.right+T.right)/A.x}}const ML=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Gr(t,e)||{};if(c==null)return{};const f=TI(d),h={x:n,y:r},m=Xv(i),T=Yv(m),g=await o.getDimensions(c),S=m==="y",v=S?"top":"left",y=S?"bottom":"right",_=S?"clientHeight":"clientWidth",A=s.reference[T]+s.reference[m]-h[m]-s.floating[T],N=h[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[_]||s.floating[T]);const C=A/2-N/2,P=b/2-g[T]/2-1,R=Xi(f[v],P),D=Xi(f[y],P),O=R,k=b-g[T]-D,W=b/2-g[T]/2+C,re=Og(O,W,k),J=!l.arrow&&ja(i)!=null&&W!==re&&s.reference[T]/2-(W<O?R:D)-g[T]/2<0,G=J?W<O?W-O:W-k:0;return{[m]:h[m]+G,data:{[m]:re,centerOffset:W-re-G,...J&&{alignmentOffset:G}},reset:J}}}),VL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:g=!0,...S}=Gr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Qr(i),y=Zi(a),_=Qr(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(_||!g?[Ih(a)]:RL(a)),M=T!=="none";!h&&M&&N.push(...NL(a,g,T,A));const b=[a,...N],C=await Pc(e,S),P=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[v]),f){const W=AL(i,o,A);P.push(C[W[0]],C[W[1]])}if(R=[...R,{placement:i,overflows:P}],!P.every(W=>W<=0)){var D,O;const W=(((D=s.flip)==null?void 0:D.index)||0)+1,re=b[W];if(re)return{data:{index:W,overflows:R},reset:{placement:re}};let J=(O=R.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(m){case"bestFit":{var k;const G=(k=R.filter(L=>{if(M){const $=Zi(L.placement);return $===y||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,Q)=>$+Q,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:k[0];G&&(J=G);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function UE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BE(t){return bL.some(e=>t[e]>=0)}const LL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Gr(t,e);switch(r){case"referenceHidden":{const s=await Pc(e,{...i,elementContext:"reference"}),o=UE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BE(o)}}}case"escaped":{const s=await Pc(e,{...i,altBoundary:!0}),o=UE(s,n.floating);return{data:{escapedOffsets:o,escaped:BE(o)}}}default:return{}}}}};async function FL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Qr(n),a=ja(n),l=Zi(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Gr(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const jL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await FL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},UL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:v,y}=S;return{x:v,y}}},...l}=Gr(t,e),c={x:n,y:r},d=await Pc(e,l),f=Zi(Qr(i)),h=Qv(f);let m=c[h],T=c[f];if(s){const S=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+d[S],_=m-d[v];m=Og(y,m,_)}if(o){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=T+d[S],_=T-d[v];T=Og(y,T,_)}const g=a.fn({...e,[h]:m,[f]:T});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},BL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Gr(t,e),d={x:n,y:r},f=Zi(i),h=Qv(f);let m=d[h],T=d[f];const g=Gr(a,e),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",A=s.reference[h]-s.floating[_]+S.mainAxis,N=s.reference[h]+s.reference[_]-S.mainAxis;m<A?m=A:m>N&&(m=N)}if(c){var v,y;const _=h==="y"?"width":"height",A=["top","left"].includes(Qr(i)),N=s.reference[f]-s.floating[_]+(A&&((v=o.offset)==null?void 0:v[f])||0)+(A?0:S.crossAxis),M=s.reference[f]+s.reference[_]+(A?0:((y=o.offset)==null?void 0:y[f])||0)-(A?S.crossAxis:0);T<N?T=N:T>M&&(T=M)}return{[h]:m,[f]:T}}}},$L=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Gr(t,e),d=await Pc(e,c),f=Qr(i),h=ja(i),m=Zi(i)==="y",{width:T,height:g}=s.floating;let S,v;f==="top"||f==="bottom"?(S=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,S=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,_=T-d.left-d.right,A=Xi(g-d[S],y),N=Xi(T-d[v],_),M=!e.middlewareData.shift;let b=A,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),M&&!h){const R=yn(d.left,0),D=yn(d.right,0),O=yn(d.top,0),k=yn(d.bottom,0);m?C=T-2*(R!==0||D!==0?R+D:yn(d.left,d.right)):b=g-2*(O!==0||k!==0?O+k:yn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:b});const P=await o.getDimensions(a.floating);return T!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function bf(){return typeof window<"u"}function Ua(t){return xI(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ir(t){var e;return(e=(xI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xI(t){return bf()?t instanceof Node||t instanceof _n(t).Node:!1}function er(t){return bf()?t instanceof Element||t instanceof _n(t).Element:!1}function Sr(t){return bf()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function $E(t){return!bf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}function au(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zL(t){return["table","td","th"].includes(Ua(t))}function If(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Jv(t){const e=Zv(),n=er(t)?tr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function WL(t){let e=es(t);for(;Sr(e)&&!Ca(e);){if(Jv(e))return e;if(If(e))return null;e=es(e)}return null}function Zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ca(t){return["html","body","#document"].includes(Ua(t))}function tr(t){return _n(t).getComputedStyle(t)}function Pf(t){return er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function es(t){if(Ua(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$E(t)&&t.host||Ir(t);return $E(e)?e.host:e}function SI(t){const e=es(t);return Ca(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(e)&&au(e)?e:SI(e)}function Ac(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=SI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=_n(i);if(s){const a=Vg(o);return e.concat(o,o.visualViewport||[],au(i)?i:[],a&&n?Ac(a):[])}return e.concat(i,Ac(i,[],n))}function Vg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CI(t){const e=tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Sr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=bh(n)!==s||bh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function e0(t){return er(t)?t:t.contextElement}function ta(t){const e=e0(t);if(!Sr(e))return Ji(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=CI(e);let o=(s?bh(n.width):n.width)/r,a=(s?bh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const HL=Ji(0);function bI(t){const e=_n(t);return!Zv()||!e.visualViewport?HL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Js(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=e0(t);let o=Ji(1);e&&(r?er(r)&&(o=ta(r)):o=ta(t));const a=KL(s,n,r)?bI(s):Ji(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=_n(s),m=r&&er(r)?_n(r):r;let T=h,g=Vg(T);for(;g&&r&&m!==T;){const S=ta(g),v=g.getBoundingClientRect(),y=tr(g),_=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*S.x,A=v.top+(g.clientTop+parseFloat(y.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,f*=S.y,l+=_,c+=A,T=_n(g),g=Vg(T)}}return Ph({width:d,height:f,x:l,y:c})}function qL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ir(r),a=e?If(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ji(1);const d=Ji(0),f=Sr(r);if((f||!f&&!s)&&((Ua(r)!=="body"||au(o))&&(l=Pf(r)),Sr(r))){const h=Js(r);c=ta(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function GL(t){return Array.from(t.getClientRects())}function Lg(t,e){const n=Pf(t).scrollLeft;return e?e.left+n:Js(Ir(t)).left+n}function QL(t){const e=Ir(t),n=Pf(t),r=t.ownerDocument.body,i=yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lg(t);const a=-n.scrollTop;return tr(r).direction==="rtl"&&(o+=yn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function YL(t,e){const n=_n(t),r=Ir(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Zv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function XL(t,e){const n=Js(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Sr(t)?ta(t):Ji(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function zE(t,e,n){let r;if(e==="viewport")r=YL(t,n);else if(e==="document")r=QL(Ir(t));else if(er(e))r=XL(e,n);else{const i=bI(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ph(r)}function II(t,e){const n=es(t);return n===e||!er(n)||Ca(n)?!1:tr(n).position==="fixed"||II(n,e)}function JL(t,e){const n=e.get(t);if(n)return n;let r=Ac(t,[],!1).filter(a=>er(a)&&Ua(a)!=="body"),i=null;const s=tr(t).position==="fixed";let o=s?es(t):t;for(;er(o)&&!Ca(o);){const a=tr(o),l=Jv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||au(o)&&!l&&II(t,o))?r=r.filter(d=>d!==o):i=a,o=es(o)}return e.set(t,r),r}function ZL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?If(e)?[]:JL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=zE(e,d,i);return c.top=yn(f.top,c.top),c.right=Xi(f.right,c.right),c.bottom=Xi(f.bottom,c.bottom),c.left=yn(f.left,c.left),c},zE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function e4(t){const{width:e,height:n}=CI(t);return{width:e,height:n}}function t4(t,e,n){const r=Sr(e),i=Ir(e),s=n==="fixed",o=Js(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ji(0);if(r||!r&&!s)if((Ua(e)!=="body"||au(i))&&(a=Pf(e)),r){const m=Js(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Lg(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-Lg(i,m)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Xp(t){return tr(t).position==="static"}function WE(t,e){if(!Sr(t)||tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ir(t)===n&&(n=n.ownerDocument.body),n}function PI(t,e){const n=_n(t);if(If(t))return n;if(!Sr(t)){let i=es(t);for(;i&&!Ca(i);){if(er(i)&&!Xp(i))return i;i=es(i)}return n}let r=WE(t,e);for(;r&&zL(r)&&Xp(r);)r=WE(r,e);return r&&Ca(r)&&Xp(r)&&!Jv(r)?n:r||WL(t)||n}const n4=async function(t){const e=this.getOffsetParent||PI,n=this.getDimensions,r=await n(t.floating);return{reference:t4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r4(t){return tr(t).direction==="rtl"}const i4={convertOffsetParentRelativeRectToViewportRelativeRect:qL,getDocumentElement:Ir,getClippingRect:ZL,getOffsetParent:PI,getElementRects:n4,getClientRects:GL,getDimensions:e4,getScale:ta,isElement:er,isRTL:r4};function s4(t,e){let n=null,r;const i=Ir(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const m=cd(d),T=cd(i.clientWidth-(c+f)),g=cd(i.clientHeight-(d+h)),S=cd(c),y={rootMargin:-m+"px "+-T+"px "+-g+"px "+-S+"px",threshold:yn(0,Xi(1,l))||1};let _=!0;function A(N){const M=N[0].intersectionRatio;if(M!==l){if(!_)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(A,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),s}function o4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=e0(t),d=i||s?[...c?Ac(c):[],...Ac(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=c&&a?s4(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let T,g=l?Js(t):null;l&&S();function S(){const v=Js(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,T=requestAnimationFrame(S)}return n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const a4=jL,l4=UL,c4=VL,u4=$L,d4=LL,HE=ML,h4=BL,f4=(t,e,n)=>{const r=new Map,i={platform:i4,...n},s={...i.platform,_c:r};return OL(t,e,{...i,platform:s})};var jd=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ah(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ah(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function AI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KE(t,e){const n=AI(t);return Math.round(e*n)/n}function Jp(t){const e=E.useRef(t);return jd(()=>{e.current=t}),e}function p4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=E.useState(r);Ah(h,r)||m(r);const[T,g]=E.useState(null),[S,v]=E.useState(null),y=E.useCallback(L=>{L!==M.current&&(M.current=L,g(L))},[]),_=E.useCallback(L=>{L!==b.current&&(b.current=L,v(L))},[]),A=s||T,N=o||S,M=E.useRef(null),b=E.useRef(null),C=E.useRef(d),P=l!=null,R=Jp(l),D=Jp(i),O=Jp(c),k=E.useCallback(()=>{if(!M.current||!b.current)return;const L={placement:e,strategy:n,middleware:h};D.current&&(L.platform=D.current),f4(M.current,b.current,L).then($=>{const Q={...$,isPositioned:O.current!==!1};W.current&&!Ah(C.current,Q)&&(C.current=Q,uo.flushSync(()=>{f(Q)}))})},[h,e,n,D,O]);jd(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const W=E.useRef(!1);jd(()=>(W.current=!0,()=>{W.current=!1}),[]),jd(()=>{if(A&&(M.current=A),N&&(b.current=N),A&&N){if(R.current)return R.current(A,N,k);k()}},[A,N,k,R,P]);const re=E.useMemo(()=>({reference:M,floating:b,setReference:y,setFloating:_}),[y,_]),J=E.useMemo(()=>({reference:A,floating:N}),[A,N]),G=E.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const $=KE(J.floating,d.x),Q=KE(J.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+Q+"px)",...AI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Q}},[n,a,J.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:k,refs:re,elements:J,floatingStyles:G}),[d,k,re,J,G])}const m4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?HE({element:r.current,padding:i}).fn(n):{}:r?HE({element:r,padding:i}).fn(n):{}}}},g4=(t,e)=>({...a4(t),options:[t,e]}),y4=(t,e)=>({...l4(t),options:[t,e]}),v4=(t,e)=>({...h4(t),options:[t,e]}),w4=(t,e)=>({...c4(t),options:[t,e]}),_4=(t,e)=>({...u4(t),options:[t,e]}),E4=(t,e)=>({...d4(t),options:[t,e]}),T4=(t,e)=>({...m4(t),options:[t,e]});var x4="Arrow",RI=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return x.jsx(De.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});RI.displayName=x4;var S4=RI;function C4(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...T}=f,g=(h==null?void 0:h[t][l])||a,S=E.useMemo(()=>T,Object.values(T));return x.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,T=E.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,b4(i,...e)]}function b4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function I4(t){const[e,n]=E.useState(void 0);return qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var t0="Popper",[kI,Af]=C4(t0),[P4,NI]=kI(t0),DI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return x.jsx(P4,{scope:e,anchor:r,onAnchorChange:i,children:n})};DI.displayName=t0;var OI="PopperAnchor",MI=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=NI(OI,n),o=E.useRef(null),a=rt(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(De.div,{...i,ref:a})});MI.displayName=OI;var n0="PopperContent",[A4,R4]=kI(n0),VI=E.forwardRef((t,e)=>{var ee,xe,$e,me,Ee,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:T,...g}=t,S=NI(n0,n),[v,y]=E.useState(null),_=rt(e,pt=>y(pt)),[A,N]=E.useState(null),M=I4(A),b=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,P=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],O=D.length>0,k={padding:R,boundary:D.filter(N4),altBoundary:O},{refs:W,floatingStyles:re,placement:J,isPositioned:G,middlewareData:L}=p4({strategy:"fixed",placement:P,whileElementsMounted:(...pt)=>o4(...pt,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[g4({mainAxis:i+C,alignmentAxis:o}),l&&y4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v4():void 0,...k}),l&&w4({...k}),_4({...k,apply:({elements:pt,rects:St,availableWidth:bn,availableHeight:Qt})=>{const{width:Pr,height:tl}=St.reference,lt=pt.floating.style;lt.setProperty("--radix-popper-available-width",`${bn}px`),lt.setProperty("--radix-popper-available-height",`${Qt}px`),lt.setProperty("--radix-popper-anchor-width",`${Pr}px`),lt.setProperty("--radix-popper-anchor-height",`${tl}px`)}}),A&&T4({element:A,padding:a}),D4({arrowWidth:b,arrowHeight:C}),h&&E4({strategy:"referenceHidden",...k})]}),[$,Q]=jI(J),q=Tn(T);qt(()=>{G&&(q==null||q())},[G,q]);const Z=(ee=L.arrow)==null?void 0:ee.x,ne=(xe=L.arrow)==null?void 0:xe.y,Ce=(($e=L.arrow)==null?void 0:$e.centerOffset)!==0,[Be,pe]=E.useState();return qt(()=>{v&&pe(window.getComputedStyle(v).zIndex)},[v]),x.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:G?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(me=L.transformOrigin)==null?void 0:me.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((ye=L.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(A4,{scope:n,placedSide:$,onArrowChange:N,arrowX:Z,arrowY:ne,shouldHideArrow:Ce,children:x.jsx(De.div,{"data-side":$,"data-align":Q,...g,ref:_,style:{...g.style,animation:G?void 0:"none"}})})})});VI.displayName=n0;var LI="PopperArrow",k4={top:"bottom",right:"left",bottom:"top",left:"right"},FI=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=R4(LI,r),o=k4[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(S4,{...i,ref:n,style:{...i.style,display:"block"}})})});FI.displayName=LI;function N4(t){return t!==null}var D4=t=>({name:"transformOrigin",options:t,fn(e){var S,v,y;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=jI(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,m=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let T="",g="";return c==="bottom"?(T=o?f:`${h}px`,g=`${-l}px`):c==="top"?(T=o?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(T=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(T=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:T,y:g}}}});function jI(t){const[e,n="center"]=t.split("-");return[e,n]}var O4=DI,UI=MI,BI=VI,$I=FI,[Rf,fq]=Fv("Tooltip",[Af]),r0=Af(),zI="TooltipProvider",M4=700,qE="tooltip.open",[V4,WI]=Rf(zI),HI=t=>{const{__scopeTooltip:e,delayDuration:n=M4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=E.useState(!0),l=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),x.jsx(V4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};HI.displayName=zI;var KI="Tooltip",[pq,kf]=Rf(KI),Fg="TooltipTrigger",L4=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=kf(Fg,n),s=WI(Fg,n),o=r0(n),a=E.useRef(null),l=rt(e,a,i.onTriggerChange),c=E.useRef(!1),d=E.useRef(!1),f=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.jsx(UI,{asChild:!0,...o,children:x.jsx(De.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:we(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:we(t.onBlur,i.onClose),onClick:we(t.onClick,i.onClose)})})});L4.displayName=Fg;var F4="TooltipPortal",[mq,j4]=Rf(F4,{forceMount:void 0}),ba="TooltipContent",qI=E.forwardRef((t,e)=>{const n=j4(ba,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=kf(ba,t.__scopeTooltip);return x.jsx(Uv,{present:r||o.open,children:o.disableHoverableContent?x.jsx(GI,{side:i,...s,ref:e}):x.jsx(U4,{side:i,...s,ref:e})})}),U4=E.forwardRef((t,e)=>{const n=kf(ba,t.__scopeTooltip),r=WI(ba,t.__scopeTooltip),i=E.useRef(null),s=rt(e,i),[o,a]=E.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=E.useCallback(()=>{a(null),f(!1)},[f]),m=E.useCallback((T,g)=>{const S=T.currentTarget,v={x:T.clientX,y:T.clientY},y=W4(v,S.getBoundingClientRect()),_=H4(v,y),A=K4(g.getBoundingClientRect()),N=G4([..._,...A]);a(N),f(!0)},[f]);return E.useEffect(()=>()=>h(),[h]),E.useEffect(()=>{if(l&&d){const T=S=>m(S,d),g=S=>m(S,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),E.useEffect(()=>{if(o){const T=g=>{const S=g.target,v={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),_=!q4(v,o);y?h():_&&(h(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,c,h]),x.jsx(GI,{...t,ref:s})}),[B4,$4]=Rf(KI,{isInside:!1}),GI=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=kf(ba,n),c=r0(n),{onClose:d}=l;return E.useEffect(()=>(document.addEventListener(qE,d),()=>document.removeEventListener(qE,d)),[d]),E.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),x.jsx(xf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:x.jsxs(BI,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(Ob,{children:r}),x.jsx(B4,{scope:n,isInside:!0,children:x.jsx(LM,{id:l.contentId,role:"tooltip",children:i||r})})]})})});qI.displayName=ba;var QI="TooltipArrow",z4=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=r0(n);return $4(QI,n).isInside?null:x.jsx($I,{...i,...r,ref:e})});z4.displayName=QI;function W4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function H4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function K4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function q4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function G4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q4(e)}function Q4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Y4=HI,YI=qI;const X4=Y4,J4=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(YI,{ref:r,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));J4.displayName=YI.displayName;var Nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Df=typeof window>"u"||"Deno"in globalThis;function Hn(){}function Z4(t,e){return typeof t=="function"?t(e):t}function eF(t){return typeof t=="number"&&t>=0&&t!==1/0}function tF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function GE(t,e){return typeof t=="function"?t(e):t}function nF(t,e){return typeof t=="function"?t(e):t}function QE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==i0(o,e.options))return!1}else if(!kc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function YE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Rc(e.options.mutationKey)!==Rc(s))return!1}else if(!kc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function i0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Rc)(t)}function Rc(t){return JSON.stringify(t,(e,n)=>jg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!kc(t[n],e[n])):!1}function XI(t,e){if(t===e)return t;const n=XE(t)&&XE(e);if(n||jg(t)&&jg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=XI(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function XE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jg(t){if(!JE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!JE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JE(t){return Object.prototype.toString.call(t)==="[object Object]"}function rF(t){return new Promise(e=>{setTimeout(e,t)})}function iF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XI(t,e):e}function sF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function oF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var s0=Symbol();function JI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===s0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ls,bi,la,cS,aF=(cS=class extends Nf{constructor(){super();Pe(this,Ls);Pe(this,bi);Pe(this,la);he(this,la,e=>{if(!Df&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,bi)||this.setEventListener(U(this,la))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,bi))==null||e.call(this),he(this,bi,void 0))}setEventListener(e){var n;he(this,la,e),(n=U(this,bi))==null||n.call(this),he(this,bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ls)!==e&&(he(this,Ls,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ls)=="boolean"?U(this,Ls):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ls=new WeakMap,bi=new WeakMap,la=new WeakMap,cS),ZI=new aF,ca,Ii,ua,uS,lF=(uS=class extends Nf{constructor(){super();Pe(this,ca,!0);Pe(this,Ii);Pe(this,ua);he(this,ua,e=>{if(!Df&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Ii)||this.setEventListener(U(this,ua))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ii))==null||e.call(this),he(this,Ii,void 0))}setEventListener(e){var n;he(this,ua,e),(n=U(this,Ii))==null||n.call(this),he(this,Ii,e(this.setOnline.bind(this)))}setOnline(e){U(this,ca)!==e&&(he(this,ca,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,ca)}},ca=new WeakMap,Ii=new WeakMap,ua=new WeakMap,uS),Rh=new lF;function cF(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function uF(t){return Math.min(1e3*2**t,3e4)}function eP(t){return(t??"online")==="online"?Rh.isOnline():!0}var tP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zp(t){return t instanceof tP}function nP(t){let e=!1,n=0,r=!1,i;const s=cF(),o=g=>{var S;r||(h(new tP(g)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ZI.isFocused()&&(t.networkMode==="always"||Rh.isOnline())&&t.canRun(),d=()=>eP(t.networkMode)&&t.canRun(),f=g=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,g),i==null||i(),s.reject(g))},m=()=>new Promise(g=>{var S;i=v=>{(r||c())&&g(v)},(S=t.onPause)==null||S.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),T=()=>{if(r)return;let g;const S=n===0?t.initialPromise:void 0;try{g=S??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var M;if(r)return;const y=t.retry??(Df?0:3),_=t.retryDelay??uF,A=typeof _=="function"?_(n,v):_,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!N){h(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),rF(A).then(()=>c()?void 0:m()).then(()=>{e?h(v):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),s)}}function dF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Zt=dF(),Fs,dS,rP=(dS=class{constructor(){Pe(this,Fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eF(this.gcTime)&&he(this,Fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Df?1/0:5*60*1e3))}clearGcTimeout(){U(this,Fs)&&(clearTimeout(U(this,Fs)),he(this,Fs,void 0))}},Fs=new WeakMap,dS),da,ha,An,Bt,Jc,js,Kn,Or,hS,hF=(hS=class extends rP{constructor(n){super();Pe(this,Kn);Pe(this,da);Pe(this,ha);Pe(this,An);Pe(this,Bt);Pe(this,Jc);Pe(this,js);he(this,js,!1),he(this,Jc,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,An,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,da,pF(this.options)),this.state=n.state??U(this,da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Bt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Jc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,An).remove(this)}setData(n,r){const i=iF(this.state.data,n,this.options);return Lt(this,Kn,Or).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Lt(this,Kn,Or).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Bt))==null?void 0:i.promise;return(s=U(this,Bt))==null||s.cancel(n),r?r.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,da))}isActive(){return this.observers.some(n=>nF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!tF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,An).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Bt)&&(U(this,js)?U(this,Bt).cancel({revert:!0}):U(this,Bt).cancelRetry()),this.scheduleGc()),U(this,An).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Kn,Or).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Bt))return U(this,Bt).continueRetry(),U(this,Bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,js,!0),i.signal)})},o=()=>{const h=JI(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),he(this,js,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),he(this,ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Lt(this,Kn,Or).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,T,g,S;Zp(h)&&h.silent||Lt(this,Kn,Or).call(this,{type:"error",error:h}),Zp(h)||((T=(m=U(this,An).config).onError)==null||T.call(m,h,this),(S=(g=U(this,An).config).onSettled)==null||S.call(g,this.state.data,h,this)),this.scheduleGc()};return he(this,Bt,nP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,T,g,S;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(T=(m=U(this,An).config).onSuccess)==null||T.call(m,h,this),(S=(g=U(this,An).config).onSettled)==null||S.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Lt(this,Kn,Or).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Lt(this,Kn,Or).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Kn,Or).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Bt).start()}},da=new WeakMap,ha=new WeakMap,An=new WeakMap,Bt=new WeakMap,Jc=new WeakMap,js=new WeakMap,Kn=new WeakSet,Or=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fF(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Zp(s)&&s.revert&&U(this,ha)?{...U(this,ha),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,An).notify({query:this,type:"updated",action:n})})},hS);function fF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lr,fS,mF=(fS=class extends Nf{constructor(e={}){super();Pe(this,lr);this.config=e,he(this,lr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??i0(i,n);let o=this.get(s);return o||(o=new hF({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,lr).has(e.queryHash)||(U(this,lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,lr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,lr).get(e)}getAll(){return[...U(this,lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>QE(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lr=new WeakMap,fS),cr,Xt,Us,ur,mi,pS,gF=(pS=class extends rP{constructor(n){super();Pe(this,ur);Pe(this,cr);Pe(this,Xt);Pe(this,Us);this.mutationId=n.mutationId,he(this,Xt,n.mutationCache),he(this,cr,[]),this.state=n.state||yF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,cr).includes(n)||(U(this,cr).push(n),this.clearGcTimeout(),U(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,cr,U(this,cr).filter(r=>r!==n)),this.scheduleGc(),U(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,cr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Xt).remove(this))}continue(){var n;return((n=U(this,Us))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,f,h,m,T,g,S,v,y,_,A,N,M,b,C;he(this,Us,nP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{Lt(this,ur,mi).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{Lt(this,ur,mi).call(this,{type:"pause"})},onContinue:()=>{Lt(this,ur,mi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Xt).canRun(this)}));const r=this.state.status==="pending",i=!U(this,Us).canStart();try{if(!r){Lt(this,ur,mi).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=U(this,Xt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Lt(this,ur,mi).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const P=await U(this,Us).start();return await((d=(c=U(this,Xt).config).onSuccess)==null?void 0:d.call(c,P,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,n,this.state.context)),await((T=(m=U(this,Xt).config).onSettled)==null?void 0:T.call(m,P,null,this.state.variables,this.state.context,this)),await((S=(g=this.options).onSettled)==null?void 0:S.call(g,P,null,n,this.state.context)),Lt(this,ur,mi).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(v=U(this,Xt).config).onError)==null?void 0:y.call(v,P,n,this.state.context,this)),await((A=(_=this.options).onError)==null?void 0:A.call(_,P,n,this.state.context)),await((M=(N=U(this,Xt).config).onSettled)==null?void 0:M.call(N,void 0,P,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,P,n,this.state.context)),P}finally{Lt(this,ur,mi).call(this,{type:"error",error:P})}}finally{U(this,Xt).runNext(this)}}},cr=new WeakMap,Xt=new WeakMap,Us=new WeakMap,ur=new WeakSet,mi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{U(this,cr).forEach(i=>{i.onMutationUpdate(n)}),U(this,Xt).notify({mutation:this,type:"updated",action:n})})},pS);function yF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Zc,mS,vF=(mS=class extends Nf{constructor(e={}){super();Pe(this,pn);Pe(this,Zc);this.config=e,he(this,pn,new Map),he(this,Zc,Date.now())}build(e,n,r){const i=new gF({mutationCache:this,mutationId:++$u(this,Zc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ud(e),r=U(this,pn).get(n)??[];r.push(e),U(this,pn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ud(e);if(U(this,pn).has(n)){const i=(r=U(this,pn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?U(this,pn).delete(n):U(this,pn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,pn).get(ud(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,pn).get(ud(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,pn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>YE(n,r))}findAll(e={}){return this.getAll().filter(n=>YE(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hn))))}},pn=new WeakMap,Zc=new WeakMap,mS);function ud(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ZE(t){return{onFetch:(e,n)=>{var d,f,h,m,T;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const S=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=JI(e.options,e.fetchOptions),y=async(_,A,N)=>{if(g)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const M={queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};S(M);const b=await v(M),{maxPages:C}=e.options,P=N?oF:sF;return{pages:P(_.pages,b,C),pageParams:P(_.pageParams,A,C)}};if(i&&s.length){const _=i==="backward",A=_?wF:eT,N={pages:s,pageParams:o},M=A(r,N);a=await y(N,M,_)}else{const _=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:eT(r,a);if(l>0&&A==null)break;a=await y(a,A),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,S;return(S=(g=e.options).persister)==null?void 0:S.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function eT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var et,Pi,Ai,fa,pa,Ri,ma,ga,gS,_F=(gS=class{constructor(t={}){Pe(this,et);Pe(this,Pi);Pe(this,Ai);Pe(this,fa);Pe(this,pa);Pe(this,Ri);Pe(this,ma);Pe(this,ga);he(this,et,t.queryCache||new mF),he(this,Pi,t.mutationCache||new vF),he(this,Ai,t.defaultOptions||{}),he(this,fa,new Map),he(this,pa,new Map),he(this,Ri,0)}mount(){$u(this,Ri)._++,U(this,Ri)===1&&(he(this,ma,ZI.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,et).onFocus())})),he(this,ga,Rh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,et).onOnline())})))}unmount(){var t,e;$u(this,Ri)._--,U(this,Ri)===0&&((t=U(this,ma))==null||t.call(this),he(this,ma,void 0),(e=U(this,ga))==null||e.call(this),he(this,ga,void 0))}isFetching(t){return U(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Pi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,et).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(GE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,et).get(r.queryHash),s=i==null?void 0:i.state.data,o=Z4(e,s);if(o!==void 0)return U(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>U(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,et);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,et),r={type:"active",...t};return Zt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Zt.batch(()=>U(this,et).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Hn).catch(Hn)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if(U(this,et).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zt.batch(()=>U(this,et).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Hn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,et).build(this,e);return n.isStaleByTime(GE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=ZE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=ZE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rh.isOnline()?U(this,Pi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,et)}getMutationCache(){return U(this,Pi)}getDefaultOptions(){return U(this,Ai)}setDefaultOptions(t){he(this,Ai,t)}setQueryDefaults(t,e){U(this,fa).set(Rc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,fa).values()];let n={};return e.forEach(r=>{kc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,pa).set(Rc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,pa).values()];let n={};return e.forEach(r=>{kc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ai).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=i0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===s0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ai).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,et).clear(),U(this,Pi).clear()}},et=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,fa=new WeakMap,pa=new WeakMap,Ri=new WeakMap,ma=new WeakMap,ga=new WeakMap,gS),EF=E.createContext(void 0),TF=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(EF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}var Di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Di||(Di={}));const tT="popstate";function xF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ug("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return CF(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SF(){return Math.random().toString(36).substr(2,8)}function nT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n,r){return n===void 0&&(n=null),Nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ba(e):e,{state:n,key:e&&e.key||r||SF()})}function kh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Di.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Nc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Di.Pop;let S=d(),v=S==null?null:S-c;c=S,l&&l({action:a,location:g.location,delta:v})}function h(S,v){a=Di.Push;let y=Ug(g.location,S,v);c=d()+1;let _=nT(y,c),A=g.createHref(y);try{o.pushState(_,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function m(S,v){a=Di.Replace;let y=Ug(g.location,S,v);c=d();let _=nT(y,c),A=g.createHref(y);o.replaceState(_,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function T(S){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:kh(S);return y=y.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tT,f),l=S,()=>{i.removeEventListener(tT,f),l=null}},createHref(S){return e(i,S)},createURL:T,encodeLocation(S){let v=T(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(S){return o.go(S)}};return g}var rT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rT||(rT={}));function bF(t,e,n){return n===void 0&&(n="/"),IF(t,e,n,!1)}function IF(t,e,n,r){let i=typeof e=="string"?Ba(e):e,s=o0(i.pathname||"/",n);if(s==null)return null;let o=sP(t);PF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=jF(s);a=LF(o[l],c,r)}return a}function sP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:MF(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of oP(s.path))i(s,o,l)}),e}function oP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function PF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AF=/^:[\w-]+$/,RF=3,kF=2,NF=1,DF=10,OF=-2,iT=t=>t==="*";function MF(t,e){let n=t.split("/"),r=n.length;return n.some(iT)&&(r+=OF),e&&(r+=kF),n.filter(i=>!iT(i)).reduce((i,s)=>i+(AF.test(s)?RF:s===""?NF:DF),r)}function VF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=sT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=sT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:zi([s,f.pathname]),pathnameBase:zF(zi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=zi([s,f.pathnameBase]))}return o}function sT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const T=a[f];return m&&!T?c[h]=void 0:c[h]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function FF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:BF(n,e):e,search:WF(r),hash:HF(i)}}function BF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function em(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $F(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a0(t,e){let n=$F(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ba(t):(i=Nc({},t),at(!i.pathname||!i.pathname.includes("?"),em("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),em("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),em("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=UF(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const zi=t=>t.join("/").replace(/\/\/+/g,"/"),zF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aP=["post","put","patch","delete"];new Set(aP);const qF=["get",...aP];new Set(qF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}const c0=E.createContext(null),GF=E.createContext(null),fs=E.createContext(null),Of=E.createContext(null),ri=E.createContext({outlet:null,matches:[],isDataRoute:!1}),lP=E.createContext(null);function QF(t,e){let{relative:n}=e===void 0?{}:e;$a()||at(!1);let{basename:r,navigator:i}=E.useContext(fs),{hash:s,pathname:o,search:a}=uP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $a(){return E.useContext(Of)!=null}function ps(){return $a()||at(!1),E.useContext(Of).location}function cP(t){E.useContext(fs).static||E.useLayoutEffect(t)}function za(){let{isDataRoute:t}=E.useContext(ri);return t?cj():YF()}function YF(){$a()||at(!1);let t=E.useContext(c0),{basename:e,future:n,navigator:r}=E.useContext(fs),{matches:i}=E.useContext(ri),{pathname:s}=ps(),o=JSON.stringify(a0(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return cP(()=>{a.current=!0}),E.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=l0(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function XF(){let{matches:t}=E.useContext(ri),e=t[t.length-1];return e?e.params:{}}function uP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(fs),{matches:i}=E.useContext(ri),{pathname:s}=ps(),o=JSON.stringify(a0(i,r.v7_relativeSplatPath));return E.useMemo(()=>l0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function JF(t,e){return ZF(t,e)}function ZF(t,e,n,r){$a()||at(!1);let{navigator:i}=E.useContext(fs),{matches:s}=E.useContext(ri),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ps(),d;if(e){var f;let S=typeof e=="string"?Ba(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||at(!1),d=S}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=bF(t,{pathname:m}),g=ij(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:zi([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:zi([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&g?E.createElement(Of.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Di.Pop}},g):g}function ej(){let t=lj(),e=KF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const tj=E.createElement(ej,null);class nj extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(ri.Provider,{value:this.props.routeContext},E.createElement(lP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rj(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(c0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ri.Provider,{value:e},r)}function ij(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,T=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,T=!1,g=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||tj,l&&(c<0&&h===0?(T=!0,S=null):c===h&&(T=!0,S=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let _;return m?_=g:T?_=S:f.route.Component?_=E.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,E.createElement(rj,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?E.createElement(nj,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var dP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dP||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function sj(t){let e=E.useContext(c0);return e||at(!1),e}function oj(t){let e=E.useContext(GF);return e||at(!1),e}function aj(t){let e=E.useContext(ri);return e||at(!1),e}function hP(t){let e=aj(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function lj(){var t;let e=E.useContext(lP),n=oj(Nh.UseRouteError),r=hP(Nh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cj(){let{router:t}=sj(dP.UseNavigateStable),e=hP(Nh.UseNavigateStable),n=E.useRef(!1);return cP(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dc({fromRouteId:e},s)))},[t,e])}function uj(t){let{to:e,replace:n,state:r,relative:i}=t;$a()||at(!1);let{future:s,static:o}=E.useContext(fs),{matches:a}=E.useContext(ri),{pathname:l}=ps(),c=za(),d=l0(e,a0(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return E.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ps(t){at(!1)}function dj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Di.Pop,navigator:s,static:o=!1,future:a}=t;$a()&&at(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Dc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ba(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:T="default"}=r,g=E.useMemo(()=>{let S=o0(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:m,key:T},navigationType:i}},[l,d,f,h,m,T,i]);return g==null?null:E.createElement(fs.Provider,{value:c},E.createElement(Of.Provider,{children:n,value:g}))}function hj(t){let{children:e,location:n}=t;return JF(Bg(e),n)}new Promise(()=>{});function Bg(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Bg(r.props.children,s));return}r.type!==Ps&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function fj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mj(t,e){return t.button===0&&(!e||e==="_self")&&!pj(t)}const gj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yj="6";try{window.__reactRouterVersion=yj}catch{}const vj="startTransition",oT=PS[vj];function wj(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=xF({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=E.useCallback(f=>{c&&oT?oT(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.createElement(dj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _j=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ej=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=fj(e,gj),{basename:m}=E.useContext(fs),T,g=!1;if(typeof c=="string"&&Ej.test(c)&&(T=c,_j))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=o0(A.pathname,m);A.origin===_.origin&&N!=null?c=N+A.search+A.hash:g=!0}catch{}let S=QF(c,{relative:i}),v=Tj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||v(_)}return E.createElement("a",$g({},h,{href:T||S,onClick:g||s?r:y,ref:n,target:l}))});var lT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lT||(lT={}));var cT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cT||(cT={}));function Tj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=za(),c=ps(),d=uP(t,{relative:o});return E.useCallback(f=>{if(mj(f,n)){f.preventDefault();let h=r!==void 0?r:kh(c)===kh(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const xj=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Cj;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const T=c<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bj=function(t){const e=fP(t);return pP.encodeByteArray(e,!0)},Dh=function(t){return bj(t).replace(/\./g,"")},mP=function(t){try{return pP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=()=>Ij().__FIREBASE_DEFAULTS__,Aj=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mP(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return xj()||Pj()||Aj()||Rj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gP=t=>{var e,n;return(n=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kj=t=>{const e=gP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yP=()=>{var t;return(t=Mf())===null||t===void 0?void 0:t.config},vP=t=>{var e;return(e=Mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(o)),""].join(".")}const Xl={};function Oj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?t.emulator.push(e):t.prod.push(e);return t}function Mj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dT=!1;function _P(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Xl[t]===e||Xl[t]||dT)return;Xl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=Oj().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{dT=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Mj(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),S=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),d(S,g);const A=c();l(y,v),_.append(y,T,S,A),document.body.appendChild(_)}s?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Lj(){var t;const e=(t=Mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bj(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $j(){return!Lj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zj(){try{return typeof indexedDB=="object"}catch{return!1}}function Wj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hj,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ii(i,a,r)}}function Kj(t,e){return t.replace(qj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qj=/\{\$([^}]+)}/g;function Gj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(hT(s)&&hT(o)){if(!Zs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Qj(t,e){const n=new Yj(t,e);return n.subscribe.bind(n)}class Yj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tm),i.error===void 0&&(i.error=tm),i.complete===void 0&&(i.complete=tm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e5(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zj(t){return t===As?void 0:t}function e5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const n5={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},r5=ve.INFO,i5={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},s5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=i5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u0{constructor(e){this.name=e,this._logLevel=r5,this._logHandler=s5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const o5=(t,e)=>e.some(n=>t instanceof n);let fT,pT;function a5(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l5(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EP=new WeakMap,zg=new WeakMap,TP=new WeakMap,nm=new WeakMap,d0=new WeakMap;function c5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EP.set(n,t)}).catch(()=>{}),d0.set(e,t),e}function u5(t){if(zg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zg.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d5(t){Wg=t(Wg)}function h5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rm(this),e,...n);return TP.set(r,e.sort?e.sort():[e]),Wi(r)}:l5().includes(t)?function(...e){return t.apply(rm(this),e),Wi(EP.get(this))}:function(...e){return Wi(t.apply(rm(this),e))}}function f5(t){return typeof t=="function"?h5(t):(t instanceof IDBTransaction&&u5(t),o5(t,a5())?new Proxy(t,Wg):t)}function Wi(t){if(t instanceof IDBRequest)return c5(t);if(nm.has(t))return nm.get(t);const e=f5(t);return e!==t&&(nm.set(t,e),d0.set(e,t)),e}const rm=t=>d0.get(t);function p5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const m5=["get","getKey","getAll","getAllKeys","count"],g5=["put","add","delete","clear"],im=new Map;function mT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return im.set(e,s),s}d5(t=>({...t,get:(e,n,r)=>mT(e,n)||t.get(e,n,r),has:(e,n)=>!!mT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",gT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new u0("@firebase/app"),w5="@firebase/app-compat",_5="@firebase/analytics-compat",E5="@firebase/analytics",T5="@firebase/app-check-compat",x5="@firebase/app-check",S5="@firebase/auth",C5="@firebase/auth-compat",b5="@firebase/database",I5="@firebase/data-connect",P5="@firebase/database-compat",A5="@firebase/functions",R5="@firebase/functions-compat",k5="@firebase/installations",N5="@firebase/installations-compat",D5="@firebase/messaging",O5="@firebase/messaging-compat",M5="@firebase/performance",V5="@firebase/performance-compat",L5="@firebase/remote-config",F5="@firebase/remote-config-compat",j5="@firebase/storage",U5="@firebase/storage-compat",B5="@firebase/firestore",$5="@firebase/ai",z5="@firebase/firestore-compat",W5="firebase",H5="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",K5={[Hg]:"fire-core",[w5]:"fire-core-compat",[E5]:"fire-analytics",[_5]:"fire-analytics-compat",[x5]:"fire-app-check",[T5]:"fire-app-check-compat",[S5]:"fire-auth",[C5]:"fire-auth-compat",[b5]:"fire-rtdb",[I5]:"fire-data-connect",[P5]:"fire-rtdb-compat",[A5]:"fire-fn",[R5]:"fire-fn-compat",[k5]:"fire-iid",[N5]:"fire-iid-compat",[D5]:"fire-fcm",[O5]:"fire-fcm-compat",[M5]:"fire-perf",[V5]:"fire-perf-compat",[L5]:"fire-rc",[F5]:"fire-rc-compat",[j5]:"fire-gcs",[U5]:"fire-gcs-compat",[B5]:"fire-fst",[z5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[W5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,q5=new Map,qg=new Map;function yT(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ia(t){const e=t.name;if(qg.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,t);for(const n of Oh.values())yT(n,t);for(const n of q5.values())yT(n,t);return!0}function h0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new lu("app","Firebase",G5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=H5;function xP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=yP()),!n)throw Hi.create("no-options");const s=Oh.get(i);if(s){if(Zs(n,s.options)&&Zs(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new t5(i);for(const l of qg.values())o.addComponent(l);const a=new Q5(n,r,o);return Oh.set(i,a),a}function SP(t=Kg){const e=Oh.get(t);if(!e&&t===Kg&&yP())return xP();if(!e)throw Hi.create("no-app",{appName:t});return e}function Ki(t,e,n){var r;let i=(r=K5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Ia(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="firebase-heartbeat-database",X5=1,Oc="firebase-heartbeat-store";let sm=null;function CP(){return sm||(sm=p5(Y5,X5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),sm}async function J5(t){try{const n=(await CP()).transaction(Oc),r=await n.objectStore(Oc).get(bP(t));return await n.done,r}catch(e){if(e instanceof ii)Yr.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function vT(t,e){try{const r=(await CP()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,bP(t)),await r.done}catch(n){if(n instanceof ii)Yr.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(r.message)}}}function bP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=1024,e3=30;class t3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>e3){const o=i3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wT(),{heartbeatsToSend:r,unsentEntries:i}=n3(this._heartbeatsCache.heartbeats),s=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yr.warn(n),""}}}function wT(){return new Date().toISOString().substring(0,10)}function n3(t,e=Z5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_T(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_T(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zj()?Wj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _T(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function i3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){Ia(new eo("platform-logger",e=>new y5(e),"PRIVATE")),Ia(new eo("heartbeat",e=>new t3(e),"PRIVATE")),Ki(Hg,gT,t),Ki(Hg,gT,"esm2017"),Ki("fire-js","")}s3("");var hr=function(){return hr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hr.apply(this,arguments)};function uu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o3(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function IP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a3=IP,PP=new lu("auth","Firebase",IP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new u0("@firebase/auth");function l3(t,...e){Mh.logLevel<=ve.WARN&&Mh.warn(`Auth (${Ha}): ${t}`,...e)}function Ud(t,...e){Mh.logLevel<=ve.ERROR&&Mh.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw f0(t,...e)}function mr(t,...e){return f0(t,...e)}function AP(t,e,n){const r=Object.assign(Object.assign({},a3()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return AP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PP.create(t,...e)}function se(t,e,...n){if(!t)throw f0(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function Xr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c3(){return ET()==="http:"||ET()==="https:"}function ET(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c3()||jj()||"connection"in navigator)?navigator.onLine:!0}function d3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=Vj()||Uj()}get(){return u3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p3=new du(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,r,i={}){return kP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Fj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(c.credentials="include"),RP.fetch()(await NP(t,t.config.apiHost,n,a),c)})}async function kP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},h3),e);try{const i=new g3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AP(t,d,c);nr(t,d)}}catch(i){if(i instanceof ii)throw i;nr(t,"network-request-failed",{message:String(i)})}}async function hu(t,e,n,r,i={}){const s=await gs(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function NP(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?p0(t.config,i):`${t.config.apiScheme}://${i}`;return f3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function m3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),p3.get())})}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}function TT(t){return t!==void 0&&t.enterprise!==void 0}class y3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v3(t,e){return gs(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function Vh(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _3(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=m0(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jl(om(i.auth_time)),issuedAtTime:Jl(om(i.iat)),expirationTime:Jl(om(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function om(t){return Number(t)*1e3}function m0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=mP(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xT(t){const e=m0(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&E3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mc(t,Vh(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DP(s.providerUserInfo):[],a=S3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function x3(t){const e=xn(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DP(t){return t.map(e=>{var{providerId:n}=e,r=uu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){const n=await kP(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await NP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(l.credentials="include"),RP.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b3(t,e){return gs(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=xT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new na;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _3(this,e)}reload(){return x3(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Mc(this,w3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:A,isAnonymous:N,providerData:M,stsTokenManager:b}=n;se(_&&b,e,"internal-error");const C=na.fromJSON(this.name,b);se(typeof _=="string",e,"internal-error"),pi(f,e.name),pi(h,e.name),se(typeof A=="boolean",e,"internal-error"),se(typeof N=="boolean",e,"internal-error"),pi(m,e.name),pi(T,e.name),pi(g,e.name),pi(S,e.name),pi(v,e.name),pi(y,e.name);const P=new Qn({uid:_,auth:e,email:h,emailVerified:A,displayName:f,isAnonymous:N,photoURL:T,phoneNumber:m,tenantId:g,stsTokenManager:C,createdAt:v,lastLoginAt:y});return M&&Array.isArray(M)&&(P.providerData=M.map(R=>Object.assign({},R))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new na;i.updateFromServerResponse(n);const s=new Qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new na;a.updateFromIdToken(r);const l=new Qn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;function Ur(t){Xr(t instanceof Function,"Expected a class definition");let e=ST.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ST.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OP.type="NONE";const CT=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ra(Ur(CT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ur(CT);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await Vh(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Qn._fromGetAccountInfoResponse(e,h,d)}else f=Qn._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ra(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ra(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UP(e))return"Blackberry";if(BP(e))return"Webos";if(VP(e))return"Safari";if((e.includes("chrome/")||LP(e))&&!e.includes("edge/"))return"Chrome";if(jP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MP(t=Gt()){return/firefox\//i.test(t)}function VP(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LP(t=Gt()){return/crios\//i.test(t)}function FP(t=Gt()){return/iemobile/i.test(t)}function jP(t=Gt()){return/android/i.test(t)}function UP(t=Gt()){return/blackberry/i.test(t)}function BP(t=Gt()){return/webos/i.test(t)}function g0(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function I3(t=Gt()){var e;return g0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P3(){return Bj()&&document.documentMode===10}function $P(t=Gt()){return g0(t)||jP(t)||BP(t)||UP(t)||/windows phone/i.test(t)||FP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e=[]){let n;switch(t){case"Browser":n=bT(Gt());break;case"Worker":n=`${bT(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e={}){return gs(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=6;class N3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:k3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new A3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject($r(this));const n=e?xn(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R3(this),n=new N3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ho(t){return xn(t)}class IT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qj(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O3(t){Vf=t}function WP(t){return Vf.loadJS(t)}function M3(){return Vf.recaptchaEnterpriseScript}function V3(){return Vf.gapiScript}function L3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F3{constructor(){this.enterprise=new j3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const U3="recaptcha-enterprise",HP="NO_RECAPTCHA";class B3{constructor(e){this.type=U3,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{v3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new y3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;TT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(HP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&TT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=M3();l.length!==0&&(l+=a),WP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function PT(t,e,n,r=!1,i=!1){const s=new B3(t);let o;if(i)o=HP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await PT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await PT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){const n=h0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zs(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function z3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W3(t,e,n){const r=ho(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KP(e),{host:o,port:a}=H3(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Zs(c,r.config.emulator)&&Zs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Wa(o)?(wP(`${s}//${o}${l}`),_P("Auth",!0)):K3()}function KP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H3(t){const e=KP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AT(o)}}}function AT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function q3(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e){return hu(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function Y3(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends y0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,n,"signInWithPassword",G3);case"emailLink":return Q3(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,r,"signUpPassword",q3);case"emailLink":return Y3(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return hu(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="http://localhost";class to extends y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new to(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:X3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z3(t){const e=Nl(Dl(t)).link,n=e?Nl(Dl(e)).deep_link_id:null,r=Nl(Dl(t)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||n||e||t}class v0{constructor(e){var n,r,i,s,o,a;const l=Nl(Dl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=J3((i=l.mode)!==null&&i!==void 0?i:null);se(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Z3(e);try{return new v0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=v0.parseLink(n);return se(r,"argument-error"),Vc._fromEmailAndCode(e,r.code,r.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends qP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends fu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends fu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends fu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return hu(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qn._fromIdTokenResponse(e,r,i),o=RT(r);return new no({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=RT(r);return new no({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function RT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends ii{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fh(e,n,r,i)}}function GP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(t,s,e,r):s})}async function t6(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject($r(r));const i="reauthenticate";try{const s=await Mc(t,GP(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=m0(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),no._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e,n=!1){if(Nn(t.app))return Promise.reject($r(t));const r="signIn",i=await GP(t,r,e),s=await no._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function r6(t,e){return QP(ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i6(t,e,n){if(Nn(t.app))return Promise.reject($r(t));const r=ho(t),o=await Yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YP(t),l}),a=await no._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function XP(t,e,n){return Nn(t.app)?Promise.reject($r(t)):r6(xn(t),Ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YP(t),r})}function s6(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function o6(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function a6(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function l6(t){return xn(t).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=1e3,u6=10;class ZP extends JP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$P(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);P3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZP.type="LOCAL";const d6=ZP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends JP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await h6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=w0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function p6(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function m6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y6(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",v6=1,Uh="firebaseLocalStorage",iA="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(t,e){return t.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function w6(){const t=indexedDB.deleteDatabase(rA);return new pu(t).toPromise()}function Xg(){const t=indexedDB.open(rA,v6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uh,{keyPath:iA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await w6(),e(await Xg()))})})}async function kT(t,e,n){const r=Ff(t,!0).put({[iA]:e,value:n});return new pu(r).toPromise()}async function _6(t,e){const n=Ff(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function NT(t,e){const n=Ff(t,!0).delete(e);return new pu(n).toPromise()}const E6=800,T6=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(y6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await m6(),!this.activeServiceWorker)return;this.sender=new f6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await kT(e,jh,"1"),await NT(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ff(i,!1).getAll();return new pu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const x6=sA;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e){return e?Ur(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C6(t){return QP(t.auth,new _0(t),t.bypassAuthState)}function b6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),n6(n,new _0(t),t.bypassAuthState)}async function I6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),t6(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C6;case"linkViaPopup":case"linkViaRedirect":return I6;case"reauthViaPopup":case"reauthViaRedirect":return b6;default:nr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new du(2e3,1e4);class $o extends oA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=w0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P6.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="pendingRedirect",$d=new Map;class R6 extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const r=await k6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k6(t,e){const n=O6(e),r=D6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function N6(t,e){$d.set(t._key(),e)}function D6(t){return Ur(t._redirectPersistence)}function O6(t){return Bd(A6,t.config.apiKey,t.name)}async function M6(t,e,n=!1){if(Nn(t.app))return Promise.reject($r(t));const r=ho(t),i=S6(r,e),o=await new R6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=10*60*1e3;class L6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V6&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(e))}saveEventToCache(e){this.cachedEventUids.add(DT(e)),this.lastProcessedEventTime=Date.now()}}function DT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B6=/^https?/;async function $6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j6(t);for(const n of e)try{if(z6(n))return}catch{}nr(t,"unauthorized-domain")}function z6(t){const e=Gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!B6.test(n))return!1;if(U6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=new du(3e4,6e4);function OT(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H6(t){return new Promise((e,n)=>{var r,i,s;function o(){OT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OT(),n(mr(t,"network-request-failed"))},timeout:W6.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{const a=L3("iframefcb");return gr()[a]=()=>{gapi.load?o():n(mr(t,"network-request-failed"))},WP(`${V3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function K6(t){return zd=zd||H6(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new du(5e3,15e3),G6="__/auth/iframe",Q6="emulator/auth/iframe",Y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J6(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p0(e,Q6):`https://${t.config.authDomain}/${G6}`,r={apiKey:e.apiKey,appName:t.name,v:Ha},i=X6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cu(r).slice(1)}`}async function Z6(t){const e=await K6(t),n=gr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:J6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},q6.get());function l(){gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tU=500,nU=600,rU="_blank",iU="http://localhost";class MT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sU(t,e,n,r=tU,i=nU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Gt().toLowerCase();n&&(a=LP(c)?rU:n),MP(c)&&(e=e||iU,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,T])=>`${h}${m}=${T},`,"");if(I3(c)&&a!=="_self")return oU(e||"",a),new MT(null);const f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new MT(f)}function oU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="__/auth/handler",lU="emulator/auth/handler",cU=encodeURIComponent("fac");async function VT(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ha,eventId:i};if(e instanceof qP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof fu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${cU}=${encodeURIComponent(l)}`:"";return`${uU(t)}?${cu(a).slice(1)}${c}`}function uU({config:t}){return t.emulator?p0(t,lU):`https://${t.authDomain}/${aU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class dU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=M6,this._overrideRedirectResult=N6}async _openPopup(e,n,r,i){var s;Xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VT(e,n,r,Gg(),i);return sU(e,o,w0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VT(e,n,r,Gg(),i);return p6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z6(e),r=new L6(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[am];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $P()||VP()||g0()}}const hU=dU;var LT="@firebase/auth",FT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(t){Ia(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zP(t)},c=new D3(r,i,s,l);return z3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new eo("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new fU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(LT,FT,pU(t)),Ki(LT,FT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=5*60,yU=vP("authIdTokenMaxAge")||gU;let jT=null;const vU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yU)return;const i=n==null?void 0:n.token;jT!==i&&(jT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wU(t=SP()){const e=h0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$3(t,{popupRedirectResolver:hU,persistence:[x6,d6,tA]}),r=vP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=vU(s.toString());o6(n,o,()=>o(n.currentUser)),s6(n,a=>o(a))}}const i=gP("auth");return i&&W3(n,`http://${i}`),n}function _U(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_U().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");var EU="firebase",TU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(EU,TU,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,lA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function P(){}P.prototype=C.prototype,b.D=C.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(R,D,O){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return C.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,C,P){P||(P=0);var R=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)R[D]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(D=0;16>D;++D)R[D]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=b.g[0],P=b.g[1],D=b.g[2];var O=b.g[3],k=C+(O^P&(D^O))+R[0]+3614090360&4294967295;C=P+(k<<7&4294967295|k>>>25),k=O+(D^C&(P^D))+R[1]+3905402710&4294967295,O=C+(k<<12&4294967295|k>>>20),k=D+(P^O&(C^P))+R[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(C^D&(O^C))+R[3]+3250441966&4294967295,P=D+(k<<22&4294967295|k>>>10),k=C+(O^P&(D^O))+R[4]+4118548399&4294967295,C=P+(k<<7&4294967295|k>>>25),k=O+(D^C&(P^D))+R[5]+1200080426&4294967295,O=C+(k<<12&4294967295|k>>>20),k=D+(P^O&(C^P))+R[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(C^D&(O^C))+R[7]+4249261313&4294967295,P=D+(k<<22&4294967295|k>>>10),k=C+(O^P&(D^O))+R[8]+1770035416&4294967295,C=P+(k<<7&4294967295|k>>>25),k=O+(D^C&(P^D))+R[9]+2336552879&4294967295,O=C+(k<<12&4294967295|k>>>20),k=D+(P^O&(C^P))+R[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(C^D&(O^C))+R[11]+2304563134&4294967295,P=D+(k<<22&4294967295|k>>>10),k=C+(O^P&(D^O))+R[12]+1804603682&4294967295,C=P+(k<<7&4294967295|k>>>25),k=O+(D^C&(P^D))+R[13]+4254626195&4294967295,O=C+(k<<12&4294967295|k>>>20),k=D+(P^O&(C^P))+R[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=P+(C^D&(O^C))+R[15]+1236535329&4294967295,P=D+(k<<22&4294967295|k>>>10),k=C+(D^O&(P^D))+R[1]+4129170786&4294967295,C=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(C^P))+R[6]+3225465664&4294967295,O=C+(k<<9&4294967295|k>>>23),k=D+(C^P&(O^C))+R[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^C&(D^O))+R[0]+3921069994&4294967295,P=D+(k<<20&4294967295|k>>>12),k=C+(D^O&(P^D))+R[5]+3593408605&4294967295,C=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(C^P))+R[10]+38016083&4294967295,O=C+(k<<9&4294967295|k>>>23),k=D+(C^P&(O^C))+R[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^C&(D^O))+R[4]+3889429448&4294967295,P=D+(k<<20&4294967295|k>>>12),k=C+(D^O&(P^D))+R[9]+568446438&4294967295,C=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(C^P))+R[14]+3275163606&4294967295,O=C+(k<<9&4294967295|k>>>23),k=D+(C^P&(O^C))+R[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^C&(D^O))+R[8]+1163531501&4294967295,P=D+(k<<20&4294967295|k>>>12),k=C+(D^O&(P^D))+R[13]+2850285829&4294967295,C=P+(k<<5&4294967295|k>>>27),k=O+(P^D&(C^P))+R[2]+4243563512&4294967295,O=C+(k<<9&4294967295|k>>>23),k=D+(C^P&(O^C))+R[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=P+(O^C&(D^O))+R[12]+2368359562&4294967295,P=D+(k<<20&4294967295|k>>>12),k=C+(P^D^O)+R[5]+4294588738&4294967295,C=P+(k<<4&4294967295|k>>>28),k=O+(C^P^D)+R[8]+2272392833&4294967295,O=C+(k<<11&4294967295|k>>>21),k=D+(O^C^P)+R[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^C)+R[14]+4259657740&4294967295,P=D+(k<<23&4294967295|k>>>9),k=C+(P^D^O)+R[1]+2763975236&4294967295,C=P+(k<<4&4294967295|k>>>28),k=O+(C^P^D)+R[4]+1272893353&4294967295,O=C+(k<<11&4294967295|k>>>21),k=D+(O^C^P)+R[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^C)+R[10]+3200236656&4294967295,P=D+(k<<23&4294967295|k>>>9),k=C+(P^D^O)+R[13]+681279174&4294967295,C=P+(k<<4&4294967295|k>>>28),k=O+(C^P^D)+R[0]+3936430074&4294967295,O=C+(k<<11&4294967295|k>>>21),k=D+(O^C^P)+R[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^C)+R[6]+76029189&4294967295,P=D+(k<<23&4294967295|k>>>9),k=C+(P^D^O)+R[9]+3654602809&4294967295,C=P+(k<<4&4294967295|k>>>28),k=O+(C^P^D)+R[12]+3873151461&4294967295,O=C+(k<<11&4294967295|k>>>21),k=D+(O^C^P)+R[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=P+(D^O^C)+R[2]+3299628645&4294967295,P=D+(k<<23&4294967295|k>>>9),k=C+(D^(P|~O))+R[0]+4096336452&4294967295,C=P+(k<<6&4294967295|k>>>26),k=O+(P^(C|~D))+R[7]+1126891415&4294967295,O=C+(k<<10&4294967295|k>>>22),k=D+(C^(O|~P))+R[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~C))+R[5]+4237533241&4294967295,P=D+(k<<21&4294967295|k>>>11),k=C+(D^(P|~O))+R[12]+1700485571&4294967295,C=P+(k<<6&4294967295|k>>>26),k=O+(P^(C|~D))+R[3]+2399980690&4294967295,O=C+(k<<10&4294967295|k>>>22),k=D+(C^(O|~P))+R[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~C))+R[1]+2240044497&4294967295,P=D+(k<<21&4294967295|k>>>11),k=C+(D^(P|~O))+R[8]+1873313359&4294967295,C=P+(k<<6&4294967295|k>>>26),k=O+(P^(C|~D))+R[15]+4264355552&4294967295,O=C+(k<<10&4294967295|k>>>22),k=D+(C^(O|~P))+R[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~C))+R[13]+1309151649&4294967295,P=D+(k<<21&4294967295|k>>>11),k=C+(D^(P|~O))+R[4]+4149444226&4294967295,C=P+(k<<6&4294967295|k>>>26),k=O+(P^(C|~D))+R[11]+3174756917&4294967295,O=C+(k<<10&4294967295|k>>>22),k=D+(C^(O|~P))+R[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=P+(O^(D|~C))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var P=C-this.blockSize,R=this.B,D=this.h,O=0;O<C;){if(D==0)for(;O<=P;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<C;)if(R[D++]=b.charCodeAt(O++),D==this.blockSize){i(this,R),D=0;break}}else for(;O<C;)if(R[D++]=b[O++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var P=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=P&255,P/=256;for(this.u(b),b=Array(16),C=P=0;4>C;++C)for(var R=0;32>R;R+=8)b[P++]=this.g[C]>>>R&255;return b};function s(b,C){var P=a;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=C(b)}function o(b,C){this.h=C;for(var P=[],R=!0,D=b.length-1;0<=D;D--){var O=b[D]|0;R&&O==C||(P[D]=O,R=!1)}this.g=P}var a={};function l(b){return-128<=b&&128>b?s(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(c(-b));for(var C=[],P=1,R=0;b>=P;R++)C[R]=b/P|0,P*=4294967296;return new o(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return S(d(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(C,8)),R=f,D=0;D<b.length;D+=8){var O=Math.min(8,b.length-D),k=parseInt(b.substring(D,D+O),C);8>O?(O=c(Math.pow(C,O)),R=R.j(O).add(c(k))):(R=R.j(P),R=R.add(c(k)))}return R}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-S(this).m();for(var b=0,C=1,P=0;P<this.g.length;P++){var R=this.i(P);b+=(0<=R?R:4294967296+R)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(g(this))return"-"+S(this).toString(b);for(var C=c(Math.pow(b,6)),P=this,R="";;){var D=A(P,C).g;P=v(P,D.j(C));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=D,T(P))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=v(this,b),g(b)?-1:T(b)?0:1};function S(b){for(var C=b.g.length,P=[],R=0;R<C;R++)P[R]=~b.g[R];return new o(P,~b.h).add(h)}t.abs=function(){return g(this)?S(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],R=0,D=0;D<=C;D++){var O=R+(this.i(D)&65535)+(b.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);R=k>>>16,O&=65535,k&=65535,P[D]=k<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(b,C){return b.add(S(C))}t.j=function(b){if(T(this)||T(b))return f;if(g(this))return g(b)?S(this).j(S(b)):S(S(this).j(b));if(g(b))return S(this.j(S(b)));if(0>this.l(m)&&0>b.l(m))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,P=[],R=0;R<2*C;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<b.g.length;D++){var O=this.i(R)>>>16,k=this.i(R)&65535,W=b.i(D)>>>16,re=b.i(D)&65535;P[2*R+2*D]+=k*re,y(P,2*R+2*D),P[2*R+2*D+1]+=O*re,y(P,2*R+2*D+1),P[2*R+2*D+1]+=k*W,y(P,2*R+2*D+1),P[2*R+2*D+2]+=O*W,y(P,2*R+2*D+2)}for(R=0;R<C;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=C;R<2*C;R++)P[R]=0;return new o(P,0)};function y(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function _(b,C){this.g=b,this.h=C}function A(b,C){if(T(C))throw Error("division by zero");if(T(b))return new _(f,f);if(g(b))return C=A(S(b),C),new _(S(C.g),S(C.h));if(g(C))return C=A(b,S(C)),new _(S(C.g),C.h);if(30<b.g.length){if(g(b)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,R=C;0>=R.l(b);)P=N(P),R=N(R);var D=M(P,1),O=M(R,1);for(R=M(R,2),P=M(P,2);!T(R);){var k=O.add(R);0>=k.l(b)&&(D=D.add(P),O=k),R=M(R,1),P=M(P,1)}return C=v(b,D.j(C)),new _(D,C)}for(D=f;0<=b.l(C);){for(P=Math.max(1,Math.floor(b.m()/C.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(P),k=O.j(C);g(k)||0<k.l(b);)P-=R,O=c(P),k=O.j(C);T(O)&&(O=h),D=D.add(O),b=v(b,k)}return new _(D,b)}t.A=function(b){return A(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)&b.i(R);return new o(P,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)|b.i(R);return new o(P,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],R=0;R<C;R++)P[R]=this.i(R)^b.i(R);return new o(P,this.h^b.h)};function N(b){for(var C=b.g.length+1,P=[],R=0;R<C;R++)P[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(P,b.h)}function M(b,C){var P=C>>5;C%=32;for(var R=b.g.length-P,D=[],O=0;O<R;O++)D[O]=0<C?b.i(O+P)>>>C|b.i(O+P+1)<<32-C:b.i(O+P);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,qi=o}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cA,Ol,uA,Wd,Jg,dA,hA,fA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,w){return u==Array.prototype||u==Object.prototype||(u[p]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var p=0;p<u.length;++p){var w=u[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var w=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var V=u[I];if(!(V in w))break e;w=w[V]}u=u[u.length-1],I=w[u],p=p(I),p!=I&&p!=null&&e(w,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var w=0,I=!1,V={next:function(){if(!I&&w<u.length){var F=w++;return{value:p(F,u[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,w){return u.call.apply(u.bind,arguments)}function f(u,p,w){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,I),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function h(u,p,w){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(u,p){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function T(u,p){function w(){}w.prototype=p.prototype,u.aa=p.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(I,V,F){for(var K=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)K[Oe-2]=arguments[Oe];return p.prototype[V].apply(I,K)}}function g(u){const p=u.length;if(0<p){const w=Array(p);for(let I=0;I<p;I++)w[I]=u[I];return w}return[]}function S(u,p){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(l(I)){const V=u.length||0,F=I.length||0;u.length=V+F;for(let K=0;K<F;K++)u[V+K]=I[K]}else u.push(I)}}class v{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(u,p,w){for(const I in u)p.call(w,u[I],I,u)}function b(u,p){for(const w in u)p.call(void 0,u[w],w,u)}function C(u){const p={};for(const w in u)p[w]=u[w];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,p){let w,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(w in I)u[w]=I[w];for(let F=0;F<P.length;F++)w=P[F],Object.prototype.hasOwnProperty.call(I,w)&&(u[w]=I[w])}}function D(u){var p=1;u=u.split(":");const w=[];for(;0<p&&u.length;)w.push(u.shift()),p--;return u.length&&w.push(u.join(":")),w}function O(u){a.setTimeout(()=>{throw u},0)}function k(){var u=$;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,w){const I=re.get();I.set(p,w),this.h?this.h.next=I:this.g=I,this.h=I}}var re=new v(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let G,L=!1,$=new W,Q=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(q)}};var q=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(w){O(w)}var p=re;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}L=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};a.addEventListener("test",w,p),a.removeEventListener("test",w,p)}catch{}return u}();function Be(u,p){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(N){e:{try{A(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else w=="mouseover"?p=u.fromElement:w=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Be.aa.h.call(this)}}T(Be,ne);var pe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),xe=0;function $e(u,p,w,I,V){this.listener=u,this.proxy=null,this.src=p,this.type=w,this.capture=!!I,this.ha=V,this.key=++xe,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,p,w,I,V){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var K=pt(u,p,I,V);return-1<K?(p=u[K],w||(p.fa=!1)):(p=new $e(p,this.src,F,!!I,V),p.fa=w,u.push(p)),p};function ye(u,p){var w=p.type;if(w in u.g){var I=u.g[w],V=Array.prototype.indexOf.call(I,p,void 0),F;(F=0<=V)&&Array.prototype.splice.call(I,V,1),F&&(me(p),u.g[w].length==0&&(delete u.g[w],u.h--))}}function pt(u,p,w,I){for(var V=0;V<u.length;++V){var F=u[V];if(!F.da&&F.listener==p&&F.capture==!!w&&F.ha==I)return V}return-1}var St="closure_lm_"+(1e6*Math.random()|0),bn={};function Qt(u,p,w,I,V){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Qt(u,p[F],w,I,V);return null}return w=rl(w),u&&u[ee]?u.K(p,w,c(I)?!!I.capture:!!I,V):Pr(u,p,w,!1,I,V)}function Pr(u,p,w,I,V,F){if(!p)throw Error("Invalid event type");var K=c(V)?!!V.capture:!!V,Oe=si(u);if(Oe||(u[St]=Oe=new Ee(u)),w=Oe.add(p,w,I,K,F),w.proxy)return w;if(I=tl(),w.proxy=I,I.src=u,I.listener=w,u.addEventListener)Ce||(V=K),V===void 0&&(V=!1),u.addEventListener(p.toString(),I,V);else if(u.attachEvent)u.attachEvent(Cu(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function tl(){function u(w){return p.call(u.src,u.listener,w)}const p=sp;return u}function lt(u,p,w,I,V){if(Array.isArray(p))for(var F=0;F<p.length;F++)lt(u,p[F],w,I,V);else I=c(I)?!!I.capture:!!I,w=rl(w),u&&u[ee]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],w=pt(F,w,I,V),-1<w&&(me(F[w]),Array.prototype.splice.call(F,w,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=si(u))&&(p=u.g[p.toString()],u=-1,p&&(u=pt(p,w,I,V)),(w=-1<u?p[u]:null)&&rr(w))}function rr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])ye(p.i,u);else{var w=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(w,I,u.capture):p.detachEvent?p.detachEvent(Cu(w),I):p.addListener&&p.removeListener&&p.removeListener(I),(w=si(p))?(ye(w,u),w.h==0&&(w.src=null,p[St]=null)):me(u)}}}function Cu(u){return u in bn?bn[u]:bn[u]="on"+u}function sp(u,p){if(u.da)u=!0;else{p=new Be(p,this);var w=u.listener,I=u.ha||u.src;u.fa&&rr(u),u=w.call(I,p)}return u}function si(u){return u=u[St],u instanceof Ee?u:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function rl(u){return typeof u=="function"?u:(u[nl]||(u[nl]=function(p){return u.handleEvent(p)}),u[nl])}function ct(){Z.call(this),this.i=new Ee(this),this.M=this,this.F=null}T(ct,Z),ct.prototype[ee]=!0,ct.prototype.removeEventListener=function(u,p,w,I){lt(this,u,p,w,I)};function Je(u,p){var w,I=u.F;if(I)for(w=[];I;I=I.F)w.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new ne(p,u);else if(p instanceof ne)p.target=p.target||u;else{var V=p;p=new ne(I,u),R(p,V)}if(V=!0,w)for(var F=w.length-1;0<=F;F--){var K=p.g=w[F];V=_s(K,I,!0,p)&&V}if(K=p.g=u,V=_s(K,I,!0,p)&&V,V=_s(K,I,!1,p)&&V,w)for(F=0;F<w.length;F++)K=p.g=w[F],V=_s(K,I,!1,p)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var w=u.g[p],I=0;I<w.length;I++)me(w[I]);delete u.g[p],u.h--}}this.F=null},ct.prototype.K=function(u,p,w,I){return this.i.add(String(u),p,!1,w,I)},ct.prototype.L=function(u,p,w,I){return this.i.add(String(u),p,!0,w,I)};function _s(u,p,w,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,F=0;F<p.length;++F){var K=p[F];if(K&&!K.da&&K.capture==w){var Oe=K.listener,Ct=K.ha||K.src;K.fa&&ye(u.i,K),V=Oe.call(Ct,I)!==!1&&V}}return V&&!I.defaultPrevented}function Ar(u,p,w){if(typeof u=="function")w&&(u=h(u,w));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function il(u){u.g=Ar(()=>{u.g=null,u.i&&(u.i=!1,il(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class op extends Z{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:il(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(u){Z.call(this),this.h=u,this.g={}}T(oi,Z);var sl=[];function bu(u){M(u.g,function(p,w){this.g.hasOwnProperty(w)&&rr(p)},u),u.g={}}oi.prototype.N=function(){oi.aa.N.call(this),bu(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=a.JSON.stringify,ir=a.JSON.parse,ap=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function le(){}le.prototype.h=null;function Ne(u){return u.h||(u.h=u.i())}function Re(){}var Ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sn(){ne.call(this,"d")}T(sn,ne);function ai(){ne.call(this,"c")}T(ai,ne);var Rr={},Rw=null;function Iu(){return Rw=Rw||new ct}Rr.La="serverreachability";function kw(u){ne.call(this,Rr.La,u)}T(kw,ne);function ol(u){const p=Iu();Je(p,new kw(p))}Rr.STAT_EVENT="statevent";function Nw(u,p){ne.call(this,Rr.STAT_EVENT,u),this.stat=p}T(Nw,ne);function Yt(u){const p=Iu();Je(p,new Nw(p,u))}Rr.Ma="timingevent";function Dw(u,p){ne.call(this,Rr.Ma,u),this.size=p}T(Dw,ne);function al(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function pD(u,p,w,I,V,F){u.info(function(){if(u.g)if(F)for(var K="",Oe=F.split("&"),Ct=0;Ct<Oe.length;Ct++){var be=Oe[Ct].split("=");if(1<be.length){var Mt=be[0];be=be[1];var Vt=Mt.split("_");K=2<=Vt.length&&Vt[1]=="type"?K+(Mt+"="+be+"&"):K+(Mt+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+p+`
`+w+`
`+K})}function mD(u,p,w,I,V,F,K){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+p+`
`+w+`
`+F+" "+K})}function vo(u,p,w,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+yD(u,w)+(I?" "+I:"")})}function gD(u,p){u.info(function(){return"TIMEOUT: "+p})}ll.prototype.info=function(){};function yD(u,p){if(!u.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var I=w[u];if(!(2>I.length)){var V=I[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Es(w)}catch{return p}}var Pu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ow={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lp;function Au(){}T(Au,le),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},lp=new Au;function li(u,p,w,I){this.j=u,this.i=p,this.l=w,this.R=I||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mw}function Mw(){this.i=null,this.g="",this.h=!1}var Vw={},cp={};function up(u,p,w){u.L=1,u.v=Du(kr(p)),u.m=w,u.P=!0,Lw(u,null)}function Lw(u,p){u.F=Date.now(),Ru(u),u.A=kr(u.v);var w=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Xw(w.i,"t",I),u.C=0,w=u.j.J,u.h=new Mw,u.g=m_(u.j,w?p:null,!u.m),0<u.O&&(u.M=new op(h(u.Y,u,u.g),u.O)),p=u.U,w=u.g,I=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(sl[0]=V.toString()),V=sl);for(var F=0;F<V.length;F++){var K=Qt(w,V[F],I||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ol(),pD(u.i,u.u,u.A,u.l,u.R,u.m)}li.prototype.ca=function(u){u=u.target;const p=this.M;p&&Nr(u)==3?p.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Nr(this.g);var p=this.g.Ba();const Eo=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||i_(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=Eo?ol(3):ol(2)),dp(this);var w=this.g.Z();this.X=w;t:if(Fw(this)){var I=i_(this.g);u="";var V=I.length,F=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),cl(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(F&&p==V-1)});I.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=w==200,mD(this.i,this.u,this.A,this.l,this.R,Vt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Ct=this.g;if((Oe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Oe)){var be=Oe;break t}}be=null}if(w=be)vo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hp(this,w);else{this.o=!1,this.s=3,Yt(12),Ts(this),cl(this);break e}}if(this.P){w=!0;let Un;for(;!this.J&&this.C<K.length;)if(Un=vD(this,K),Un==cp){Vt==4&&(this.s=4,Yt(14),w=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Vw){this.s=4,Yt(15),vo(this.i,this.l,K,"[Invalid Chunk]"),w=!1;break}else vo(this.i,this.l,Un,null),hp(this,Un);if(Fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||K.length!=0||this.h.h||(this.s=1,Yt(16),w=!1),this.o=this.o&&w,!w)vo(this.i,this.l,K,"[Invalid Chunked Response]"),Ts(this),cl(this);else if(0<K.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),vp(Mt),Mt.M=!0,Yt(11))}}else vo(this.i,this.l,K,null),hp(this,K);Vt==4&&Ts(this),this.o&&!this.J&&(Vt==4?d_(this.j,this):(this.o=!1,Ru(this)))}else MD(this.g),w==400&&0<K.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Ts(this),cl(this)}}}catch{}finally{}};function Fw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vD(u,p){var w=u.C,I=p.indexOf(`
`,w);return I==-1?cp:(w=Number(p.substring(w,I)),isNaN(w)?Vw:(I+=1,I+w>p.length?cp:(p=p.slice(I,I+w),u.C=I+w,p)))}li.prototype.cancel=function(){this.J=!0,Ts(this)};function Ru(u){u.S=Date.now()+u.I,jw(u,u.I)}function jw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=al(h(u.ba,u),p)}function dp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}li.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(gD(this.i,this.A),this.L!=2&&(ol(),Yt(17)),Ts(this),this.s=2,cl(this)):jw(this,this.S-u)};function cl(u){u.j.G==0||u.J||d_(u.j,u)}function Ts(u){dp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,bu(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function hp(u,p){try{var w=u.j;if(w.G!=0&&(w.g==u||fp(w.h,u))){if(!u.K&&fp(w.h,u)&&w.G==3){try{var I=w.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)ju(w),Lu(w);else break e;yp(w),Yt(18)}}else w.za=V[1],0<w.za-w.T&&37500>V[2]&&w.F&&w.v==0&&!w.C&&(w.C=al(h(w.Za,w),6e3));if(1>=$w(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ss(w,11)}else if((u.K||w.g==u)&&ju(w),!y(p))for(V=w.Da.g.parse(p),p=0;p<V.length;p++){let be=V[p];if(w.T=be[0],be=be[1],w.G==2)if(be[0]=="c"){w.K=be[1],w.ia=be[2];const Mt=be[3];Mt!=null&&(w.la=Mt,w.j.info("VER="+w.la));const Vt=be[4];Vt!=null&&(w.Aa=Vt,w.j.info("SVER="+w.Aa));const Eo=be[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(I=1.5*Eo,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Un=u.g;if(Un){const Bu=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bu){var F=I.h;F.g||Bu.indexOf("spdy")==-1&&Bu.indexOf("quic")==-1&&Bu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pp(F,F.h),F.h=null))}if(I.D){const wp=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(I.ya=wp,Ve(I.I,I.D,wp))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var K=u;if(I.qa=p_(I,I.J?I.ia:null,I.W),K.K){zw(I.h,K);var Oe=K,Ct=I.L;Ct&&(Oe.I=Ct),Oe.B&&(dp(Oe),Ru(Oe)),I.g=K}else c_(I);0<w.i.length&&Fu(w)}else be[0]!="stop"&&be[0]!="close"||Ss(w,7);else w.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ss(w,7):gp(w):be[0]!="noop"&&w.l&&w.l.ta(be),w.v=0)}}ol(4)}catch{}}var wD=class{constructor(u,p){this.g=u,this.map=p}};function Uw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $w(u){return u.h?1:u.g?u.g.size:0}function fp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function pp(u,p){u.g?u.g.add(p):u.h=p}function zw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Uw.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ww(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const w of u.g.values())p=p.concat(w.D);return p}return g(u.i)}function _D(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],w=u.length,I=0;I<w;I++)p.push(u[I]);return p}p=[],w=0;for(I in u)p[w++]=u[I];return p}function ED(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var w=0;w<u;w++)p.push(w);return p}p=[],w=0;for(const I in u)p[w++]=I;return p}}}function Hw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var w=ED(u),I=_D(u),V=I.length,F=0;F<V;F++)p.call(void 0,I[F],w&&w[F],u)}var Kw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TD(u,p){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var I=u[w].indexOf("="),V=null;if(0<=I){var F=u[w].substring(0,I);V=u[w].substring(I+1)}else F=u[w];p(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function xs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xs){this.h=u.h,ku(this,u.j),this.o=u.o,this.g=u.g,Nu(this,u.s),this.l=u.l;var p=u.i,w=new hl;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),qw(this,w),this.m=u.m}else u&&(p=String(u).match(Kw))?(this.h=!1,ku(this,p[1]||"",!0),this.o=ul(p[2]||""),this.g=ul(p[3]||"",!0),Nu(this,p[4]),this.l=ul(p[5]||"",!0),qw(this,p[6]||"",!0),this.m=ul(p[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}xs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(dl(p,Gw,!0),":");var w=this.g;return(w||p=="file")&&(u.push("//"),(p=this.o)&&u.push(dl(p,Gw,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(dl(w,w.charAt(0)=="/"?CD:SD,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",dl(w,ID)),u.join("")};function kr(u){return new xs(u)}function ku(u,p,w){u.j=w?ul(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Nu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function qw(u,p,w){p instanceof hl?(u.i=p,PD(u.i,u.h)):(w||(p=dl(p,bD)),u.i=new hl(p,u.h))}function Ve(u,p,w){u.i.set(p,w)}function Du(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ul(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dl(u,p,w){return typeof u=="string"?(u=encodeURI(u).replace(p,xD),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gw=/[#\/\?@]/g,SD=/[#\?:]/g,CD=/[#\?]/g,bD=/[#\?@]/g,ID=/#/g;function hl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ci(u){u.g||(u.g=new Map,u.h=0,u.i&&TD(u.i,function(p,w){u.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=hl.prototype,t.add=function(u,p){ci(this),this.i=null,u=wo(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(p),this.h+=1,this};function Qw(u,p){ci(u),p=wo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Yw(u,p){return ci(u),p=wo(u,p),u.g.has(p)}t.forEach=function(u,p){ci(this),this.g.forEach(function(w,I){w.forEach(function(V){u.call(p,V,I,this)},this)},this)},t.na=function(){ci(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let I=0;I<p.length;I++){const V=u[I];for(let F=0;F<V.length;F++)w.push(p[I])}return w},t.V=function(u){ci(this);let p=[];if(typeof u=="string")Yw(this,u)&&(p=p.concat(this.g.get(wo(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)p=p.concat(u[w])}return p},t.set=function(u,p){return ci(this),this.i=null,u=wo(this,u),Yw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Xw(u,p,w){Qw(u,p),0<w.length&&(u.i=null,u.g.set(wo(u,p),g(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var I=p[w];const F=encodeURIComponent(String(I)),K=this.V(I);for(I=0;I<K.length;I++){var V=F;K[I]!==""&&(V+="="+encodeURIComponent(String(K[I]))),u.push(V)}}return this.i=u.join("&")};function wo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function PD(u,p){p&&!u.j&&(ci(u),u.i=null,u.g.forEach(function(w,I){var V=I.toLowerCase();I!=V&&(Qw(this,I),Xw(this,V,w))},u)),u.j=p}function AD(u,p){const w=new ll;if(a.Image){const I=new Image;I.onload=m(ui,w,"TestLoadImage: loaded",!0,p,I),I.onerror=m(ui,w,"TestLoadImage: error",!1,p,I),I.onabort=m(ui,w,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(ui,w,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function RD(u,p){const w=new ll,I=new AbortController,V=setTimeout(()=>{I.abort(),ui(w,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(F=>{clearTimeout(V),F.ok?ui(w,"TestPingServer: ok",!0,p):ui(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),ui(w,"TestPingServer: error",!1,p)})}function ui(u,p,w,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(w)}catch{}}function kD(){this.g=new ap}function ND(u,p,w){const I=w||"";try{Hw(u,function(V,F){let K=V;c(V)&&(K=Es(V)),p.push(I+F+"="+encodeURIComponent(K))})}catch(V){throw p.push(I+"type="+encodeURIComponent("_badmap")),V}}function Ou(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Ou,le),Ou.prototype.g=function(){return new Mu(this.l,this.j)},Ou.prototype.i=function(u){return function(){return u}}({});function Mu(u,p){ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Mu,ct),t=Mu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,pl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?fl(this):pl(this),this.readyState==3&&Jw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,fl(this))},t.Qa=function(u){this.g&&(this.response=u,fl(this))},t.ga=function(){this.g&&fl(this)};function fl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=p.next();return u.join(`\r
`)};function pl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zw(u){let p="";return M(u,function(w,I){p+=I,p+=":",p+=w,p+=`\r
`}),p}function mp(u,p,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=Zw(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Ve(u,p,w))}function Ze(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ze,ct);var DD=/^https?$/i,OD=["POST","PUT"];t=Ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lp.g(),this.v=this.o?Ne(this.o):Ne(lp),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){e_(this,F);return}if(u=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)w.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())w.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OD,p,void 0))||I||V||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of w)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r_(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){e_(this,F)}};function e_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,t_(u),Vu(u)}function t_(u){u.A||(u.A=!0,Je(u,"complete"),Je(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Je(this,"complete"),Je(this,"abort"),Vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n_(this):this.bb())},t.bb=function(){n_(this)};function n_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Nr(u)!=4||u.Z()!=2)){if(u.u&&Nr(u)==4)Ar(u.Ea,0,u);else if(Je(u,"readystatechange"),Nr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var I;if(I=K===0){var V=String(u.D).match(Kw)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),I=!DD.test(V?V.toLowerCase():"")}w=I}if(w)Je(u,"complete"),Je(u,"success");else{u.m=6;try{var F=2<Nr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",t_(u)}}finally{Vu(u)}}}}function Vu(u,p){if(u.g){r_(u);const w=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Je(u,"ready");try{w.onreadystatechange=I}catch{}}}function r_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Nr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ir(p)}};function i_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function MD(u){const p={};u=(u.g&&2<=Nr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var w=D(u[I]);const V=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=p[V]||[];p[V]=F,F.push(w)}b(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(u,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||p}function s_(u){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,u),this.cb=ml("retryDelaySeedMs",1e4,u),this.Wa=ml("forwardChannelMaxRetries",2,u),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Uw(u&&u.concurrentRequestLimit),this.Da=new kD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s_.prototype,t.la=8,t.G=1,t.connect=function(u,p,w,I){Yt(0),this.W=u,this.H=p||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=p_(this,null,this.W),Fu(this)};function gp(u){if(o_(u),u.G==3){var p=u.U++,w=kr(u.I);if(Ve(w,"SID",u.K),Ve(w,"RID",p),Ve(w,"TYPE","terminate"),gl(u,w),p=new li(u,u.j,p),p.L=2,p.v=Du(kr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=p.v,w=!0),w||(p.g=m_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ru(p)}f_(u)}function Lu(u){u.g&&(vp(u),u.g.cancel(),u.g=null)}function o_(u){Lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),ju(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fu(u){if(!Bw(u.h)&&!u.s){u.s=!0;var p=u.Ga;G||Q(),L||(G(),L=!0),$.add(p,u),u.B=0}}function VD(u,p){return $w(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=al(h(u.Ga,u,p),h_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new li(this,this.j,u);let F=this.o;if(this.S&&(F?(F=C(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=l_(this,V,p),w=kr(this.I),Ve(w,"RID",u),Ve(w,"CVER",22),this.D&&Ve(w,"X-HTTP-Session-Id",this.D),gl(this,w),F&&(this.O?p="headers="+encodeURIComponent(String(Zw(F)))+"&"+p:this.m&&mp(w,this.m,F)),pp(this.h,V),this.Ua&&Ve(w,"TYPE","init"),this.P?(Ve(w,"$req",p),Ve(w,"SID","null"),V.T=!0,up(V,w,null)):up(V,w,p),this.G=2}}else this.G==3&&(u?a_(this,u):this.i.length==0||Bw(this.h)||a_(this))};function a_(u,p){var w;p?w=p.l:w=u.U++;const I=kr(u.I);Ve(I,"SID",u.K),Ve(I,"RID",w),Ve(I,"AID",u.T),gl(u,I),u.m&&u.o&&mp(I,u.m,u.o),w=new li(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),p&&(u.i=p.D.concat(u.i)),p=l_(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pp(u.h,w),up(w,I,p)}function gl(u,p){u.H&&M(u.H,function(w,I){Ve(p,I,w)}),u.l&&Hw({},function(w,I){Ve(p,I,w)})}function l_(u,p,w){w=Math.min(u.i.length,w);var I=u.l?h(u.l.Na,u.l,u):null;e:{var V=u.i;let F=-1;for(;;){const K=["count="+w];F==-1?0<w?(F=V[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let Oe=!0;for(let Ct=0;Ct<w;Ct++){let be=V[Ct].g;const Mt=V[Ct].map;if(be-=F,0>be)F=Math.max(0,V[Ct].g-100),Oe=!1;else try{ND(Mt,K,"req"+be+"_")}catch{I&&I(Mt)}}if(Oe){I=K.join("&");break e}}}return u=u.i.splice(0,w),p.D=u,I}function c_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;G||Q(),L||(G(),L=!0),$.add(p,u),u.v=0}}function yp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=al(h(u.Fa,u),h_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,u_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=al(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Lu(this),u_(this))};function vp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function u_(u){u.g=new li(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=kr(u.qa);Ve(p,"RID","rpc"),Ve(p,"SID",u.K),Ve(p,"AID",u.T),Ve(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(p,"TO",u.ja),Ve(p,"TYPE","xmlhttp"),gl(u,p),u.m&&u.o&&mp(p,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Du(kr(p)),w.m=null,w.P=!0,Lw(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Lu(this),yp(this),Yt(19))};function ju(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function d_(u,p){var w=null;if(u.g==p){ju(u),vp(u),u.g=null;var I=2}else if(fp(u.h,p))w=p.D,zw(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;I=Iu(),Je(I,new Dw(I,w)),Fu(u)}else c_(u);else if(V=p.s,V==3||V==0&&0<p.X||!(I==1&&VD(u,p)||I==2&&yp(u)))switch(w&&0<w.length&&(p=u.h,p.i=p.i.concat(w)),V){case 1:Ss(u,5);break;case 4:Ss(u,10);break;case 3:Ss(u,6);break;default:Ss(u,2)}}}function h_(u,p){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*p}function Ss(u,p){if(u.j.info("Error code "+p),p==2){var w=h(u.fb,u),I=u.Xa;const V=!I;I=new xs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(I,"https"),Du(I),V?AD(I.toString(),w):RD(I.toString(),w)}else Yt(2);u.G=0,u.l&&u.l.sa(p),f_(u),o_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function f_(u){if(u.G=0,u.ka=[],u.l){const p=Ww(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function p_(u,p,w){var I=w instanceof xs?kr(w):new xs(w);if(I.g!="")p&&(I.g=p+"."+I.g),Nu(I,I.s);else{var V=a.location;I=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var F=new xs(null);I&&ku(F,I),p&&(F.g=p),V&&Nu(F,V),w&&(F.l=w),I=F}return w=u.D,p=u.ya,w&&p&&Ve(I,w,p),Ve(I,"VER",u.la),gl(u,I),I}function m_(u,p,w){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ze(new Ou({eb:w})):new Ze(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g_(){}t=g_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uu(){}Uu.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){ct.call(this),this.g=new s_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new _o(this)}T(fn,ct),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){gp(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Es(u),u=w);p.i.push(new wD(p.Ya++,u)),p.G==3&&Fu(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,gp(this.g),delete this.g,fn.aa.N.call(this)};function y_(u){sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const w in p){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}T(y_,sn);function v_(){ai.call(this),this.status=1}T(v_,ai);function _o(u){this.g=u}T(_o,g_),_o.prototype.ua=function(){Je(this.g,"a")},_o.prototype.ta=function(u){Je(this.g,new y_(u))},_o.prototype.sa=function(u){Je(this.g,new v_)},_o.prototype.ra=function(){Je(this.g,"b")},Uu.prototype.createWebChannel=Uu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,fA=function(){return new Uu},hA=function(){return Iu()},dA=Rr,Jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,Wd=Pu,Ow.COMPLETE="complete",uA=Ow,Re.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ol=Re,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,cA=Ze}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const BT="@firebase/firestore",$T="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new u0("@firebase/firestore");function bo(){return ro.logLevel}function Y(t,...e){if(ro.logLevel<=ve.DEBUG){const n=e.map(E0);ro.debug(`Firestore (${qa}): ${t}`,...n)}}function Jr(t,...e){if(ro.logLevel<=ve.ERROR){const n=e.map(E0);ro.error(`Firestore (${qa}): ${t}`,...n)}}function ts(t,...e){if(ro.logLevel<=ve.WARN){const n=e.map(E0);ro.warn(`Firestore (${qa}): ${t}`,...n)}}function E0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pA(t,r,n)}function pA(t,e,n){let r=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jr(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pA(e,i,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class SU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CU{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new mA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class bU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=AU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Zg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fe(r,i);{const s=gA(),o=RU(s.encode(WT(t,n)),s.encode(WT(e,n)));return o!==0?o:fe(r,i)}}n+=r>65535?2:1}return fe(t.length,e.length)}function WT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function RU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fe(t[n],e[n]);return fe(t.length,e.length)}function Pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__name__";class ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ar.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return fe(e.length,n.length)}static compareSegments(e,n){const r=ar.isNumericId(e),i=ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class qe extends ar{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const kU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ar{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return kU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new At([HT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(qe.fromString(e))}static fromName(e){return new ie(qe.fromString(e).popFirst(5))}static empty(){return new ie(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DU(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!ie.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Lc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x0(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function mu(t,e){if(!yA(t))throw new te(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new te(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,GT=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GT);return new je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:ft("string",je._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new je(0,0))}static max(){return new ce(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function OU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new ns(i,ie.empty(),e)}function MU(t){return new ns(t.readTime,t.key,Fc)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(ce.min(),ie.empty(),Fc)}static max(){return new ns(ce.max(),ie.empty(),Fc)}}function VU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==LU)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-1;function Uf(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function UU(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="";function BU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QT(e)),e=$U(t.get(n),e);return QT(e)}function $U(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case vA:n+="";break;default:n+=s}}return n}function QT(t){return t+vA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XT(this.data.getIterator())}getIteratorFrom(e){return new XT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class XT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new vt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _A("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const zU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=zU.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="server_timestamp",TA="__type__",xA="__previous_value__",SA="__local_write_time__";function C0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TA])===null||n===void 0?void 0:n.stringValue)===EA}function Bf(t){const e=t.mapValue.fields[xA];return C0(e)?Bf(e):e}function jc(t){const e=rs(t.mapValue.fields[SA].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const $h="(default)";class Uc{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",bA="__max__",pd={mapValue:{fields:{__type__:{stringValue:bA}}}},IA="__vector__",zh="value";function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C0(t)?4:KU(t)?9007199254740991:HU(t)?10:11:oe(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return is(i.bytesValue).isEqual(is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?Bh(o)===Bh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pa(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(YT(o)!==YT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Bc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JT(t.timestampValue,e.timestampValue);case 4:return JT(jc(t),jc(e));case 5:return Zg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=is(s),l=is(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=fe(a[c],l[c]);if(d!==0)return d}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(st(s.latitude),st(o.latitude));return a!==0?a:fe(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},h=o.fields||{},m=(a=f[zh])===null||a===void 0?void 0:a.arrayValue,T=(l=h[zh])===null||l===void 0?void 0:l.arrayValue,g=fe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:ZT(m,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pd.mapValue&&o===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(o===pd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Zg(l[f],d[f]);if(h!==0)return h;const m=Aa(a[l[f]],c[d[f]]);if(m!==0)return m}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{le:n})}}function JT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=rs(t),r=rs(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function ZT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Aa(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function Ra(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ey(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ey(n.fields[o])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function Hd(t){switch(ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Hd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fo(r.fields,(s,o)=>{i+=s.length+Hd(o)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function ty(t){return!!t&&"integerValue"in t}function b0(t){return!!t&&"arrayValue"in t}function e1(t){return!!t&&"nullValue"in t}function t1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kd(t){return!!t&&"mapValue"in t}function HU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||n===void 0?void 0:n.stringValue)===IA}function Zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dn(Zl(this.value))}}function PA(t){const e=[];return fo(t.fields,(n,r)=>{const i=new At([n]);if(Kd(r)){const s=PA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ce.min(),ce.min(),ce.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,ce.min(),ce.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ce.min(),ce.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function n1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function qU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{}class gt extends AA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QU(e,n,r):n==="array-contains"?new JU(e,r):n==="in"?new ZU(e,r):n==="not-in"?new e9(e,r):n==="array-contains-any"?new t9(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YU(e,r):new XU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends AA{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new br(e,n)}matches(e){return RA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function RA(t){return t.op==="and"}function kA(t){return GU(t)&&RA(t)}function GU(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function ny(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Ra(t.value);if(kA(t))return t.filters.map(e=>ny(e)).join(",");{const e=t.filters.map(n=>ny(n)).join(",");return`${t.op}(${e})`}}function NA(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NA(o,i.filters[a]),!0):!1}(t,e):void oe(19439)}function DA(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ra(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(DA).join(" ,")+"}"}(t):"Filter"}class QU extends gt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class YU extends gt{constructor(e,n){super(e,"in",n),this.keys=OA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XU extends gt{constructor(e,n){super(e,"not-in",n),this.keys=OA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class JU extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b0(n)&&Bc(n.arrayValue,this.value)}}class ZU extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class e9 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class t9 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function i1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new n9(t,e,n,r,i,s,o)}function I0(t){const e=ue(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ra(r)).join(",")),e.Pe=n}return e.Pe}function P0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r1(t.startAt,e.startAt)&&r1(t.endAt,e.endAt)}function ry(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function r9(t,e,n,r,i,s,o,a){return new $f(t,e,n,r,i,s,o,a)}function A0(t){return new $f(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i9(t){return t.collectionGroup!==null}function ec(t){const e=ue(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(At.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Hh(s,r))}),n.has(At.keyField().canonicalString())||e.Te.push(new Hh(At.keyField(),r))}return e.Te}function yr(t){const e=ue(t);return e.Ie||(e.Ie=s9(e,ec(t))),e.Ie}function s9(t,e){if(t.limitType==="F")return i1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Hh(i.field,s)});const n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return i1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e,n){return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return P0(yr(t),yr(e))&&t.limitType===e.limitType}function MA(t){return`${I0(yr(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DA(i)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ec(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=n1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ec(r),i)||r.endAt&&!function(o,a,l){const c=n1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ec(r),i))}(t,e)}function o9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VA(t){return(e,n)=>{let r=!1;for(const i of ec(t)){const s=a9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function a9(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Aa(l,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new Xe(ie.comparator);function Zr(){return l9}const LA=new Xe(ie.comparator);function Ml(...t){let e=LA;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=LA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Os(){return tc()}function jA(){return tc()}function tc(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const c9=new Xe(ie.comparator),u9=new vt(ie.comparator);function _e(...t){let e=u9;for(const n of t)e=e.add(n);return e}const d9=new vt(fe);function h9(){return d9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function UA(t){return{integerValue:""+t}}function f9(t,e){return UU(e)?UA(e):R0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function p9(t,e,n){return t instanceof Kh?function(i,s){const o={fields:{[TA]:{stringValue:EA},[SA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&C0(s)&&(s=Bf(s)),s&&(o.fields[xA]=s),{mapValue:o}}(n,e):t instanceof $c?$A(t,e):t instanceof zc?zA(t,e):function(i,s){const o=BA(i,s),a=o1(o)+o1(i.Ee);return ty(o)&&ty(i.Ee)?UA(a):R0(i.serializer,a)}(t,e)}function m9(t,e,n){return t instanceof $c?$A(t,e):t instanceof zc?zA(t,e):n}function BA(t,e){return t instanceof qh?function(r){return ty(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kh extends Hf{}class $c extends Hf{constructor(e){super(),this.elements=e}}function $A(t,e){const n=WA(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class zc extends Hf{constructor(e){super(),this.elements=e}}function zA(t,e){let n=WA(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class qh extends Hf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function o1(t){return st(t.integerValue||t.doubleValue)}function WA(t){return b0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $c&&i instanceof $c||r instanceof zc&&i instanceof zc?Pa(r.elements,i.elements,Cr):r instanceof qh&&i instanceof qh?Cr(r.Ee,i.Ee):r instanceof Kh&&i instanceof Kh}(t.transform,e.transform)}class y9{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function HA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qA(t.key,zr.none()):new gu(t.key,t.data,zr.none());{const n=t.data,r=Dn.empty();let i=new vt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mo(t.key,r,new Yn(i.toArray()),zr.none())}}function v9(t,e,n){t instanceof gu?function(i,s,o){const a=i.value.clone(),l=l1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mo?function(i,s,o){if(!qd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nc(t,e,n,r){return t instanceof gu?function(s,o,a,l){if(!qd(s.precondition,o))return a;const c=s.value.clone(),d=c1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof mo?function(s,o,a,l){if(!qd(s.precondition,o))return a;const c=c1(s.fieldTransforms,l,o),d=o.data;return d.setAll(KA(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return qd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BA(r.transform,i||null);s!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,s))}return n||null}function a1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pa(r,i,(s,o)=>g9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends Kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends Kf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l1(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,m9(o,a,n[i]))}return r}function c1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,p9(s,o,e))}return r}class qA extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _9 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=HA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(n,r)=>a1(n,r))&&Pa(this.baseMutations,e.baseMutations,(n,r)=>a1(n,r))}}class k0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return c9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new k0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Te;function S9(t){switch(t){case B.OK:return oe(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function GA(t){if(t===void 0)return Jr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ut.OK:return B.OK;case ut.CANCELLED:return B.CANCELLED;case ut.UNKNOWN:return B.UNKNOWN;case ut.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ut.INTERNAL:return B.INTERNAL;case ut.UNAVAILABLE:return B.UNAVAILABLE;case ut.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ut.NOT_FOUND:return B.NOT_FOUND;case ut.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ut.ABORTED:return B.ABORTED;case ut.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ut.DATA_LOSS:return B.DATA_LOSS;default:return oe(39323,{code:t})}}(Te=ut||(ut={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new qi([4294967295,4294967295],0);function u1(t){const e=gA().encode(t),n=new lA;return n.update(e),new Uint8Array(n.digest())}function d1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qi([n,r],0),new qi([i,s],0)]}class N0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=qi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(qi.fromNumber(r)));return i.compare(C9)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=u1(e),[r,i]=d1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new N0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=u1(e),[r,i]=d1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qf(ce.min(),i,new Xe(fe),Zr(),_e())}}class yu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class QA{constructor(e,n){this.targetId=e,this.De=n}}class YA{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h1{constructor(){this.ve=0,this.Ce=f1(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_e(),n=_e(),r=_e();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:s})}}),new yu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=f1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class b9{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zr(),this.je=md(),this.Je=md(),this.He=new Xe(fe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(ry(s))if(r===0){const o=new ie(s.path);this.Xe(n,o,Wt.newNoDocument(o,ce.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=is(r).toUint8Array()}catch(l){if(l instanceof _A)return ts("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new N0(o,i,s)}catch(l){return ts(l instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&ry(a.target)){const l=new ie(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Wt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=_e();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new qf(e,n,this.He,this.ze,r);return this.ze=Zr(),this.je=md(),this.Je=md(),this.He=new Xe(fe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new h1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vt(fe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vt(fe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new h1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function md(){return new Xe(ie.comparator)}function f1(){return new Xe(ie.comparator)}const I9={asc:"ASCENDING",desc:"DESCENDING"},P9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A9={and:"AND",or:"OR"};class R9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function Gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k9(t,e){return Gh(t,e.toTimestamp())}function vr(t){return Ae(!!t,49232),ce.fromTimestamp(function(n){const r=rs(n);return new je(r.seconds,r.nanos)}(t))}function D0(t,e){return oy(t,e).canonicalString()}function oy(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JA(t){const e=qe.fromString(t);return Ae(rR(e),10190,{key:e.toString()}),e}function ay(t,e){return D0(t.databaseId,e.path)}function lm(t,e){const n=JA(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(eR(n))}function ZA(t,e){return D0(t.databaseId,e)}function N9(t){const e=JA(t);return e.length===4?qe.emptyPath():eR(e)}function ly(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eR(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p1(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function D9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ae(d===void 0||typeof d=="string",58123),Dt.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:GA(c.code);return new te(d,c.message||"")}(o);n=new YA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lm(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ce.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Gd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lm(t,r.document),s=r.readTime?vr(r.readTime):ce.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lm(t,r.document),s=r.removedTargetIds||[];n=new Gd([],s,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new x9(i,s),a=r.targetId;n=new QA(a,o)}}return n}function O9(t,e){let n;if(e instanceof gu)n={update:p1(t,e.key,e.value)};else if(e instanceof qA)n={delete:ay(t,e.key)};else if(e instanceof mo)n={update:p1(t,e.key,e.data),updateMask:z9(e.fieldMask)};else{if(!(e instanceof _9))return oe(16599,{Rt:e.type});n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe(27497)}(t,e.precondition)),n}function M9(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(ce.min())&&(o=vr(s)),new y9(o,i.transformResults||[])}(n,e))):[]}function V9(t,e){return{documents:[ZA(t,e.path)]}}function L9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZA(t,i);const s=function(c){if(c.length!==0)return nR(br.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Po(h.field),direction:U9(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function F9(t){let e=N9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=tR(f);return h instanceof br&&kA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(T){return new Hh(Ao(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Uf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Wh(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Wh(m,h)}(n.endAt)),r9(e,i,o,s,a,"F",l,c)}function j9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ao(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ao(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ao(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ao(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>tR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function U9(t){return I9[t]}function B9(t){return P9[t]}function $9(t){return A9[t]}function Po(t){return{fieldPath:t.canonicalString()}}function Ao(t){return At.fromServerFormat(t.fieldPath)}function nR(t){return t instanceof gt?function(n){if(n.op==="=="){if(t1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(e1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(e1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:B9(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(i=>nR(i));return r.length===1?r[0]:{compositeFilter:{op:$9(n.op),filters:r}}}(t):oe(54877,{filter:t})}function z9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.gt=e}}function H9(t){const e=F9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.Dn=new q9}addToCollectionParentIndex(e,n){return this.Dn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ns.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class q9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iR=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(iR,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ka(0)}static ur(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="LruGarbageCollector",G9=1048576;function y1([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class Q9{constructor(e){this.Tr=e,this.buffer=new vt(y1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(g1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qa(n)?Y(g1,"Ignoring IndexedDB error during garbage collection: ",n):await Ga(n)}await this.Rr(3e5)})}}class X9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(jf.ue);const r=new Q9(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(m1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),bo()<=ve.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function J9(t,e){return new X9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nc(r.mutation,i,Yn.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ml();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zr();const o=tc(),a=function(){return tc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof mo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),nc(d.mutation,c,d.mutation.getFieldMask(),je.now())):o.set(c.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new eB(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tc();let i=new Xe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Yn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=jA();d.forEach(h=>{if(!s.has(h)){const m=HA(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Os());let a=Fc,l=s;return o.next(c=>j.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(d=>({batchId:a,changes:FA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ml();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(f,h){return new $f(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let a=Ml();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&nc(d.mutation,c,Yn.empty(),je.now()),Wf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return j.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:H9(i.bundledQuery),readTime:vr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.overlays=new Xe(ie.comparator),this.kr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Os(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Os(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Os(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T9(n,r));let s=this.kr.get(n);s===void 0&&(s=_e(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.qr=new vt(_t.Qr),this.$r=new vt(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ie(new qe([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ie(new qe([])),r=new _t(n,e),i=new _t(n,e+1);let s=_e();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ie.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vt(_t.Qr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?S0:this.er-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(fe);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),j.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new _t(new ie(s),0);let a=new vt(fe);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),j.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return j.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _t(n,0),i=this.Yr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.ni=e,this.docs=function(){return new Xe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||VU(MU(d),r)<=0||(i.has(d.key)||Wf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}ri(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aB(this)}getSize(e){return j.resolve(this.size)}}class aB extends Z9{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.persistence=e,this.ii=new po(n=>I0(n),P0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new O0,this.targetCount=0,this._i=ka.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),j.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.hr(n),j.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.ai={},this.overlays={},this.ui=new jf(0),this.ci=!1,this.ci=!0,this.li=new iB,this.referenceDelegate=e(this),this.hi=new lB(this),this.indexManager=new K9,this.remoteDocumentCache=function(i){return new oB(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new W9(n),this.Ti=new nB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new sB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new cB(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return j.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class cB extends FU{constructor(e){super(),this.currentSequenceNumber=e}}class M0{constructor(e){this.persistence=e,this.Ai=new O0,this.Ri=null}static Vi(e){return new M0(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.mi,r=>{const i=ie.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return j.or([()=>j.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.gi=new po(r=>BU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=J9(this,n)}static Vi(e,n){return new Qh(e,n)}Ii(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return j.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),j.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}Sr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return $j()?8:jU(Gt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uB;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(bo()<=ve.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(bo()<=ve.DEBUG&&Y("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(bo()<=ve.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):j.resolve())}ps(e,n){if(s1(n))return j.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iy(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,iy(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return s1(n)||i.isEqual(ce.min())?j.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?j.resolve(null):(bo()<=ve.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Io(n)),this.vs(e,o,n,OU(i,Fc)).next(a=>a))})}bs(e,n){let r=new vt(VA(e));return n.forEach((i,s)=>{Wf(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return bo()<=ve.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Io(n)),this.gs.getDocumentsMatchingQuery(e,n,ns.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LocalStore",hB=3e8;class fB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Xe(fe),this.Ms=new po(s=>I0(s),P0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function pB(t,e,n,r){return new fB(t,e,n,r)}async function oR(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function mB(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=j.resolve();return h.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(g=>{const S=c.docVersions.get(T);Ae(S!==null,48541),g.version.compareTo(S)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aR(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function gB(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,S,v){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=hB?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=Zr(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(yB(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(ce.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function yB(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(L0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function vB(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=S0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wB(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new Oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function cy(t,e,n){const r=ue(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qa(o))throw o;Y(L0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function v1(t,e,n){const r=ue(t);let i=ce.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ue(l),h=f.Ms.get(d);return h!==void 0?j.resolve(f.Fs.get(h)):f.hi.getTargetData(c,d)}(r,o,yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:_e())).next(a=>(_B(r,o9(e),a),{documents:a,qs:s})))}function _B(t,e,n){let r=t.xs.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class w1{constructor(){this.activeTargetIds=h9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EB{constructor(){this.Fo=new w1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new w1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="ConnectivityMonitor";class E1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(_1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Y(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function uy(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",xB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=uy(),a=this.Go(e,n.toUriEncodedString());Y(cm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=Wa(c);return this.jo(e,a,l,r,d).then(f=>(Y(cm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ts(cm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=xB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class bB extends SB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=uy();return new Promise((a,l)=>{const c=new cA;c.setWithCredentials(!0),c.listenOnce(uA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wd.NO_ERROR:const f=c.getResponseJson();Y(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Wd.TIMEOUT:Y(Ut,`RPC '${e}' ${o} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const h=c.getStatus();if(Y(Ut,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(T.status);l(new te(g,T.message))}else l(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Y(Ut,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(Ut,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=uy(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fA(),a=hA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Ut,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,m=!1;const T=new CB({Ho:S=>{m?Y(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(Y(Ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Y(Ut,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Yo:()=>f.close()}),g=(S,v,y)=>{S.listen(v,_=>{try{y(_)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,Ol.EventType.OPEN,()=>{m||(Y(Ut,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),g(f,Ol.EventType.CLOSE,()=>{m||(m=!0,Y(Ut,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(f))}),g(f,Ol.EventType.ERROR,S=>{m||(m=!0,ts(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.__(new te(B.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ol.EventType.MESSAGE,S=>{var v;if(!m){const y=S.data[0];Ae(!!y,16349);const _=y,A=(_==null?void 0:_.error)||((v=_[0])===null||v===void 0?void 0:v.error);if(A){Y(Ut,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let M=function(P){const R=ut[P];if(R!==void 0)return GA(R)}(N),b=A.message;M===void 0&&(M=B.INTERNAL,b="Unknown error status: "+N+" with message "+A.message),m=!0,T.__(new te(M,b)),f.close()}else Y(Ut,`RPC '${e}' stream ${i} received:`,y),T.a_(y)}}),g(a,dA.STAT_EVENT,S=>{S.stat===Jg.PROXY?Y(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Jg.NOPROXY&&Y(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new R9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="PersistentStream";class cR{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new lR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Y(T1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Y(T1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IB extends cR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=D9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?vr(o.readTime):ce.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ly(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ry(l)?{documents:V9(s,l)}:{query:L9(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XA(s,o.resumeToken);const c=sy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Gh(s,o.snapshotVersion.toTimestamp());const c=sy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=j9(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ly(this.serializer),n.removeTarget=e,this.k_(n)}}class PB extends cR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=M9(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ly(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O9(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{}class RB extends AB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,oy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(B.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,oy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class kB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Jr(n),this._a=!1):Y("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class NB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{go(this)&&(Y(io,"Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.Ia.add(4),await vu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Qf(c)}(this))})}),this.Aa=new kB(r,i)}}async function Qf(t){if(go(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function uR(t,e){const n=ue(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),B0(n)?U0(n):Ya(n).x_()&&j0(n,e))}function F0(t,e){const n=ue(t),r=Ya(n);n.Ta.delete(e),r.x_()&&dR(n,e),n.Ta.size===0&&(r.x_()?r.B_():go(n)&&n.Aa.set("Unknown"))}function j0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).H_(e)}function dR(t,e){t.Ra.$e(e),Ya(t).Y_(e)}function U0(t){t.Ra=new b9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.Aa.aa()}function B0(t){return go(t)&&!Ya(t).M_()&&t.Ta.size>0}function go(t){return ue(t).Ia.size===0}function hR(t){t.Ra=void 0}async function DB(t){t.Aa.set("Online")}async function OB(t){t.Ta.forEach((e,n)=>{j0(t,e)})}async function MB(t,e){hR(t),B0(t)?(t.Aa.la(e),U0(t)):t.Aa.set("Unknown")}async function VB(t,e,n){if(t.Aa.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){Y(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yh(t,r)}else if(e instanceof Gd?t.Ra.Ye(e):e instanceof QA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ce.min()))try{const r=await aR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),dR(s,l);const f=new Oi(d.target,l,c,d.sequenceNumber);j0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(io,"Failed to raise snapshot:",r),await Yh(t,r)}}async function Yh(t,e,n){if(!Qa(e))throw e;t.Ia.add(1),await vu(t),t.Aa.set("Offline"),n||(n=()=>aR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(io,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qf(t)})}function fR(t,e){return e().catch(n=>Yh(t,n,e))}async function Yf(t){const e=ue(t),n=os(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:S0;for(;LB(e);)try{const i=await vB(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,FB(e,i)}catch(i){await Yh(e,i)}pR(e)&&mR(e)}function LB(t){return go(t)&&t.Pa.length<10}function FB(t,e){t.Pa.push(e);const n=os(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function pR(t){return go(t)&&!os(t).M_()&&t.Pa.length>0}function mR(t){os(t).start()}async function jB(t){os(t).na()}async function UB(t){const e=os(t);for(const n of t.Pa)e.X_(n.mutations)}async function BB(t,e,n){const r=t.Pa.shift(),i=k0.from(r,e,n);await fR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yf(t)}async function $B(t,e){e&&os(t).Z_&&await async function(r,i){if(function(o){return S9(o)&&o!==B.ABORTED}(i.code)){const s=r.Pa.shift();os(r).N_(),await fR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yf(r)}}(t,e),pR(t)&&mR(t)}async function x1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Y(io,"RemoteStore received new credentials");const r=go(n);n.Ia.add(3),await vu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qf(n)}async function zB(t,e){const n=ue(t);e?(n.Ia.delete(2),await Qf(n)):e||(n.Ia.add(2),await vu(n),n.Aa.set("Unknown"))}function Ya(t){return t.Va||(t.Va=function(n,r,i){const s=ue(n);return s.ia(),new IB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:DB.bind(null,t),e_:OB.bind(null,t),n_:MB.bind(null,t),J_:VB.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),B0(t)?U0(t):t.Aa.set("Unknown")):(await t.Va.stop(),hR(t))})),t.Va}function os(t){return t.ma||(t.ma=function(n,r,i){const s=ue(n);return s.ia(),new PB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:jB.bind(null,t),n_:$B.bind(null,t),ea:UB.bind(null,t),ta:BB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Yf(t)):(await t.ma.stop(),t.Pa.length>0&&(Y(io,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z0(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Qa(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.fa=new Xe(ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Na{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Na(e,n,sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class HB{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=C1(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function C1(){return new po(t=>MA(t),zf)}async function KB(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new WB,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=z0(o,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&W0(n)}async function qB(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GB(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&W0(n)}function QB(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function W0(t){t.Da.forEach(e=>{e.next()})}var dy,b1;(b1=dy||(dy={})).Fa="default",b1.Cache="cache";class YB{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class XB{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_e(),this.mutatedKeys=_e(),this.Xa=VA(e),this.eu=new sa(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new S1,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Wf(this.query,f)?f:null,T=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;h&&m?h.data.isEqual(m.data)?T!==g&&(r.track({type:3,doc:m}),S=!0):this.iu(h,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),S=!0):h&&!m&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(m,T){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:S})}};return g(m)-g(T)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Na(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new S1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new yR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new gR(r))}),n}uu(e){this.Ha=e.qs,this.Za=_e();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Na.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const H0="SyncEngine";class JB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZB{constructor(e){this.key=e,this.lu=!1}}class e${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new po(a=>MA(a),zf),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(ie.comparator),this.Eu=new Map,this.Au=new O0,this.Ru={},this.Vu=new Map,this.mu=ka.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function t$(t,e,n=!0){const r=xR(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await vR(r,e,n,!0),i}async function n$(t,e){const n=xR(t);await vR(n,e,!0,!1)}async function vR(t,e,n,r){const i=await wB(t.localStore,yr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await r$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&uR(t.remoteStore,i),a}async function r$(t,e,n,r,i){t.gu=(f,h,m)=>async function(g,S,v,y){let _=S.view.nu(v);_.Ds&&(_=await v1(g.localStore,S.query,!1).then(({documents:b})=>S.view.nu(b,_)));const A=y&&y.targetChanges.get(S.targetId),N=y&&y.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(_,g.isPrimaryClient,A,N);return P1(g,S.targetId,M._u),M.snapshot}(t,f,h,m);const s=await v1(t.localStore,e,!0),o=new XB(e,s.qs),a=o.nu(s.documents),l=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);P1(t,n,c._u);const d=new JB(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function i$(t,e,n){const r=ue(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!zf(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&F0(r.remoteStore,i.targetId),hy(r,i.targetId)}).catch(Ga)):(hy(r,i.targetId),await cy(r.localStore,i.targetId,!0))}async function s$(t,e){const n=ue(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F0(n.remoteStore,r.targetId))}async function o$(t,e,n){const r=f$(t);try{const i=await function(o,a){const l=ue(o),c=je.now(),d=a.reduce((m,T)=>m.add(T.key),_e());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Zr(),g=_e();return l.Os.getEntries(m,d).next(S=>{T=S,T.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(S=>{f=S;const v=[];for(const y of a){const _=w9(y,f.get(y.key).overlayedDocument);_!=null&&v.push(new mo(y.key,_,PA(_.value.mapValue),zr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,v,a)}).next(S=>{h=S;const v=S.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,S.batchId,v)})}).then(()=>({batchId:h.batchId,changes:FA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Xe(fe)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await wu(r,i.changes),await Yf(r.remoteStore)}catch(i){const s=z0(i,"Failed to persist write");n.reject(s)}}async function wR(t,e){const n=ue(t);try{const r=await gB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Ae(o.lu,14607):i.removedDocuments.size>0&&(Ae(o.lu,42227),o.lu=!1))}),await wu(n,r,e)}catch(r){await Ga(r)}}function I1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(c=!0)}),c&&W0(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a$(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Xe(ie.comparator);o=o.insert(s,Wt.newNoDocument(s,ce.min()));const a=_e().add(s),l=new qf(ce.min(),new Map,new Xe(fe),o,a);await wR(r,l),r.du=r.du.remove(s),r.Eu.delete(e),K0(r)}else await cy(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(Ga)}async function l$(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await mB(n.localStore,e);ER(n,r,null),_R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,i)}catch(i){await Ga(i)}}async function c$(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ae(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);ER(r,e,n),_R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,i)}catch(i){await Ga(i)}}function _R(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ER(t,e,n){const r=ue(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||TR(t,r)})}function TR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(F0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),K0(t))}function P1(t,e,n){for(const r of n)r instanceof gR?(t.Au.addReference(r.key,e),u$(t,r)):r instanceof yR?(Y(H0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||TR(t,r.key)):oe(19791,{yu:r})}function u$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Y(H0,"New document in limbo: "+n),t.Iu.add(r),K0(t))}function K0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ie(qe.fromString(e)),r=t.mu.next();t.Eu.set(r,new ZB(n)),t.du=t.du.insert(n,r),uR(t.remoteStore,new Oi(yr(A0(n.path)),r,"TargetPurposeLimboResolution",jf.ue))}}async function wu(t,e,n){const r=ue(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=V0.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,h=>j.forEach(h.Is,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>j.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Qa(f))throw f;Y(L0,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Fs.get(h),T=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(T);d.Fs=d.Fs.insert(h,g)}}}(r.localStore,s))}async function d$(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Y(H0,"User change. New user:",e.toKey());const r=await oR(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.Bs)}}function h$(t,e){const n=ue(t),r=n.Eu.get(e);if(r&&r.lu)return _e().add(r.key);{let i=_e();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function xR(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a$.bind(null,e),e.hu.J_=GB.bind(null,e.eventManager),e.hu.pu=QB.bind(null,e.eventManager),e}function f$(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c$.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return pB(this.persistence,new dB,e.initialUser,this.serializer)}Du(e){return new sR(M0.Vi,this.serializer)}bu(e){return new EB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class p$ extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ae(this.persistence.referenceDelegate instanceof Qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Y9(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new sR(r=>Qh.Vi(r,n),this.serializer)}}class fy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d$.bind(null,this.syncEngine),await zB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HB}()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),r=function(s){return new bB(s)}(e.databaseInfo);return function(s,o,a,l){return new RB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new NB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return E1.C()?new E1:new TB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new e$(i,s,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);Y(io,"RemoteStore shutting down."),s.Ia.add(5),await vu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class g${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=T0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(as,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(as,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dm(t,e){t.asyncQueue.verifyOperationInProgress(),Y(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ts("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ts("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function A1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y$(t);Y(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>x1(e.remoteStore,i)),t._onlineComponents=e}async function y$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(as,"Using user provided OfflineComponentProvider");try{await dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ts("Error using user provided cache. Falling back to memory cache: "+n),await dm(t,new Xh)}}else Y(as,"Using default OfflineComponentProvider"),await dm(t,new p$(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(as,"Using user provided OnlineComponentProvider"),await A1(t,t._uninitializedComponentsProvider._online)):(Y(as,"Using default OnlineComponentProvider"),await A1(t,new fy))),t._onlineComponents}function v$(t){return SR(t).then(e=>e.syncEngine)}async function w$(t){const e=await SR(t),n=e.eventManager;return n.onListen=t$.bind(null,e.syncEngine),n.onUnlisten=i$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s$.bind(null,e.syncEngine),n}function _$(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new m$({next:h=>{d.Ou(),o.enqueueAndForget(()=>qB(s,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new YB(A0(a.path),d,{includeMetadataChanges:!0,ka:!0});return KB(s,f)}(await w$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firestore.googleapis.com",k1=!0;class N1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bR,this.ssl=k1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:k1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G9)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xU;switch(r.type){case"firstParty":return new IU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),R1.delete(n),r.terminate())}(this),Promise.resolve()}}function E$(t,e,n,r={}){var i;t=Lc(t,q0);const s=Wa(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(wP(`https://${l}`),_P("Firestore",!0)),o.host!==bR&&o.host!==l&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Zs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$t.MOCK_USER;else{d=Dj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(h)}t._authCredentials=new SU(new mA(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G0(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mu(n,Tt._jsonSchema))return new Tt(e,r||null,new ie(qe.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:ft("string",Tt._jsonSchemaVersion),referencePath:ft("string")};class Wc extends G0{constructor(e,n,r){super(e,n,A0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ie(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function D1(t,e,...n){if(t=xn(t),arguments.length===1&&(e=T0.newId()),NU("doc","path",e),t instanceof q0){const r=qe.fromString(e,...n);return KT(r),new Tt(t,null,new ie(r))}{if(!(t instanceof Tt||t instanceof Wc))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return KT(r),new Tt(t.firestore,t instanceof Wc?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="AsyncQueue";class M1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new lR(this,"async_queue_retry"),this.oc=()=>{const r=um();r&&Y(O1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Gi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qa(e))throw e;Y(O1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Jr("INTERNAL UNHANDLED ERROR: ",V1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:V1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function V1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Q0 extends q0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new M1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M1(e),this._firestoreClient=void 0,await e}}}function T$(t,e){const n=typeof t=="object"?t:SP(),r=typeof t=="string"?t:$h,i=h0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kj("firestore");s&&E$(i,...s)}return i}function IR(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x$(t),t._firestoreClient}function x$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new WU(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Dt.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ft("string",On._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(mu(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:ft("string",wr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _r(e.vectorValues);throw new te(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:ft("string",_r._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^__.*__$/;class C${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:t})}}class X0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new X0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AR(this.Ec)&&S$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class b${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}Dc(e,n,r,i=!1){return new X0({Ec:e,methodName:n,bc:r,path:At.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I$(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new b$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P$(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);DR("Data must be an object, but it was:",o,r);const a=kR(r,o);let l,c;if(s.merge)l=new Yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=A$(e,f,n);if(!o.contains(h))throw new te(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k$(d,h)||d.push(h)}l=new Yn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new C$(new Dn(a),l,c)}function RR(t,e){if(NR(t=xn(t)))return DR("Unsupported field value:",e,t),kR(t,e);if(t instanceof PR)return function(r,i){if(!AR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=RR(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=je.fromDate(r);return{timestampValue:Gh(i.serializer,s)}}if(r instanceof je){const s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,s)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:XA(i.serializer,r._byteString)};if(r instanceof Tt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _r)return function(o,a){return{mapValue:{fields:{[CA]:{stringValue:IA},[zh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return R0(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${x0(r)}`)}(t,e)}function kR(t,e){const n={};return wA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,i)=>{const s=RR(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof wr||t instanceof On||t instanceof Tt||t instanceof PR||t instanceof _r)}function DR(t,e,n){if(!NR(n)||!yA(n)){const r=x0(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function A$(t,e,n){if((e=xn(e))instanceof Y0)return e._internalPath;if(typeof e=="string")return OR(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const R$=new RegExp("[~\\*/\\[\\]]");function OR(t,e,n){if(e.search(R$)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Y0(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function k$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N$ extends MR{data(){return super.data()}}function VR(t,e){return typeof e=="string"?OR(t,e):e instanceof Y0?e._internalPath:e._delegate._internalPath}class D${convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new _r(s)}convertGeoPoint(e){return new wr(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){const n=rs(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ae(rR(r),9688,{name:e});const i=new Uc(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends MR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:ft("string",zs._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Qd extends zs{data(e={}){return super.data(e)}}class rc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:M$(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=T0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){t=Lc(t,Tt);const e=Lc(t.firestore,Q0);return _$(IR(e),t._key).then(n=>U$(e,t,n))}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:ft("string",rc._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class L$ extends D${constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function F$(t,e,n){t=Lc(t,Tt);const r=Lc(t.firestore,Q0),i=O$(t.converter,e);return j$(r,[P$(I$(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zr.none())])}function j$(t,e){return function(r,i){const s=new Gi;return r.asyncQueue.enqueueAndForget(async()=>o$(await v$(r),i,s)),s.promise}(IR(t),e)}function U$(t,e,n){const r=n.docs.get(e._key),i=new L$(t);return new zs(t,i,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qa=i})(Ha),Ia(new eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Q0(new CU(r.getProvider("auth-internal")),new PU(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ki(BT,$T,e),Ki(BT,$T,"esm2017")})();const B$={apiKey:"AIzaSyDsJcis-MrcwZVEnWhq89kS4ZorQj8_vGE",authDomain:"globalvista-cb047.firebaseapp.com",projectId:"globalvista-cb047",storageBucket:"globalvista-cb047.firebasestorage.app",messagingSenderId:"856716454203",appId:"1:856716454203:web:09781a07960df646cbaf1e",measurementId:"G-ZNL5SKFBYD"},LR=xP(B$),Fl=wU(LR),L1=T$(LR),FR=E.createContext(void 0),yo=()=>{const t=E.useContext(FR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$$=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(!0),s=async(c,d)=>{await i6(Fl,c,d)},o=async(c,d)=>{await XP(Fl,c,d)},a=async()=>{await l6(Fl)};E.useEffect(()=>a6(Fl,d=>{n(d),i(!1)}),[]);const l={currentUser:e,loading:r,login:o,signup:s,logout:a};return x.jsx(FR.Provider,{value:l,children:t})},yd=({children:t})=>{const{currentUser:e,loading:n}=yo();return n?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:x.jsx(ou,{className:"w-12 h-12 animate-spin text-indigo-500"})}):e?x.jsx(x.Fragment,{children:t}):x.jsx(uj,{to:"/",replace:!0})},jR=E.createContext({});function z$(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const J0=typeof window<"u",W$=J0?E.useLayoutEffect:E.useEffect,Z0=E.createContext(null);function ew(t,e){t.indexOf(e)===-1&&t.push(e)}function tw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ei=(t,e,n)=>n>e?e:n<t?t:n;let Zh=()=>{};const ti={},UR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function BR(t){return typeof t=="object"&&t!==null}const $R=t=>/^0[^.\s]+$/u.test(t);function nw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ln=t=>t,H$=(t,e)=>n=>e(t(n)),_u=(...t)=>t.reduce(H$),Hc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class rw{constructor(){this.subscriptions=[]}add(e){return ew(this.subscriptions,e),()=>tw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=t=>t*1e3,Tr=t=>t/1e3;function zR(t,e){return e?t*(1e3/e):0}const WR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,K$=1e-7,q$=12;function G$(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=WR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>K$&&++a<q$);return o}function Eu(t,e,n,r){if(t===e&&n===r)return Ln;const i=s=>G$(s,0,1,t,n);return s=>s===0||s===1?s:WR(i(s),e,r)}const HR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KR=t=>e=>1-t(1-e),qR=Eu(.33,1.53,.69,.99),iw=KR(qR),GR=HR(iw),QR=t=>(t*=2)<1?.5*iw(t):.5*(2-Math.pow(2,-10*(t-1))),sw=t=>1-Math.sin(Math.acos(t)),YR=KR(sw),XR=HR(sw),Q$=Eu(.42,0,1,1),Y$=Eu(0,0,.58,1),JR=Eu(.42,0,.58,1),X$=t=>Array.isArray(t)&&typeof t[0]!="number",ZR=t=>Array.isArray(t)&&typeof t[0]=="number",F1={linear:Ln,easeIn:Q$,easeInOut:JR,easeOut:Y$,circIn:sw,circInOut:XR,circOut:YR,backIn:iw,backInOut:GR,backOut:qR,anticipate:QR},J$=t=>typeof t=="string",j1=t=>{if(ZR(t)){Zh(t.length===4);const[e,n,r,i]=t;return Eu(e,n,r,i)}else if(J$(t))return Zh(F1[t]!==void 0),F1[t];return t},vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],U1={value:null,addProjectionMetrics:null};function Z$(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,h=!1,m=!1)=>{const g=m&&i?n:r;return h&&o.add(f),g.has(f)||g.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&U1.value&&U1.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const ez=40;function ek(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=vd.reduce((_,A)=>(_[A]=Z$(s,e?A:void 0),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:m,postRender:T}=o,g=()=>{const _=ti.useManualTiming?i.timestamp:performance.now();n=!1,ti.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,ez),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),m.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},S=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:vd.reduce((_,A)=>{const N=o[A];return _[A]=(M,b=!1,C=!1)=>(n||S(),N.schedule(M,b,C)),_},{}),cancel:_=>{for(let A=0;A<vd.length;A++)o[vd[A]].cancel(_)},state:i,steps:o}}const{schedule:We,cancel:ls,state:It,steps:hm}=ek(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let Yd;function tz(){Yd=void 0}const cn={now:()=>(Yd===void 0&&cn.set(It.isProcessing||ti.useManualTiming?It.timestamp:performance.now()),Yd),set:t=>{Yd=t,queueMicrotask(tz)}},tk=t=>e=>typeof e=="string"&&e.startsWith(t),ow=tk("--"),nz=tk("var(--"),aw=t=>nz(t)?rz.test(t.split("/*")[0].trim()):!1,rz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kc={...Xa,transform:t=>ei(0,1,t)},wd={...Xa,default:1},ic=t=>Math.round(t*1e5)/1e5,lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iz(t){return t==null}const sz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cw=(t,e)=>n=>!!(typeof n=="string"&&sz.test(n)&&n.startsWith(t)||e&&!iz(n)&&Object.prototype.hasOwnProperty.call(n,e)),nk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(lw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oz=t=>ei(0,255,t),fm={...Xa,transform:t=>Math.round(oz(t))},Ms={test:cw("rgb","red"),parse:nk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fm.transform(t)+", "+fm.transform(e)+", "+fm.transform(n)+", "+ic(Kc.transform(r))+")"};function az(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const py={test:cw("#"),parse:az,transform:Ms.transform},Tu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gi=Tu("deg"),xr=Tu("%"),ae=Tu("px"),lz=Tu("vh"),cz=Tu("vw"),B1={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},zo={test:cw("hsl","hue"),parse:nk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xr.transform(ic(e))+", "+xr.transform(ic(n))+", "+ic(Kc.transform(r))+")"},dt={test:t=>Ms.test(t)||py.test(t)||zo.test(t),parse:t=>Ms.test(t)?Ms.parse(t):zo.test(t)?zo.parse(t):py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ms.transform(t):zo.transform(t),getAnimatableNone:t=>{const e=dt.parse(t);return e.alpha=0,dt.transform(e)}},uz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lw))==null?void 0:e.length)||0)+(((n=t.match(uz))==null?void 0:n.length)||0)>0}const rk="number",ik="color",hz="var",fz="var(",$1="${}",pz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(pz,l=>(dt.test(l)?(r.color.push(s),i.push(ik),n.push(dt.parse(l))):l.startsWith(fz)?(r.var.push(s),i.push(hz),n.push(l)):(r.number.push(s),i.push(rk),n.push(parseFloat(l))),++s,$1)).split($1);return{values:n,split:a,indexes:r,types:i}}function sk(t){return qc(t).values}function ok(t){const{split:e,types:n}=qc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===rk?s+=ic(i[o]):a===ik?s+=dt.transform(i[o]):s+=i[o]}return s}}const mz=t=>typeof t=="number"?0:dt.test(t)?dt.getAnimatableNone(t):t;function gz(t){const e=sk(t);return ok(t)(e.map(mz))}const cs={test:dz,parse:sk,createTransformer:ok,getAnimatableNone:gz};function pm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=pm(l,a,t+1/3),s=pm(l,a,t),o=pm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ef(t,e){return n=>n>0?e:t}const Ge=(t,e,n)=>t+(e-t)*n,mm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vz=[py,Ms,zo],wz=t=>vz.find(e=>e.test(t));function z1(t){const e=wz(t);if(!e)return!1;let n=e.parse(t);return e===zo&&(n=yz(n)),n}const W1=(t,e)=>{const n=z1(t),r=z1(e);if(!n||!r)return ef(t,e);const i={...n};return s=>(i.red=mm(n.red,r.red,s),i.green=mm(n.green,r.green,s),i.blue=mm(n.blue,r.blue,s),i.alpha=Ge(n.alpha,r.alpha,s),Ms.transform(i))},my=new Set(["none","hidden"]);function _z(t,e){return my.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ez(t,e){return n=>Ge(t,e,n)}function uw(t){return typeof t=="number"?Ez:typeof t=="string"?aw(t)?ef:dt.test(t)?W1:Sz:Array.isArray(t)?ak:typeof t=="object"?dt.test(t)?W1:Tz:ef}function ak(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>uw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Tz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=uw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function xz(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const Sz=(t,e)=>{const n=cs.createTransformer(e),r=qc(t),i=qc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?my.has(t)&&!i.values.length||my.has(e)&&!r.values.length?_z(t,e):_u(ak(xz(r,i),i.values),n):ef(t,e)};function lk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):uw(t)(t,e)}const Cz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>ls(e),now:()=>It.isProcessing?It.timestamp:cn.now()}},ck=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tf=2e4;function dw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tf;)e+=n,r=t.next(e);return e>=tf?1/0:e}function bz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(dw(r),tf);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Tr(i)}}const Iz=5;function uk(t,e,n){const r=Math.max(e-Iz,0);return zR(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gm=.001;function Pz({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let i,s,o=1-e;o=ei(tt.minDamping,tt.maxDamping,o),t=ei(tt.minDuration,tt.maxDuration,Tr(t)),o<1?(i=c=>{const d=c*o,f=d*t,h=d-n,m=gy(c,o),T=Math.exp(-f);return gm-h/m*T},s=c=>{const f=c*o*t,h=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-f),g=gy(Math.pow(c,2),o);return(-i(c)+gm>0?-1:1)*((h-m)*T)/g}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-gm+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=Rz(i,s,a);if(t=Er(t),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Az=12;function Rz(t,e,n){let r=n;for(let i=1;i<Az;i++)r=r-t(r)/e(r);return r}function gy(t,e){return t*Math.sqrt(1-e*e)}const kz=["duration","bounce"],Nz=["stiffness","damping","mass"];function H1(t,e){return e.some(n=>t[n]!==void 0)}function Dz(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!H1(t,Nz)&&H1(t,kz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:tt.mass,stiffness:i,damping:s}}else{const n=Pz(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function nf(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Dz({...n,velocity:-Tr(n.velocity||0)}),T=h||0,g=c/(2*Math.sqrt(l*d)),S=o-s,v=Tr(Math.sqrt(l/d)),y=Math.abs(S)<5;r||(r=y?tt.restSpeed.granular:tt.restSpeed.default),i||(i=y?tt.restDelta.granular:tt.restDelta.default);let _;if(g<1){const N=gy(v,g);_=M=>{const b=Math.exp(-g*v*M);return o-b*((T+g*v*S)/N*Math.sin(N*M)+S*Math.cos(N*M))}}else if(g===1)_=N=>o-Math.exp(-v*N)*(S+(T+v*S)*N);else{const N=v*Math.sqrt(g*g-1);_=M=>{const b=Math.exp(-g*v*M),C=Math.min(N*M,300);return o-b*((T+g*v*S)*Math.sinh(C)+N*S*Math.cosh(C))/N}}const A={calculatedDuration:m&&f||null,next:N=>{const M=_(N);if(m)a.done=N>=f;else{let b=N===0?T:0;g<1&&(b=N===0?Er(T):uk(_,N,M));const C=Math.abs(b)<=r,P=Math.abs(o-M)<=i;a.done=C&&P}return a.value=a.done?o:M,a},toString:()=>{const N=Math.min(dw(A),tf),M=ck(b=>A.next(N*b).value,N,30);return N+"ms "+M},toTransition:()=>{}};return A}nf.applyToOptions=t=>{const e=bz(t,100,nf);return t.ease=e.ease,t.duration=Er(e.duration),t.type="keyframes",t};function yy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,T=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let g=n*e;const S=f+g,v=o===void 0?S:o(S);v!==S&&(g=v-f);const y=C=>-g*Math.exp(-C/r),_=C=>v+y(C),A=C=>{const P=y(C),R=_(C);h.done=Math.abs(P)<=c,h.value=h.done?v:R};let N,M;const b=C=>{m(h.value)&&(N=C,M=nf({keyframes:[h.value,T(h.value)],velocity:uk(_,C,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:C=>{let P=!1;return!M&&N===void 0&&(P=!0,A(C),b(C)),N!==void 0&&C>=N?M.next(C-N):(!P&&A(C),h)}}}function Oz(t,e,n){const r=[],i=n||ti.mix||lk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ln:e;a=_u(l,a)}r.push(a)}return r}function Mz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Zh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Oz(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Hc(t[f],t[f+1],d);return a[f](h)};return n?d=>c(ei(t[0],t[s-1],d)):c}function Vz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hc(0,e,r);t.push(Ge(n,1,i))}}function Lz(t){const e=[0];return Vz(e,t.length-1),e}function Fz(t,e){return t.map(n=>n*e)}function jz(t,e){return t.map(()=>e||JR).splice(0,t.length-1)}function sc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=X$(r)?r.map(j1):j1(r),s={done:!1,value:e[0]},o=Fz(n&&n.length===e.length?n:Lz(e),t),a=Mz(o,e,{ease:Array.isArray(i)?i:jz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Uz=t=>t!==null;function hw(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Uz),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Bz={decay:yy,inertia:yy,tween:sc,keyframes:sc,spring:nf};function dk(t){typeof t.type=="string"&&(t.type=Bz[t.type])}class fw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $z=t=>t/100;class pw extends fw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;dk(e);const{type:n=sc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||sc;l!==sc&&typeof a[0]!="number"&&(this.mixKeyframes=_u($z,lk(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=dw(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:T,onUpdate:g,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,A=r;if(f){const C=Math.min(this.currentTime,i)/a;let P=Math.floor(C),R=C%1;!R&&C>=1&&(R=1),R===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/a)):h==="mirror"&&(A=o)),_=ei(0,1,R)*a}const N=y?{done:!1,value:d[0]}:A.next(_);s&&(N.value=s(N.value));let{done:M}=N;!y&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return b&&T!==yy&&(N.value=hw(d,this.options,S,this.speed)),g&&g(N.value),b&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(e){var n;e=Er(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Cz,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function zz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vs=t=>t*180/Math.PI,vy=t=>{const e=Vs(Math.atan2(t[1],t[0]));return wy(e)},Wz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vy,rotateZ:vy,skewX:t=>Vs(Math.atan(t[1])),skewY:t=>Vs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wy=t=>(t=t%360,t<0&&(t+=360),t),K1=vy,q1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),G1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Hz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q1,scaleY:G1,scale:t=>(q1(t)+G1(t))/2,rotateX:t=>wy(Vs(Math.atan2(t[6],t[5]))),rotateY:t=>wy(Vs(Math.atan2(-t[2],t[0]))),rotateZ:K1,rotate:K1,skewX:t=>Vs(Math.atan(t[4])),skewY:t=>Vs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _y(t){return t.includes("scale")?1:0}function Ey(t,e){if(!t||t==="none")return _y(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Hz,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Wz,i=a}if(!i)return _y(e);const s=r[e],o=i[1].split(",").map(qz);return typeof s=="function"?s(o):o[s]}const Kz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ey(n,e)};function qz(t){return parseFloat(t.trim())}const Ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Za=new Set(Ja),Q1=t=>t===Xa||t===ae,Gz=new Set(["x","y","z"]),Qz=Ja.filter(t=>!Gz.has(t));function Yz(t){const e=[];return Qz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ws={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ey(e,"x"),y:(t,{transform:e})=>Ey(e,"y")};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const Hs=new Set;let Ty=!1,xy=!1,Sy=!1;function hk(){if(xy){const t=Array.from(Hs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Yz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xy=!1,Ty=!1,Hs.forEach(t=>t.complete(Sy)),Hs.clear()}function fk(){Hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xy=!0)})}function Xz(){Sy=!0,fk(),hk(),Sy=!1}class mw{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hs.add(this),Ty||(Ty=!0,We.read(fk),We.resolveKeyframes(hk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}zz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hs.delete(this)}cancel(){this.state==="scheduled"&&(Hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jz=t=>t.startsWith("--");function Zz(t,e,n){Jz(e)?t.style.setProperty(e,n):t.style[e]=n}const e8=nw(()=>window.ScrollTimeline!==void 0),t8={};function n8(t,e){const n=nw(t);return()=>t8[e]??n()}const pk=n8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jl([0,.65,.55,1]),circOut:jl([.55,0,1,.45]),backIn:jl([.31,.01,.66,-.59]),backOut:jl([.33,1.53,.69,.99])};function mk(t,e){if(t)return typeof t=="function"?pk()?ck(t,e):"ease-out":ZR(t)?jl(t):Array.isArray(t)?t.map(n=>mk(n,e)||Y1.easeOut):Y1[t]}function r8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=mk(a,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(d,h)}function gk(t){return typeof t=="function"&&"applyToOptions"in t}function i8({type:t,...e}){return gk(t)&&pk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class s8 extends fw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Zh(typeof e.type!="string");const c=i8(e);this.animation=r8(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=hw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Zz(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tr(Number(e))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Er(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&e8()?(this.animation.timeline=e,Ln):n(this)}}const yk={anticipate:QR,backInOut:GR,circInOut:XR};function o8(t){return t in yk}function a8(t){typeof t.ease=="string"&&o8(t.ease)&&(t.ease=yk[t.ease])}const X1=10;class l8 extends s8{constructor(e){a8(e),dk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new pw({...o,autoplay:!1}),l=Er(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-X1).value,a.sample(l).value,X1),a.stop()}}const J1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function c8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function u8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=J1(i,e),a=J1(s,e);return!o||!a?!1:c8(t)||(n==="spring"||gk(n))&&r}function vk(t){return BR(t)&&"offsetHeight"in t}const d8=new Set(["opacity","clipPath","filter","transform"]),h8=nw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f8(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!vk((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return h8()&&n&&d8.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const p8=40;class m8 extends fw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var T;super(),this.stop=()=>{var g,S;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=cn.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||mw;this.keyframeResolver=new m(a,(g,S,v)=>this.onKeyframesResolved(g,S,h,!v),l,c,d),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=cn.now(),u8(e,s,o,a)||((ti.instantAnimations||!l)&&(d==null||d(hw(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>p8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&f8(h)?new l8({...h,element:h.motionValue.owner.current}):new pw(h);m.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Xz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const g8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y8(t){const e=g8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wk(t,e,n=1){const[r,i]=y8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return UR(o)?parseFloat(o):o}return aw(i)?wk(i,e,n+1):i}function gw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const _k=new Set(["width","height","top","left","right","bottom",...Ja]),v8={test:t=>t==="auto",parse:t=>t},Ek=t=>e=>e.test(t),Tk=[Xa,ae,xr,gi,cz,lz,v8],Z1=t=>Tk.find(Ek(t));function w8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$R(t):!0}const _8=new Set(["brightness","contrast","saturate","opacity"]);function E8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lw)||[];if(!r)return t;const i=n.replace(r,"");let s=_8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const T8=/\b([a-z-]*)\(.*?\)/gu,Cy={...cs,getAnimatableNone:t=>{const e=t.match(T8);return e?e.map(E8).join(" "):t}},ex={...Xa,transform:Math.round},x8={rotate:gi,rotateX:gi,rotateY:gi,rotateZ:gi,scale:wd,scaleX:wd,scaleY:wd,scaleZ:wd,skew:gi,skewX:gi,skewY:gi,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Kc,originX:B1,originY:B1,originZ:ae},yw={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...x8,zIndex:ex,fillOpacity:Kc,strokeOpacity:Kc,numOctaves:ex},S8={...yw,color:dt,backgroundColor:dt,outlineColor:dt,fill:dt,stroke:dt,borderColor:dt,borderTopColor:dt,borderRightColor:dt,borderBottomColor:dt,borderLeftColor:dt,filter:Cy,WebkitFilter:Cy},xk=t=>S8[t];function Sk(t,e){let n=xk(t);return n!==Cy&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const C8=new Set(["auto","none","0"]);function b8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!C8.has(s)&&qc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Sk(n,i)}class I8 extends mw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),aw(c))){const d=wk(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_k.has(r)||e.length!==2)return;const[i,s]=e,o=Z1(i),a=Z1(s);if(o!==a)if(Q1(o)&&Q1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ws[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||w8(e[i]))&&r.push(i);r.length&&b8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ws[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ws[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function P8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Ck=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tx=30,A8=t=>!isNaN(parseFloat(t));class R8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=cn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rw);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tx);return zR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Da(t,e){return new R8(t,e)}const{schedule:vw,cancel:wq}=ek(queueMicrotask,!1),$n={x:!1,y:!1};function bk(){return $n.x||$n.y}function k8(t){return t==="x"||t==="y"?$n[t]?null:($n[t]=!0,()=>{$n[t]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function Ik(t,e){const n=P8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function nx(t){return!(t.pointerType==="touch"||bk())}function N8(t,e,n={}){const[r,i,s]=Ik(t,n),o=a=>{if(!nx(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{nx(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Pk=(t,e)=>e?t===e?!0:Pk(t,e.parentElement):!1,ww=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,D8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O8(t){return D8.has(t.tagName)||t.tabIndex!==-1}const Xd=new WeakSet;function rx(t){return e=>{e.key==="Enter"&&t(e)}}function ym(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=rx(()=>{if(Xd.has(n))return;ym(n,"down");const i=rx(()=>{ym(n,"up")}),s=()=>ym(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ix(t){return ww(t)&&!bk()}function V8(t,e,n={}){const[r,i,s]=Ik(t,n),o=a=>{const l=a.currentTarget;if(!ix(a))return;Xd.add(l);const c=e(l,a),d=(m,T)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Xd.has(l)&&Xd.delete(l),ix(m)&&typeof c=="function"&&c(m,{success:T})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||Pk(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),vk(a)&&(a.addEventListener("focus",c=>M8(c,i)),!O8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Ak(t){return BR(t)&&"ownerSVGElement"in t}function L8(t){return Ak(t)&&t.tagName==="svg"}const Ht=t=>!!(t&&t.getVelocity),F8=[...Tk,dt,cs],j8=t=>F8.find(Ek(t)),Rk=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function U8(t=!0){const e=E.useContext(Z0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const o=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kk=E.createContext({strict:!1}),sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oa={};for(const t in sx)Oa[t]={isEnabled:e=>sx[t].some(n=>!!e[n])};function B8(t){for(const e in t)Oa[e]={...Oa[e],...t[e]}}const $8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$8.has(t)}let Nk=t=>!rf(t);function z8(t){typeof t=="function"&&(Nk=e=>e.startsWith("on")?!rf(e):t(e))}try{z8(require("@emotion/is-prop-valid").default)}catch{}function W8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nk(i)||n===!0&&rf(i)||!e&&!rf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function H8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Xf=E.createContext({});function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Gc(t){return typeof t=="string"||Array.isArray(t)}const _w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ew=["initial",..._w];function Zf(t){return Jf(t.animate)||Ew.some(e=>Gc(t[e]))}function Dk(t){return!!(Zf(t)||t.variants)}function K8(t,e){if(Zf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(r)?r:void 0}}return t.inherit!==!1?e:{}}function q8(t){const{initial:e,animate:n}=K8(t,E.useContext(Xf));return E.useMemo(()=>({initial:e,animate:n}),[ox(e),ox(n)])}function ox(t){return Array.isArray(t)?t.join(" "):t}const G8=Symbol.for("motionComponentSymbol");function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q8(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wo(n)&&(n.current=r))},[e])}const Tw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y8="framerAppearId",Ok="data-"+Tw(Y8),Mk=E.createContext({});function X8(t,e,n,r,i){var g,S;const{visualElement:s}=E.useContext(Xf),o=E.useContext(kk),a=E.useContext(Z0),l=E.useContext(Rk).reducedMotion,c=E.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=E.useContext(Mk);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&J8(c.current,n,i,f);const h=E.useRef(!1);E.useInsertionEffect(()=>{d&&h.current&&d.update(n,a)});const m=n[Ok],T=E.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return W$(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),vw.render(d.render),T.current&&d.animationState&&d.animationState.animateChanges())}),E.useEffect(()=>{d&&(!T.current&&d.animationState&&d.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),T.current=!1))}),d}function J8(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Wo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function Vk(t){if(t)return t.options.allowProjection!==!1?t.projection:Vk(t.parent)}function Z8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&B8(t);function s(a,l){let c;const d={...E.useContext(Rk),...a,layoutId:e7(a)},{isStatic:f}=d,h=q8(a),m=r(a,f);if(!f&&J0){t7();const T=n7(d);c=T.MeasureLayout,h.visualElement=X8(i,m,d,e,T.ProjectionNode)}return x.jsxs(Xf.Provider,{value:h,children:[c&&h.visualElement?x.jsx(c,{visualElement:h.visualElement,...d}):null,n(i,a,Q8(m,h.visualElement,l),m,f,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=E.forwardRef(s);return o[G8]=i,o}function e7({layoutId:t}){const e=E.useContext(jR).id;return e&&t!==void 0?e+"-"+t:t}function t7(t,e){E.useContext(kk).strict}function n7(t){const{drag:e,layout:n}=Oa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qc={};function r7(t){for(const e in t)Qc[e]=t[e],ow(e)&&(Qc[e].isCSSVariable=!0)}function Lk(t,{layout:e,layoutId:n}){return Za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qc[t]||t==="opacity")}const i7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s7=Ja.length;function o7(t,e,n){let r="",i=!0;for(let s=0;s<s7;s++){const o=Ja[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Ck(a,yw[o]);if(!l){i=!1;const d=i7[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Za.has(l)){o=!0;continue}else if(ow(l)){i[l]=c;continue}else{const d=Ck(c,yw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=o7(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const Sw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fk(t,e,n){for(const r in e)!Ht(e[r])&&!Lk(r,n)&&(t[r]=e[r])}function a7({transformTemplate:t},e){return E.useMemo(()=>{const n=Sw();return xw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l7(t,e){const n=t.style||{},r={};return Fk(r,n,t),Object.assign(r,a7(t,e)),r}function c7(t,e){const n={},r=l7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const u7={offset:"stroke-dashoffset",array:"stroke-dasharray"},d7={offset:"strokeDashoffset",array:"strokeDasharray"};function h7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?u7:d7;t[s.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[s.array]=`${o} ${a}`}function jk(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(xw(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&h7(f,i,s,o,!1)}const Uk=()=>({...Sw(),attrs:{}}),Bk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function f7(t,e,n,r){const i=E.useMemo(()=>{const s=Uk();return jk(s,e,Bk(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Fk(s,t.style,t),i.style={...s,...i.style}}return i}const p7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cw(t){return typeof t!="string"||t.includes("-")?!1:!!(p7.indexOf(t)>-1||/[A-Z]/u.test(t))}function m7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Cw(n)?f7:c7)(r,s,o,n),c=W8(r,typeof n=="string",t),d=n!==E.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=E.useMemo(()=>Ht(f)?f.get():f,[f]);return E.createElement(n,{...d,children:h})}}function ax(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bw(t,e,n,r){if(typeof e=="function"){const[i,s]=ax(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ax(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Jd(t){return Ht(t)?t.get():t}function g7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:y7(n,r,i,t),renderState:e()}}const $k=t=>(e,n)=>{const r=E.useContext(Xf),i=E.useContext(Z0),s=()=>g7(t,e,r,i);return n?s():z$(s)};function y7(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Jd(s[h]);let{initial:o,animate:a}=t;const l=Zf(t),c=Dk(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Jf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const T=bw(t,h[m]);if(T){const{transitionEnd:g,transition:S,...v}=T;for(const y in v){let _=v[y];if(Array.isArray(_)){const A=d?_.length-1:0;_=_[A]}_!==null&&(i[y]=_)}for(const y in g)i[y]=g[y]}}}return i}function Iw(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Ht(r[o])||e.style&&Ht(e.style[o])||Lk(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const v7={useVisualState:$k({scrapeMotionValuesFromProps:Iw,createRenderState:Sw})};function zk(t,e,n){const r=Iw(t,e,n);for(const i in t)if(Ht(t[i])||Ht(e[i])){const s=Ja.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const w7={useVisualState:$k({scrapeMotionValuesFromProps:zk,createRenderState:Uk})};function _7(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Cw(r)?w7:v7,preloadedFeatures:t,useRender:m7(i),createVisualElement:e,Component:r};return Z8(o)}}function Yc(t,e,n){const r=t.getProps();return bw(r,e,n!==void 0?n:r.custom,t)}const by=t=>Array.isArray(t);function E7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Da(n))}function T7(t){return by(t)?t[t.length-1]||0:t}function x7(t,e){const n=Yc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=T7(s[o]);E7(t,o,a)}}function S7(t){return!!(Ht(t)&&t.add)}function Iy(t,e){const n=t.getValue("willChange");if(S7(n))return n.add(e);if(!n&&ti.WillChange){const r=new ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Wk(t){return t.props[Ok]}const C7=t=>t!==null;function b7(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(C7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const I7={type:"spring",stiffness:500,damping:25,restSpeed:10},P7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A7={type:"keyframes",duration:.8},R7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k7=(t,{keyframes:e})=>e.length>2?A7:Za.has(t)?t.startsWith("scale")?P7(e[1]):I7:R7;function N7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Pw=(t,e,n,r={},i,s)=>o=>{const a=gw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Er(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};N7(a)||Object.assign(d,k7(t,d)),d.duration&&(d.duration=Er(d.duration)),d.repeatDelay&&(d.repeatDelay=Er(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(ti.instantAnimations||ti.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const h=b7(d.keyframes,a);if(h!==void 0){We.update(()=>{d.onUpdate(h),d.onComplete()});return}}return a.isSync?new pw(d):new m8(d)};function D7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Hk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),h=a[d];if(h===void 0||c&&D7(c,d))continue;const m={delay:n,...gw(s||{},d)},T=f.get();if(T!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===T&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=Wk(t);if(v){const y=window.MotionHandoffAnimation(v,d,We);y!==null&&(m.startTime=y,g=!0)}}Iy(t,d),f.start(Pw(d,f,h,t.shouldReduceMotion&&_k.has(d)?{type:!1}:m,t,g));const S=f.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{We.update(()=>{o&&x7(t,o)})}),l}function Py(t,e,n={}){var l;const r=Yc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Hk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return O7(t,e,c,d,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function O7(t,e,n=0,r=0,i=0,s=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*i,d=typeof r=="function",f=d?h=>r(h,l):s===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(t.variantChildren).sort(M7).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(Py(h,e,{...o,delay:n+(d?0:r)+f(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function M7(t,e){return t.sortNodePosition(e)}function V7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Py(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Py(t,e,n);else{const i=typeof e=="function"?Yc(t,e,n.custom):e;r=Promise.all(Hk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Kk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const L7=Ew.length;function qk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<L7;n++){const r=Ew[n],i=t.props[r];(Gc(i)||i===!1)&&(e[r]=i)}return e}const F7=[..._w].reverse(),j7=_w.length;function U7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>V7(t,n,r)))}function B7(t){let e=U7(t),n=lx(),r=!0;const i=l=>(c,d)=>{var h;const f=Yc(t,d,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:T,...g}=f;c={...c,...g,...T}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=qk(t.parent)||{},f=[],h=new Set;let m={},T=1/0;for(let S=0;S<j7;S++){const v=F7[S],y=n[v],_=c[v]!==void 0?c[v]:d[v],A=Gc(_),N=v===l?y.isActive:null;N===!1&&(T=S);let M=_===d[v]&&_!==c[v]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),y.protectedKeys={...m},!y.isActive&&N===null||!_&&!y.prevProp||Jf(_)||typeof _=="boolean")continue;const b=$7(y.prevProp,_);let C=b||v===l&&y.isActive&&!M&&A||S>T&&A,P=!1;const R=Array.isArray(_)?_:[_];let D=R.reduce(i(v),{});N===!1&&(D={});const{prevResolvedValues:O={}}=y,k={...O,...D},W=G=>{C=!0,h.has(G)&&(P=!0,h.delete(G)),y.needsAnimating[G]=!0;const L=t.getValue(G);L&&(L.liveStyle=!1)};for(const G in k){const L=D[G],$=O[G];if(m.hasOwnProperty(G))continue;let Q=!1;by(L)&&by($)?Q=!Kk(L,$):Q=L!==$,Q?L!=null?W(G):h.add(G):L!==void 0&&h.has(G)?W(G):y.protectedKeys[G]=!0}y.prevProp=_,y.prevResolvedValues=D,y.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(M&&b)||P)&&f.push(...R.map(G=>({animation:G,options:{type:v}})))}if(h.size){const S={};if(typeof c.initial!="boolean"){const v=Yc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(S.transition=v.transition)}h.forEach(v=>{const y=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),S[v]=y??null}),f.push({animation:S})}let g=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lx(),r=!0}}}function $7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Kk(e,t):!1}function Cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lx(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z7 extends ys{constructor(e){super(e),e.animationState||(e.animationState=B7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let W7=0;class H7 extends ys{constructor(){super(...arguments),this.id=W7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K7={animation:{Feature:z7},exit:{Feature:H7}};function Xc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xu(t){return{point:{x:t.pageX,y:t.pageY}}}const q7=t=>e=>ww(e)&&t(e,xu(e));function oc(t,e,n,r){return Xc(t,e,q7(n),r)}function Gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function G7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Qk=1e-4,Y7=1-Qk,X7=1+Qk,Yk=.01,J7=0-Yk,Z7=0+Yk;function en(t){return t.max-t.min}function eW(t,e,n){return Math.abs(t-e)<=n}function cx(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=en(n)/en(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Y7&&t.scale<=X7||isNaN(t.scale))&&(t.scale=1),(t.translate>=J7&&t.translate<=Z7||isNaN(t.translate))&&(t.translate=0)}function ac(t,e,n,r){cx(t.x,e.x,n.x,r?r.originX:void 0),cx(t.y,e.y,n.y,r?r.originY:void 0)}function ux(t,e,n){t.min=n.min+e.min,t.max=t.min+en(e)}function tW(t,e,n){ux(t.x,e.x,n.x),ux(t.y,e.y,n.y)}function dx(t,e,n){t.min=e.min-n.min,t.max=t.min+en(e)}function lc(t,e,n){dx(t.x,e.x,n.x),dx(t.y,e.y,n.y)}const hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:hx(),y:hx()}),fx=()=>({min:0,max:0}),it=()=>({x:fx(),y:fx()});function Pn(t){return[t("x"),t("y")]}function vm(t){return t===void 0||t===1}function Ay({scale:t,scaleX:e,scaleY:n}){return!vm(t)||!vm(e)||!vm(n)}function Rs(t){return Ay(t)||Xk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Xk(t){return px(t.x)||px(t.y)}function px(t){return t&&t!=="0%"}function sf(t,e,n){const r=t-n,i=e*r;return n+i}function mx(t,e,n,r,i){return i!==void 0&&(t=sf(t,i,r)),sf(t,n,r)+e}function Ry(t,e=0,n=1,r,i){t.min=mx(t.min,e,n,r,i),t.max=mx(t.max,e,n,r,i)}function Jk(t,{x:e,y:n}){Ry(t.x,e.translate,e.scale,e.originPoint),Ry(t.y,n.translate,n.scale,n.originPoint)}const gx=.999999999999,yx=1.0000000000001;function nW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Jk(t,o)),r&&Rs(s.latestValues)&&qo(t,s.latestValues))}e.x<yx&&e.x>gx&&(e.x=1),e.y<yx&&e.y>gx&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function vx(t,e,n,r,i=.5){const s=Ge(t.min,t.max,i);Ry(t,e,n,s,r)}function qo(t,e){vx(t.x,e.x,e.scaleX,e.scale,e.originX),vx(t.y,e.y,e.scaleY,e.scale,e.originY)}function Zk(t,e){return Gk(Q7(t.getBoundingClientRect(),e))}function rW(t,e,n){const r=Zk(t,n),{scroll:i}=e;return i&&(Ko(r.x,i.offset.x),Ko(r.y,i.offset.y)),r}const eN=({current:t})=>t?t.ownerDocument.defaultView:null,wx=(t,e)=>Math.abs(t-e);function iW(t,e){const n=wx(t.x,e.x),r=wx(t.y,e.y);return Math.sqrt(n**2+r**2)}class tN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_m(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,T=iW(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!T)return;const{point:g}=h,{timestamp:S}=It;this.history.push({...g,timestamp:S});const{onStart:v,onMove:y}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=wm(m,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:T,onSessionEnd:g,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=_m(h.type==="pointercancel"?this.lastMoveEventInfo:wm(m,this.transformPagePoint),this.history);this.startEvent&&T&&T(h,v),g&&g(h,v)},!ww(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=xu(e),l=wm(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=It;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,_m(l,this.history)),this.removeListeners=_u(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function wm(t,e){return e?{point:e(t.point)}:t}function _x(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _m({point:t},e){return{point:t,delta:_x(t,nN(e)),offset:_x(t,sW(e)),velocity:oW(e,.1)}}function sW(t){return t[0]}function nN(t){return t[t.length-1]}function oW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Er(e)));)n--;if(!r)return{x:0,y:0};const s=Tr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function Ex(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lW(t,{top:e,left:n,bottom:r,right:i}){return{x:Ex(t.x,n,i),y:Ex(t.y,e,r)}}function Tx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cW(t,e){return{x:Tx(t.x,e.x),y:Tx(t.y,e.y)}}function uW(t,e){let n=.5;const r=en(t),i=en(e);return i>r?n=Hc(e.min,e.max-r,t.min):r>i&&(n=Hc(t.min,t.max-i,e.min)),ei(0,1,n)}function dW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ky=.35;function hW(t=ky){return t===!1?t=0:t===!0&&(t=ky),{x:xx(t,"left","right"),y:xx(t,"top","bottom")}}function xx(t,e,n){return{min:Sx(t,e),max:Sx(t,n)}}function Sx(t,e){return typeof t=="number"?t:t[e]||0}const fW=new WeakMap;class pW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xu(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:T,onDragStart:g}=this.getProps();if(m&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k8(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(v=>{let y=this.getAxisMotionValue(v).get()||0;if(xr.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[v];A&&(y=en(A)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&We.postRender(()=>g(f,h)),Iy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:T,onDirectionLock:g,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(T&&this.currentDirection===null){this.currentDirection=mW(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),S&&S(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Pn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new tN(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:eN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&We.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!_d(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=aW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Wo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lW(r.layoutBox,e):this.constraints=!1,this.elastic=hW(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dW(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rW(r,i.root,this.visualElement.getTransformPagePoint());let o=cW(i.layout.layoutBox,s);if(n){const a=n(G7(o));this.hasMutatedConstraints=!!a,a&&(o=Gk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pn(d=>{if(!_d(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Iy(this.visualElement,e),r.start(Pw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pn(n=>{const{drag:r}=this.getProps();if(!_d(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=uW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(o=>{if(!_d(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ge(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;fW.set(this.visualElement,this);const e=this.visualElement.current,n=oc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const o=Xc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ky,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function _d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gW extends ys{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new pW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cx=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class yW extends ys{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new tN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Cx(e),onStart:Cx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&We.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Il={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=bx(t,e.target.x),r=bx(t,e.target.y);return`${n}% ${r}%`}},vW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cs.parse(t);if(i.length>5)return r;const s=cs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ge(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let Ix=!1;class wW extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;r7(_W),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Ix&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Ix=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rN(t){const[e,n]=U8(),r=E.useContext(jR);return x.jsx(wW,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Mk),isPresent:e,safeToRemove:n})}const _W={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:vW};function EW(t,e,n){const r=Ht(t)?t:Da(t);return r.start(Pw("",r,e,n)),r.animation}const TW=(t,e)=>t.depth-e.depth;class xW{constructor(){this.children=[],this.isDirty=!1}add(e){ew(this.children,e),this.isDirty=!0}remove(e){tw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TW),this.isDirty=!1,this.children.forEach(e)}}function SW(t,e){const n=cn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ls(r),t(s-e))};return We.setup(r,!0),()=>ls(r)}const iN=["TopLeft","TopRight","BottomLeft","BottomRight"],CW=iN.length,Px=t=>typeof t=="string"?parseFloat(t):t,Ax=t=>typeof t=="number"||ae.test(t);function bW(t,e,n,r,i,s){i?(t.opacity=Ge(0,n.opacity??1,IW(r)),t.opacityExit=Ge(e.opacity??1,0,PW(r))):s&&(t.opacity=Ge(e.opacity??1,n.opacity??1,r));for(let o=0;o<CW;o++){const a=`border${iN[o]}Radius`;let l=Rx(e,a),c=Rx(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ax(l)===Ax(c)?(t[a]=Math.max(Ge(Px(l),Px(c),r),0),(xr.test(c)||xr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function Rx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IW=sN(0,.5,YR),PW=sN(.5,.95,Ln);function sN(t,e,n){return r=>r<t?0:r>e?1:n(Hc(t,e,r))}function kx(t,e){t.min=e.min,t.max=e.max}function In(t,e){kx(t.x,e.x),kx(t.y,e.y)}function Nx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Dx(t,e,n,r,i){return t-=e,t=sf(t,1/n,r),i!==void 0&&(t=sf(t,1/i,r)),t}function AW(t,e=0,n=1,r=.5,i,s=t,o=t){if(xr.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ge(s.min,s.max,r);t===s&&(a-=e),t.min=Dx(t.min,e,n,a,i),t.max=Dx(t.max,e,n,a,i)}function Ox(t,e,[n,r,i],s,o){AW(t,e[n],e[r],e[i],e.scale,s,o)}const RW=["x","scaleX","originX"],kW=["y","scaleY","originY"];function Mx(t,e,n,r){Ox(t.x,e,RW,n?n.x:void 0,r?r.x:void 0),Ox(t.y,e,kW,n?n.y:void 0,r?r.y:void 0)}function Vx(t){return t.translate===0&&t.scale===1}function oN(t){return Vx(t.x)&&Vx(t.y)}function Lx(t,e){return t.min===e.min&&t.max===e.max}function NW(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function Fx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aN(t,e){return Fx(t.x,e.x)&&Fx(t.y,e.y)}function jx(t){return en(t.x)/en(t.y)}function Ux(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DW{constructor(){this.members=[]}add(e){ew(this.members,e),e.scheduleRender()}remove(e){if(tw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OW(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:T}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Em=["","X","Y","Z"],MW=1e3;let VW=0;function Tm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function lN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Wk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&lN(r)}function cN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=VW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jW),this.nodes.forEach(zW),this.nodes.forEach(WW),this.nodes.forEach(UW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ak(o)&&!L8(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;We.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=SW(h,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(zx)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||c.getDefaultTransition()||QW,{onLayoutAnimationStart:g,onLayoutAnimationComplete:S}=c.getProps(),v=!this.targetLayout||!aN(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...gw(T,"layout"),onPlay:g,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,y)}else f||zx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($x);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($W),this.nodes.forEach(LW),this.nodes.forEach(FW)):this.nodes.forEach($x),this.clearAllSnapshots();const a=cn.now();It.delta=ei(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,hm.update.process(It),hm.preRender.process(It),hm.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BW),this.sharedNodes.forEach(KW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!oN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Rs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),YW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return it();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(XW))){const{scroll:d}=this.root;d&&(Ko(a.x,d.offset.x),Ko(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=it();if(In(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&In(a,o),Ko(a.x,f.offset.x),Ko(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=it();In(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rs(d.latestValues)&&qo(l,d.latestValues)}return Rs(this.latestValues)&&qo(l,this.latestValues),l}removeTransform(o){const a=it();In(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Rs(c.latestValues))continue;Ay(c.latestValues)&&c.updateSnapshot();const d=it(),f=c.measurePageBox();In(d,f),Mx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Rs(this.latestValues)&&Mx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),lc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),Jk(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),lc(this.relativeTargetOrigin,this.target,m.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ay(this.parent.latestValues)||Xk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===It.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;In(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;nW(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=it());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nx(this.prevProjectionDelta.x,this.projectionDelta.x),Nx(this.prevProjectionDelta.y,this.projectionDelta.y)),ac(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Ux(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ux(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=it(),m=l?l.source:void 0,T=this.layout?this.layout.source:void 0,g=m!==T,S=this.getStack(),v=!S||S.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(GW));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const N=A/1e3;Wx(f.x,o.x,N),Wx(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qW(this.relativeTarget,this.relativeTargetOrigin,h,N),_&&NW(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=it()),In(_,this.relativeTarget)),g&&(this.animationValues=d,bW(d,c,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Da(0)),this.currentAnimation=EW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&uN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const f=en(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=en(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}In(a,l),qo(a,d),ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Tm("z",o,c,this.animationValues);for(let d=0;d<Em.length;d++)Tm(`rotate${Em[d]}`,o,c,this.animationValues),Tm(`skew${Em[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Jd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Jd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=OW(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in Qc){if(d[T]===void 0)continue;const{correct:g,applyTo:S,isCSSVariable:v}=Qc[T],y=f==="none"?d[T]:g(d[T],c);if(S){const _=S.length;for(let A=0;A<_;A++)o[S[A]]=y}else v?this.options.visualElement.renderState.vars[T]=y:o[T]=y}this.options.layoutId&&(o.pointerEvents=c===this?Jd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Bx),this.root.sharedNodes.clear()}}}function LW(t){t.updateLayout()}function FW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Pn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=en(h);h.min=r[f].min,h.max=h.min+m}):uN(s,e.layoutBox,r)&&Pn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=en(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Ho();ac(a,r,e.layoutBox);const l=Ho();o?ac(l,t.applyTransform(i,!0),e.measuredBox):ac(l,r,e.layoutBox);const c=!oN(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const T=it();lc(T,e.layoutBox,h.layoutBox);const g=it();lc(g,r,m.layoutBox),aN(T,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function jW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BW(t){t.clearSnapshot()}function Bx(t){t.clearMeasurements()}function $x(t){t.isLayoutDirty=!1}function $W(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zW(t){t.resolveTargetDelta()}function WW(t){t.calcProjection()}function HW(t){t.resetSkewAndRotation()}function KW(t){t.removeLeadSnapshot()}function Wx(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hx(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function qW(t,e,n,r){Hx(t.x,e.x,n.x,r),Hx(t.y,e.y,n.y,r)}function GW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QW={duration:.45,ease:[.4,0,.1,1]},Kx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qx=Kx("applewebkit/")&&!Kx("chrome/")?Math.round:Ln;function Gx(t){t.min=qx(t.min),t.max=qx(t.max)}function YW(t){Gx(t.x),Gx(t.y)}function uN(t,e,n){return t==="position"||t==="preserve-aspect"&&!eW(jx(e),jx(n),.2)}function XW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JW=cN({attachResizeListener:(t,e)=>Xc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xm={current:void 0},dN=cN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xm.current){const t=new JW({});t.mount(window),t.setOptions({layoutScroll:!0}),xm.current=t}return xm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZW={pan:{Feature:yW},drag:{Feature:gW,ProjectionNode:dN,MeasureLayout:rN}};function Qx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&We.postRender(()=>s(e,xu(e)))}class eH extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=N8(e,(n,r)=>(Qx(this.node,r,"Start"),i=>Qx(this.node,i,"End"))))}unmount(){}}class tH extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(Xc(this.node.current,"focus",()=>this.onFocus()),Xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&We.postRender(()=>s(e,xu(e)))}class nH extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=V8(e,(n,r)=>(Yx(this.node,r,"Start"),(i,{success:s})=>Yx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,Sm=new WeakMap,rH=t=>{const e=Ny.get(t.target);e&&e(t)},iH=t=>{t.forEach(rH)};function sH({root:t,...e}){const n=t||document;Sm.has(n)||Sm.set(n,{});const r=Sm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(iH,{root:t,...e})),r[i]}function oH(t,e,n){const r=sH(e);return Ny.set(t,n),r.observe(t),()=>{Ny.delete(t),r.unobserve(t)}}const aH={some:0,all:1};class lH extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:aH[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return oH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cH(e,n))&&this.startObserver()}unmount(){}}function cH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uH={inView:{Feature:lH},tap:{Feature:nH},focus:{Feature:tH},hover:{Feature:eH}},dH={layout:{ProjectionNode:dN,MeasureLayout:rN}},Dy={current:null},hN={current:!1};function hH(){if(hN.current=!0,!!J0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addEventListener("change",e),e()}else Dy.current=!1}const fH=new WeakMap;function pH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ht(i))t.addValue(r,i);else if(Ht(s))t.addValue(r,Da(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Da(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Xx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=cn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Zf(n),this.isVariantNode=Dk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Ht(m)&&m.set(l[h],!1)}}mount(e){this.current=e,fH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hN.current||hH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Za.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oa){const n=Oa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xx.length;r++){const i=Xx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Da(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(UR(r)||$R(r))?r=parseFloat(r):!j8(r)&&cs.test(n)&&(r=Sk(e,n)),this.setBaseTarget(e,Ht(r)?r.get():r)),Ht(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=bw(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ht(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fN extends mH{constructor(){super(...arguments),this.KeyframeResolver=I8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pN(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function gH(t){return window.getComputedStyle(t)}class yH extends fN{constructor(){super(...arguments),this.type="html",this.renderInstance=pN}readValueFromInstance(e,n){var r;if(Za.has(n))return(r=this.projection)!=null&&r.isProjecting?_y(n):Kz(e,n);{const i=gH(e),s=(ow(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Zk(e,n)}build(e,n,r){xw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Iw(e,n,r)}}const mN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vH(t,e,n,r){pN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(mN.has(i)?i:Tw(i),e.attrs[i])}class wH extends fN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Za.has(n)){const r=xk(n);return r&&r.default||0}return n=mN.has(n)?n:Tw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zk(e,n,r)}build(e,n,r){jk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){vH(e,n,r,i)}mount(e){this.isSVGTag=Bk(e.tagName),super.mount(e)}}const _H=(t,e)=>Cw(t)?new wH(e):new yH(e,{allowProjection:t!==E.Fragment}),EH=_7({...K7,...uH,...ZW,...dH},_H),Ie=H8(EH),TH=Wv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Rt=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Sa:"button";return x.jsx(o,{className:He(TH({variant:e,size:n,className:t})),ref:s,...i})});Rt.displayName="Button";const xH=()=>{const{currentUser:t,logout:e}=yo(),n=ps(),r=async()=>{try{await e()}catch(a){console.error("Failed to logout:",a)}},i=[{path:"/dashboard",label:"Explorer",icon:bc},{path:"/favorites",label:"Favorites",icon:Ic},{path:"/profile",label:"Profile",icon:kg}],[s,o]=H.useState(!1);return x.jsx(Ie.nav,{initial:{y:-100},animate:{y:0},className:"bg-white/90 backdrop-blur-lg border-b border-gray-200 sticky top-0 z-50",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs(aT,{to:t?"/dashboard":"/",className:"flex items-center space-x-2",children:[x.jsx(Ie.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-lg flex items-center justify-center",children:x.jsx(bc,{className:"w-5 h-5 text-white"})}),x.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-cyan-600 bg-clip-text text-transparent",children:"GlobeVista"})]}),t?x.jsxs("div",{className:"flex items-center space-x-1",children:[i.map(a=>{const l=a.icon,c=n.pathname===a.path;return x.jsx(aT,{to:a.path,children:x.jsxs(Rt,{variant:c?"default":"ghost",size:"sm",className:`relative ${c?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-gray-100"}`,children:[x.jsx(l,{className:"w-4 h-4 mr-2"}),a.label,c&&x.jsx(Ie.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-md -z-10"})]})},a.path)}),x.jsxs(Rt,{variant:"ghost",size:"sm",onClick:r,className:"text-red-600 hover:bg-red-50",children:[x.jsx(cI,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs(Rt,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:[x.jsx(kg,{className:"w-4 h-4 mr-2"}),"Login"]}),x.jsx(Rt,{onClick:()=>o(!0),size:"sm",className:"bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600",children:"Sign Up"})]})]})})})},so=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));so.displayName="Card";const Oy=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:He("flex flex-col space-y-1.5 p-6",t),...e}));Oy.displayName="CardHeader";const My=E.forwardRef(({className:t,...e},n)=>x.jsx("h3",{ref:n,className:He("text-2xl font-semibold leading-none tracking-tight",t),...e}));My.displayName="CardTitle";const SH=E.forwardRef(({className:t,...e},n)=>x.jsx("p",{ref:n,className:He("text-sm text-muted-foreground",t),...e}));SH.displayName="CardDescription";const oo=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:He("p-6 pt-0",t),...e}));oo.displayName="CardContent";const CH=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:He("flex items-center p-6 pt-0",t),...e}));CH.displayName="CardFooter";const Ks=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ks.displayName="Input";var bH="Label",gN=E.forwardRef((t,e)=>x.jsx(De.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gN.displayName=bH;var yN=gN;const IH=Wv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oa=E.forwardRef(({className:t,...e},n)=>x.jsx(yN,{ref:n,className:He(IH(),t),...e}));oa.displayName=yN.displayName;const PH=({isOpen:t,onClose:e,onSwitchToSignup:n,onLogin:r,loginError:i})=>{const[s,o]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState(!1),{login:f}=yo(),{toast:h}=Lv(),m=async T=>{if(T.preventDefault(),!s||!a){h({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}d(!0);try{r?await r(s,a):(await f(s,a),h({title:"Success",description:"Welcome back to GlobeVista!"}),e())}catch(g){h({title:"Login Failed",description:g.message||"Please check your credentials",variant:"destructive"})}finally{d(!1)}};return t?x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl p-8 w-full max-w-md relative",children:[x.jsx(Rt,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4",children:x.jsx(Kv,{className:"w-4 h-4"})}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),x.jsx("p",{className:"text-gray-600",children:"Sign in to continue your exploration"})]}),i&&x.jsx("div",{className:"mb-4 text-sm text-red-600 text-center",children:i}),x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(oa,{htmlFor:"email",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(Hv,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{id:"email",type:"email",value:s,onChange:T=>o(T.target.value),className:"pl-10",placeholder:"Enter your email",disabled:c})]})]}),x.jsxs("div",{children:[x.jsx(oa,{htmlFor:"password",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(Rg,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{id:"password",type:"password",value:a,onChange:T=>l(T.target.value),className:"pl-10",placeholder:"Enter your password",disabled:c})]})]}),x.jsx(Rt,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600",disabled:c,children:c?x.jsxs(x.Fragment,{children:[x.jsx(ou,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing In..."]}):"Sign In"})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",x.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Sign up here"})]})})]})}):null},AH=({isOpen:t,onClose:e,onSwitchToLogin:n})=>{const[r,i]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState(!1),{signup:f}=yo(),{toast:h}=Lv(),m=async T=>{if(T.preventDefault(),!r||!s||!a){h({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(s!==a){h({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(s.length<6){h({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}d(!0);try{await f(r,s),h({title:"Success",description:"Welcome to GlobeVista! Your account has been created."}),e()}catch(g){h({title:"Signup Failed",description:g.message||"Please try again later",variant:"destructive"})}finally{d(!1)}};return t?x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl p-8 w-full max-w-md relative",children:[x.jsx(Rt,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4",children:x.jsx(Kv,{className:"w-4 h-4"})}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Join GlobeVista"}),x.jsx("p",{className:"text-gray-600",children:"Create your account to start exploring"})]}),x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(oa,{htmlFor:"signup-email",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(Hv,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{id:"signup-email",type:"email",value:r,onChange:T=>i(T.target.value),className:"pl-10",placeholder:"Enter your email",disabled:c})]})]}),x.jsxs("div",{children:[x.jsx(oa,{htmlFor:"signup-password",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(Rg,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{id:"signup-password",type:"password",value:s,onChange:T=>o(T.target.value),className:"pl-10",placeholder:"Create a password",disabled:c})]})]}),x.jsxs("div",{children:[x.jsx(oa,{htmlFor:"confirm-password",children:"Confirm Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(Rg,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{id:"confirm-password",type:"password",value:a,onChange:T=>l(T.target.value),className:"pl-10",placeholder:"Confirm your password",disabled:c})]})]}),x.jsx(Rt,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600",disabled:c,children:c?x.jsxs(x.Fragment,{children:[x.jsx(ou,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",x.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Sign in here"})]})})]})}):null},RH=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(null),o=za(),a=[{icon:bc,title:"Explore Countries",description:"Discover fascinating facts about countries worldwide"},{icon:hV,title:"Save Favorites",description:"Create your personal collection of favorite destinations"},{icon:dI,title:"Rich Information",description:"Learn about population, languages, and culture"},{icon:uI,title:"Interactive Maps",description:"Visualize locations and geographic details"}],l=async(c,d)=>{s(null);try{await XP(Fl,c,d),e(!1),o("/dashboard")}catch(f){s(f.message||"Login failed")}};return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:[x.jsxs("div",{className:"container mx-auto px-4 py-20",children:[x.jsxs(Ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[x.jsx(Ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-8",children:x.jsx(Ie.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-lg flex items-center justify-center",children:x.jsx(bc,{className:"w-10 h-5 text-white"})})}),x.jsx(Ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-5xl md:text-6xl font-bold mb-6",children:x.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-cyan-600 bg-clip-text text-transparent",children:"GlobeVista"})}),x.jsx(Ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Embark on a journey to explore countries around the world. Discover cultures, languages, and fascinating facts about every nation on Earth."}),x.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[x.jsx(Rt,{size:"lg",onClick:()=>e(!0),className:"bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600 text-white px-8 py-3 text-lg",children:"Login to Explore"}),x.jsx(Rt,{size:"lg",variant:"outline",onClick:()=>r(!0),className:"border-2 border-indigo-300 text-indigo-600 hover:bg-indigo-50 px-8 py-3 text-lg",children:"Sign Up Free"})]})]}),x.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:a.map((c,d)=>{const f=c.icon;return x.jsx(Ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1+d*.1},whileHover:{y:-5},children:x.jsx(so,{className:"text-center h-full hover:shadow-lg transition-shadow duration-300",children:x.jsxs(oo,{className:"p-6",children:[x.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-100 to-cyan-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:x.jsx(f,{className:"w-6 h-6 text-indigo-600"})}),x.jsx("h3",{className:"font-semibold text-lg mb-2",children:c.title}),x.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})})},c.title)})}),x.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:1.4},className:"text-center bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-2xl p-12 text-white",children:[x.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Exploring?"}),x.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of explorers discovering the world through GlobeVista"}),x.jsx(Rt,{size:"lg",onClick:()=>r(!0),className:"bg-white text-indigo-600 hover:bg-gray-100 px-8 py-3 text-lg font-semibold",children:"Get Started Today"})]})]}),x.jsx(PH,{isOpen:t,onClose:()=>e(!1),onSwitchToSignup:()=>{e(!1),r(!0)},onLogin:l,loginError:i}),x.jsx(AH,{isOpen:n,onClose:()=>r(!1),onSwitchToLogin:()=>{r(!1),e(!0)}})]})};function Jx(t,[e,n]){return Math.min(n,Math.max(e,t))}var kH=E.createContext(void 0);function NH(t){const e=E.useContext(kH);return t||e||"ltr"}var Cm=0;function DH(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Zx()),document.body.insertAdjacentElement("beforeend",t[1]??Zx()),Cm++,()=>{Cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cm--}},[])}function Zx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bm="focusScope.autoFocusOnMount",Im="focusScope.autoFocusOnUnmount",eS={bubbles:!1,cancelable:!0},OH="FocusScope",vN=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=E.useState(null),c=Tn(i),d=Tn(s),f=E.useRef(null),h=rt(e,g=>l(g)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let g=function(_){if(m.paused||!a)return;const A=_.target;a.contains(A)?f.current=A:yi(f.current,{select:!0})},S=function(_){if(m.paused||!a)return;const A=_.relatedTarget;A!==null&&(a.contains(A)||yi(f.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&yi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),y.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){nS.add(m);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(bm,eS);a.addEventListener(bm,c),a.dispatchEvent(v),v.defaultPrevented||(MH(UH(wN(a)),{select:!0}),document.activeElement===g&&yi(a))}return()=>{a.removeEventListener(bm,c),setTimeout(()=>{const v=new CustomEvent(Im,eS);a.addEventListener(Im,d),a.dispatchEvent(v),v.defaultPrevented||yi(g??document.body,{select:!0}),a.removeEventListener(Im,d),nS.remove(m)},0)}}},[a,c,d,m]);const T=E.useCallback(g=>{if(!n&&!r||m.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(S&&v){const y=g.currentTarget,[_,A]=VH(y);_&&A?!g.shiftKey&&v===A?(g.preventDefault(),n&&yi(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),n&&yi(A,{select:!0})):v===y&&g.preventDefault()}},[n,r,m.paused]);return x.jsx(De.div,{tabIndex:-1,...o,ref:h,onKeyDown:T})});vN.displayName=OH;function MH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(yi(r,{select:e}),document.activeElement!==n)return}function VH(t){const e=wN(t),n=tS(e,t),r=tS(e.reverse(),t);return[n,r]}function wN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tS(t,e){for(const n of t)if(!LH(n,{upTo:e}))return n}function LH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FH(t){return t instanceof HTMLInputElement&&"select"in t}function yi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&FH(t)&&e&&t.select()}}var nS=jH();function jH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=rS(t,e),t.unshift(e)},remove(e){var n;t=rS(t,e),(n=t[0])==null||n.resume()}}}function rS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function UH(t){return t.filter(e=>e.tagName!=="A")}function BH(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $H=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,Ed=new WeakMap,Td={},Pm=0,_N=function(t){return t&&(t.host||_N(t.parentNode))},zH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_N(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},WH=function(t,e,n,r){var i=zH(e,Array.isArray(t)?t:[t]);Td[n]||(Td[n]=new WeakMap);var s=Td[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),T=m!==null&&m!=="false",g=(xo.get(h)||0)+1,S=(s.get(h)||0)+1;xo.set(h,g),s.set(h,S),o.push(h),g===1&&T&&Ed.set(h,!0),S===1&&h.setAttribute(n,"true"),T||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),a.clear(),Pm++,function(){o.forEach(function(f){var h=xo.get(f)-1,m=s.get(f)-1;xo.set(f,h),s.set(f,m),h||(Ed.has(f)||f.removeAttribute(r),Ed.delete(f)),m||f.removeAttribute(n)}),Pm--,Pm||(xo=new WeakMap,xo=new WeakMap,Ed=new WeakMap,Td={})}},HH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$H(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),WH(r,i,n,"aria-hidden")):function(){return null}},eh="right-scroll-bar-position",th="width-before-scroll-bar",KH="with-scroll-bars-hidden",qH="--removed-body-scroll-bar-size";function Am(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GH(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var QH=typeof window<"u"?E.useLayoutEffect:E.useEffect,iS=new WeakMap;function YH(t,e){var n=GH(null,function(r){return t.forEach(function(i){return Am(i,r)})});return QH(function(){var r=iS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Am(a,null)}),s.forEach(function(a){i.has(a)||Am(a,o)})}iS.set(n,t)},[t]),n}function XH(t){return t}function JH(t,e){e===void 0&&(e=XH);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function ZH(t){t===void 0&&(t={});var e=JH(null);return e.options=hr({async:!0,ssr:!1},t),e}var EN=function(t){var e=t.sideCar,n=uu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,hr({},n))};EN.isSideCarExport=!0;function eK(t,e){return t.useMedium(e),EN}var TN=ZH(),Rm=function(){},ep=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Rm,onWheelCapture:Rm,onTouchMoveCapture:Rm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,T=t.inert,g=t.allowPinchZoom,S=t.as,v=S===void 0?"div":S,y=t.gapMode,_=uu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,N=YH([n,e]),M=hr(hr({},_),i);return E.createElement(E.Fragment,null,d&&E.createElement(A,{sideCar:TN,removeScrollBar:c,shards:f,noIsolation:m,inert:T,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?E.cloneElement(E.Children.only(a),hr(hr({},M),{ref:N})):E.createElement(v,hr({},M,{className:l,ref:N}),a))});ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ep.classNames={fullWidth:th,zeroRight:eh};var tK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tK();return e&&t.setAttribute("nonce",e),t}function rK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=nK())&&(rK(e,n),iK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oK=function(){var t=sK();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xN=function(){var t=oK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},aK={left:0,top:0,right:0,gap:0},km=function(t){return parseInt(t||"",10)||0},lK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[km(n),km(r),km(i)]},cK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aK;var e=lK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},uK=xN(),aa="data-scroll-locked",dK=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(aa,`] {
    `).concat(qH,": ").concat(a,`px;
  }
`)},sS=function(){var t=parseInt(document.body.getAttribute(aa)||"0",10);return isFinite(t)?t:0},hK=function(){E.useEffect(function(){return document.body.setAttribute(aa,(sS()+1).toString()),function(){var t=sS()-1;t<=0?document.body.removeAttribute(aa):document.body.setAttribute(aa,t.toString())}},[])},fK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;hK();var s=E.useMemo(function(){return cK(i)},[i]);return E.createElement(uK,{styles:dK(s,!e,i,n?"":"!important")})},Vy=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return Vy=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Vy=!1}var So=Vy?{passive:!1}:!1,pK=function(t){return t.tagName==="TEXTAREA"},SN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!pK(t)&&n[e]==="visible")},mK=function(t){return SN(t,"overflowY")},gK=function(t){return SN(t,"overflowX")},oS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CN(t,r);if(i){var s=bN(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CN=function(t,e){return t==="v"?mK(e):gK(e)},bN=function(t,e){return t==="v"?yK(e):vK(e)},wK=function(t,e){return t==="h"&&e==="rtl"?-1:1},_K=function(t,e,n,r,i){var s=wK(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var m=bN(t,a),T=m[0],g=m[1],S=m[2],v=g-S-s*T;(T||v)&&CN(t,a)&&(f+=v,h+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Sd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},aS=function(t){return[t.deltaX,t.deltaY]},lS=function(t){return t&&"current"in t?t.current:t},EK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xK=0,Co=[];function SK(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(xK++)[0],s=E.useState(xN)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=o3([t.lockRef.current],(t.shards||[]).map(lS),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Sd(g),y=n.current,_="deltaX"in g?g.deltaX:y[0]-v[0],A="deltaY"in g?g.deltaY:y[1]-v[1],N,M=g.target,b=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in g&&b==="h"&&M.type==="range")return!1;var C=oS(b,M);if(!C)return!0;if(C?N=b:(N=b==="v"?"h":"v",C=oS(b,M)),!C)return!1;if(!r.current&&"changedTouches"in g&&(_||A)&&(r.current=N),!N)return!0;var P=r.current||N;return _K(P,S,g,P==="h"?_:A,!0)},[]),l=E.useCallback(function(g){var S=g;if(!(!Co.length||Co[Co.length-1]!==s)){var v="deltaY"in S?aS(S):Sd(S),y=e.current.filter(function(N){return N.name===S.type&&(N.target===S.target||S.target===N.shadowParent)&&EK(N.delta,v)})[0];if(y&&y.should){S.cancelable&&S.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(lS).filter(Boolean).filter(function(N){return N.contains(S.target)}),A=_.length>0?a(S,_[0]):!o.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),c=E.useCallback(function(g,S,v,y){var _={name:g,delta:S,target:v,should:y,shadowParent:CK(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),d=E.useCallback(function(g){n.current=Sd(g),r.current=void 0},[]),f=E.useCallback(function(g){c(g.type,aS(g),g.target,a(g,t.lockRef.current))},[]),h=E.useCallback(function(g){c(g.type,Sd(g),g.target,a(g,t.lockRef.current))},[]);E.useEffect(function(){return Co.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,So),document.addEventListener("touchmove",l,So),document.addEventListener("touchstart",d,So),function(){Co=Co.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,So),document.removeEventListener("touchmove",l,So),document.removeEventListener("touchstart",d,So)}},[]);var m=t.removeScrollBar,T=t.inert;return E.createElement(E.Fragment,null,T?E.createElement(s,{styles:TK(i)}):null,m?E.createElement(fK,{gapMode:t.gapMode}):null)}function CK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bK=eK(TN,SK);var IN=E.forwardRef(function(t,e){return E.createElement(ep,hr({},t,{ref:e,sideCar:bK}))});IN.classNames=ep.classNames;var IK=[" ","Enter","ArrowUp","ArrowDown"],PK=[" ","Enter"],Su="Select",[tp,np,AK]=Mb(Su),[el,Eq]=Fv(Su,[AK,Af]),rp=Af(),[RK,vs]=el(Su),[kK,NK]=el(Su),PN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:T}=t,g=rp(e),[S,v]=E.useState(null),[y,_]=E.useState(null),[A,N]=E.useState(!1),M=NH(c),[b=!1,C]=bg({prop:r,defaultProp:i,onChange:s}),[P,R]=bg({prop:o,defaultProp:a,onChange:l}),D=E.useRef(null),O=S?T||!!S.closest("form"):!0,[k,W]=E.useState(new Set),re=Array.from(k).map(J=>J.props.value).join(";");return x.jsx(O4,{...g,children:x.jsxs(RK,{required:m,scope:e,trigger:S,onTriggerChange:v,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:Gv(),value:P,onValueChange:R,open:b,onOpenChange:C,dir:M,triggerPointerDownPosRef:D,disabled:h,children:[x.jsx(tp.Provider,{scope:e,children:x.jsx(kK,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(J=>{W(G=>new Set(G).add(J))},[]),onNativeOptionRemove:E.useCallback(J=>{W(G=>{const L=new Set(G);return L.delete(J),L})},[]),children:n})}),O?x.jsxs(ZN,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:J=>R(J.target.value),disabled:h,form:T,children:[P===void 0?x.jsx("option",{value:""}):null,Array.from(k)]},re):null]})})};PN.displayName=Su;var AN="SelectTrigger",RN=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=rp(n),o=vs(AN,n),a=o.disabled||r,l=rt(e,o.onTriggerChange),c=np(n),d=E.useRef("touch"),[f,h,m]=eD(g=>{const S=c().filter(_=>!_.disabled),v=S.find(_=>_.value===o.value),y=tD(S,g,v);y!==void 0&&o.onValueChange(y.value)}),T=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return x.jsx(UI,{asChild:!0,...s,children:x.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JN(o.value)?"":void 0,...i,ref:l,onClick:we(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&T(g)}),onPointerDown:we(i.onPointerDown,g=>{d.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(T(g),g.preventDefault())}),onKeyDown:we(i.onKeyDown,g=>{const S=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(S&&g.key===" ")&&IK.includes(g.key)&&(T(),g.preventDefault())})})})});RN.displayName=AN;var kN="SelectValue",NN=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=vs(kN,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=rt(e,l.onValueNodeChange);return qt(()=>{c(d)},[c,d]),x.jsx(De.span,{...a,ref:f,style:{pointerEvents:"none"},children:JN(l.value)?x.jsx(x.Fragment,{children:o}):s})});NN.displayName=kN;var DK="SelectIcon",DN=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return x.jsx(De.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});DN.displayName=DK;var OK="SelectPortal",ON=t=>x.jsx(jv,{asChild:!0,...t});ON.displayName=OK;var ao="SelectContent",MN=E.forwardRef((t,e)=>{const n=vs(ao,t.__scopeSelect),[r,i]=E.useState();if(qt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?uo.createPortal(x.jsx(VN,{scope:t.__scopeSelect,children:x.jsx(tp.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),s):null}return x.jsx(LN,{...t,ref:e})});MN.displayName=ao;var zn=10,[VN,ws]=el(ao),MK="SelectContentImpl",LN=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:T,hideWhenDetached:g,avoidCollisions:S,...v}=t,y=vs(ao,n),[_,A]=E.useState(null),[N,M]=E.useState(null),b=rt(e,ee=>A(ee)),[C,P]=E.useState(null),[R,D]=E.useState(null),O=np(n),[k,W]=E.useState(!1),re=E.useRef(!1);E.useEffect(()=>{if(_)return HH(_)},[_]),DH();const J=E.useCallback(ee=>{const[xe,...$e]=O().map(ye=>ye.ref.current),[me]=$e.slice(-1),Ee=document.activeElement;for(const ye of ee)if(ye===Ee||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===xe&&N&&(N.scrollTop=0),ye===me&&N&&(N.scrollTop=N.scrollHeight),ye==null||ye.focus(),document.activeElement!==Ee))return},[O,N]),G=E.useCallback(()=>J([C,_]),[J,C,_]);E.useEffect(()=>{k&&G()},[k,G]);const{onOpenChange:L,triggerPointerDownPosRef:$}=y;E.useEffect(()=>{if(_){let ee={x:0,y:0};const xe=me=>{var Ee,ye;ee={x:Math.abs(Math.round(me.pageX)-(((Ee=$.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ye=$.current)==null?void 0:ye.y)??0))}},$e=me=>{ee.x<=10&&ee.y<=10?me.preventDefault():_.contains(me.target)||L(!1),document.removeEventListener("pointermove",xe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",$e,{capture:!0})}}},[_,L,$]),E.useEffect(()=>{const ee=()=>L(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[L]);const[Q,q]=eD(ee=>{const xe=O().filter(Ee=>!Ee.disabled),$e=xe.find(Ee=>Ee.ref.current===document.activeElement),me=tD(xe,ee,$e);me&&setTimeout(()=>me.ref.current.focus())}),Z=E.useCallback((ee,xe,$e)=>{const me=!re.current&&!$e;(y.value!==void 0&&y.value===xe||me)&&(P(ee),me&&(re.current=!0))},[y.value]),ne=E.useCallback(()=>_==null?void 0:_.focus(),[_]),Ce=E.useCallback((ee,xe,$e)=>{const me=!re.current&&!$e;(y.value!==void 0&&y.value===xe||me)&&D(ee)},[y.value]),Be=r==="popper"?Ly:FN,pe=Be===Ly?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:T,hideWhenDetached:g,avoidCollisions:S}:{};return x.jsx(VN,{scope:n,content:_,viewport:N,onViewportChange:M,itemRefCallback:Z,selectedItem:C,onItemLeave:ne,itemTextRefCallback:Ce,focusSelectedItem:G,selectedItemText:R,position:r,isPositioned:k,searchRef:Q,children:x.jsx(IN,{as:Sa,allowPinchZoom:!0,children:x.jsx(vN,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:we(i,ee=>{var xe;(xe=y.trigger)==null||xe.focus({preventScroll:!0}),ee.preventDefault()}),children:x.jsx(xf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:x.jsx(Be,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...v,...pe,onPlaced:()=>W(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:we(v.onKeyDown,ee=>{const xe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!xe&&ee.key.length===1&&q(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let me=O().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ee=ee.target,ye=me.indexOf(Ee);me=me.slice(ye+1)}setTimeout(()=>J(me)),ee.preventDefault()}})})})})})})});LN.displayName=MK;var VK="SelectItemAlignedPosition",FN=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=vs(ao,n),o=ws(ao,n),[a,l]=E.useState(null),[c,d]=E.useState(null),f=rt(e,b=>d(b)),h=np(n),m=E.useRef(!1),T=E.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:v,focusSelectedItem:y}=o,_=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&S&&v){const b=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(s.dir!=="rtl"){const Ee=R.left-C.left,ye=P.left-Ee,pt=b.left-ye,St=b.width+pt,bn=Math.max(St,C.width),Qt=window.innerWidth-zn,Pr=Jx(ye,[zn,Math.max(zn,Qt-bn)]);a.style.minWidth=St+"px",a.style.left=Pr+"px"}else{const Ee=C.right-R.right,ye=window.innerWidth-P.right-Ee,pt=window.innerWidth-b.right-ye,St=b.width+pt,bn=Math.max(St,C.width),Qt=window.innerWidth-zn,Pr=Jx(ye,[zn,Math.max(zn,Qt-bn)]);a.style.minWidth=St+"px",a.style.right=Pr+"px"}const D=h(),O=window.innerHeight-zn*2,k=g.scrollHeight,W=window.getComputedStyle(c),re=parseInt(W.borderTopWidth,10),J=parseInt(W.paddingTop,10),G=parseInt(W.borderBottomWidth,10),L=parseInt(W.paddingBottom,10),$=re+J+k+L+G,Q=Math.min(S.offsetHeight*5,$),q=window.getComputedStyle(g),Z=parseInt(q.paddingTop,10),ne=parseInt(q.paddingBottom,10),Ce=b.top+b.height/2-zn,Be=O-Ce,pe=S.offsetHeight/2,ee=S.offsetTop+pe,xe=re+J+ee,$e=$-xe;if(xe<=Ce){const Ee=D.length>0&&S===D[D.length-1].ref.current;a.style.bottom="0px";const ye=c.clientHeight-g.offsetTop-g.offsetHeight,pt=Math.max(Be,pe+(Ee?ne:0)+ye+G),St=xe+pt;a.style.height=St+"px"}else{const Ee=D.length>0&&S===D[0].ref.current;a.style.top="0px";const pt=Math.max(Ce,re+g.offsetTop+(Ee?Z:0)+pe)+$e;a.style.height=pt+"px",g.scrollTop=xe-Ce+g.offsetTop}a.style.margin=`${zn}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,S,v,s.dir,r]);qt(()=>_(),[_]);const[A,N]=E.useState();qt(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const M=E.useCallback(b=>{b&&T.current===!0&&(_(),y==null||y(),T.current=!1)},[_,y]);return x.jsx(FK,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:M,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:x.jsx(De.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FN.displayName=VK;var LK="SelectPopperPosition",Ly=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zn,...s}=t,o=rp(n);return x.jsx(BI,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ly.displayName=LK;var[FK,Aw]=el(ao,{}),Fy="SelectViewport",jN=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ws(Fy,n),o=Aw(Fy,n),a=rt(e,s.onViewportChange),l=E.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(tp.Slot,{scope:n,children:x.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:we(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const T=window.innerHeight-zn*2,g=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),v=Math.max(g,S);if(v<T){const y=v+m,_=Math.min(T,y),A=y-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});jN.displayName=Fy;var UN="SelectGroup",[jK,UK]=el(UN),BK=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gv();return x.jsx(jK,{scope:n,id:i,children:x.jsx(De.div,{role:"group","aria-labelledby":i,...r,ref:e})})});BK.displayName=UN;var BN="SelectLabel",$N=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=UK(BN,n);return x.jsx(De.div,{id:i.id,...r,ref:e})});$N.displayName=BN;var of="SelectItem",[$K,zN]=el(of),WN=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=vs(of,n),l=ws(of,n),c=a.value===r,[d,f]=E.useState(s??""),[h,m]=E.useState(!1),T=rt(e,y=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,y,r,i)}),g=Gv(),S=E.useRef("touch"),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx($K,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:E.useCallback(y=>{f(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:x.jsx(tp.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:x.jsx(De.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:we(o.onFocus,()=>m(!0)),onBlur:we(o.onBlur,()=>m(!1)),onClick:we(o.onClick,()=>{S.current!=="mouse"&&v()}),onPointerUp:we(o.onPointerUp,()=>{S.current==="mouse"&&v()}),onPointerDown:we(o.onPointerDown,y=>{S.current=y.pointerType}),onPointerMove:we(o.onPointerMove,y=>{var _;S.current=y.pointerType,i?(_=l.onItemLeave)==null||_.call(l):S.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:we(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(PK.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});WN.displayName=of;var Ul="SelectItemText",HN=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=vs(Ul,n),a=ws(Ul,n),l=zN(Ul,n),c=NK(Ul,n),[d,f]=E.useState(null),h=rt(e,v=>f(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,v,l.value,l.disabled)}),m=d==null?void 0:d.textContent,T=E.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=c;return qt(()=>(g(T),()=>S(T)),[g,S,T]),x.jsxs(x.Fragment,{children:[x.jsx(De.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?uo.createPortal(s.children,o.valueNode):null]})});HN.displayName=Ul;var KN="SelectItemIndicator",qN=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zN(KN,n).isSelected?x.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});qN.displayName=KN;var jy="SelectScrollUpButton",GN=E.forwardRef((t,e)=>{const n=ws(jy,t.__scopeSelect),r=Aw(jy,t.__scopeSelect),[i,s]=E.useState(!1),o=rt(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?x.jsx(YN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});GN.displayName=jy;var Uy="SelectScrollDownButton",QN=E.forwardRef((t,e)=>{const n=ws(Uy,t.__scopeSelect),r=Aw(Uy,t.__scopeSelect),[i,s]=E.useState(!1),o=rt(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?x.jsx(YN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});QN.displayName=Uy;var YN=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ws("SelectScrollButton",n),o=E.useRef(null),a=np(n),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),qt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),x.jsx(De.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:we(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:we(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:we(i.onPointerLeave,()=>{l()})})}),zK="SelectSeparator",XN=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});XN.displayName=zK;var By="SelectArrow",WK=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=rp(n),s=vs(By,n),o=ws(By,n);return s.open&&o.position==="popper"?x.jsx($I,{...i,...r,ref:e}):null});WK.displayName=By;function JN(t){return t===""||t===void 0}var ZN=E.forwardRef((t,e)=>{const{value:n,...r}=t,i=E.useRef(null),s=rt(e,i),o=BH(n);return E.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),x.jsx(su,{asChild:!0,children:x.jsx("select",{...r,ref:s,defaultValue:n})})});ZN.displayName="BubbleSelect";function eD(t){const e=Tn(t),n=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function tD(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=HK(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function HK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KK=PN,nD=RN,qK=NN,GK=DN,QK=ON,rD=MN,YK=jN,iD=$N,sD=WN,XK=HN,JK=qN,oD=GN,aD=QN,lD=XN;const ZK=KK,eq=qK,cD=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(nD,{ref:r,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,x.jsx(GK,{asChild:!0,children:x.jsx(lI,{className:"h-4 w-4 opacity-50"})})]}));cD.displayName=nD.displayName;const uD=E.forwardRef(({className:t,...e},n)=>x.jsx(oD,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(lV,{className:"h-4 w-4"})}));uD.displayName=oD.displayName;const dD=E.forwardRef(({className:t,...e},n)=>x.jsx(aD,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(lI,{className:"h-4 w-4"})}));dD.displayName=aD.displayName;const hD=E.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>x.jsx(QK,{children:x.jsxs(rD,{ref:i,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[x.jsx(uD,{}),x.jsx(YK,{className:He("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(dD,{})]})}));hD.displayName=rD.displayName;const tq=E.forwardRef(({className:t,...e},n)=>x.jsx(iD,{ref:n,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tq.displayName=iD.displayName;const $y=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(sD,{ref:r,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(JK,{children:x.jsx(aV,{className:"h-4 w-4"})})}),x.jsx(XK,{children:e})]}));$y.displayName=sD.displayName;const nq=E.forwardRef(({className:t,...e},n)=>x.jsx(lD,{ref:n,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));nq.displayName=lD.displayName;const fD=({country:t,isFavorite:e,onToggleFavorite:n,onClick:r})=>{var i;return x.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5,scale:1.02},transition:{duration:.3},children:x.jsxs(so,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow duration-300",children:[x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:t.flags.png,alt:t.flags.alt||`Flag of ${t.name.common}`,className:"w-full h-32 object-cover",onClick:()=>r(t)}),x.jsx(Rt,{variant:"ghost",size:"sm",className:`absolute top-2 right-2 p-2 rounded-full ${e?"bg-red-500 text-white hover:bg-red-600":"bg-white/80 text-gray-600 hover:bg-white"}`,onClick:s=>{s.stopPropagation(),n(t)},children:x.jsx(Ic,{className:`w-4 h-4 ${e?"fill-current":""}`})})]}),x.jsxs(oo,{className:"p-4",onClick:()=>r(t),children:[x.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1",children:t.name.common}),x.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Capital:"})," ",((i=t.capital)==null?void 0:i[0])||"N/A"]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Region:"})," ",t.region]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Population:"})," ",t.population.toLocaleString()]}),t.languages&&x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Languages:"})," ",Object.values(t.languages).slice(0,2).join(", "),Object.values(t.languages).length>2&&"..."]})]})]})]})})},ip=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),{currentUser:i}=yo();E.useEffect(()=>{(async()=>{if(!i){e([]),r(!1);return}try{const c=D1(L1,"favorites",i.uid),d=await V$(c);d.exists()&&e(d.data().countries||[])}catch(c){console.error("Error loading favorites:",c)}finally{r(!1)}})()},[i]);const s=async l=>{if(i)try{const c=D1(L1,"favorites",i.uid);await F$(c,{countries:l}),e(l)}catch(c){console.error("Error saving favorites:",c)}};return{favorites:t,loading:n,toggleFavorite:l=>{const d=t.some(f=>f.cca3===l.cca3)?t.filter(f=>f.cca3!==l.cca3):[...t,l];s(d)},isFavorite:l=>t.some(c=>c.cca3===l.cca3)}},rq=()=>{const[t,e]=E.useState([]),[n,r]=E.useState([]),[i,s]=E.useState(!0),[o,a]=E.useState(""),[l,c]=E.useState("all"),{toggleFavorite:d,isFavorite:f}=ip(),h=za(),{currentUser:m,loading:T}=yo(),g=["Africa","Americas","Asia","Europe","Oceania"];E.useEffect(()=>{if(T)return;if(!m){s(!1);return}(async()=>{try{const _=await fetch("https://restcountries.com/v3.1/all?fields=name,capital,region,population,languages,flags,cca3");if(!_.ok)throw new Error(`Failed to fetch countries: ${_.status} ${_.statusText}`);const A=await _.json();Array.isArray(A)?(e(A),r(A)):(e([]),r([]))}catch(_){console.error("Error fetching countries:",_),e([]),r([])}finally{s(!1)}})()},[T,m]),E.useEffect(()=>{let y=t;o&&(y=y.filter(_=>{var A;return _.name.common.toLowerCase().includes(o.toLowerCase())||_.name.official.toLowerCase().includes(o.toLowerCase())||((A=_.capital)==null?void 0:A.some(N=>N.toLowerCase().includes(o.toLowerCase())))})),l!=="all"&&(y=y.filter(_=>_.region===l)),r(y)},[o,l,t]);const S=y=>{h(`/country/${y.cca3}`,{state:{country:y}})},v=Array.isArray(n)?n:[];return T||i?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx(ou,{className:"w-12 h-12 animate-spin text-indigo-500 mx-auto mb-4"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Loading countries..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:x.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.jsxs(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:x.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-cyan-600 bg-clip-text text-transparent",children:"Explore Countries"})}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Discover fascinating facts about countries around the world"}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(dV,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),x.jsx(Ks,{placeholder:"Search countries, capitals...",value:o,onChange:y=>a(y.target.value),className:"pl-10"})]}),x.jsxs(ZK,{value:l,onValueChange:c,children:[x.jsxs(cD,{className:"w-full sm:w-48",children:[x.jsx(cV,{className:"w-4 h-4 mr-2"}),x.jsx(eq,{placeholder:"Filter by region"})]}),x.jsxs(hD,{children:[x.jsx($y,{value:"all",children:"All Regions"}),g.map(y=>x.jsx($y,{value:y,children:y},y))]})]})]}),x.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",v.length," of ",t.length," countries"]})]}),x.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map((y,_)=>x.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:x.jsx(fD,{country:y,isFavorite:f(y),onToggleFavorite:d,onClick:S})},y.cca3))}),v.length===0&&!i&&x.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500 text-lg",children:"No countries found matching your criteria"})})]})})},iq=()=>{const{favorites:t,loading:e,toggleFavorite:n,isFavorite:r}=ip(),i=za(),s=o=>{i(`/country/${o.cca3}`,{state:{country:o}})};return e?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx(ou,{className:"w-12 h-12 animate-spin text-indigo-500 mx-auto mb-4"}),x.jsx("p",{className:"text-lg text-gray-600",children:"Loading favorites..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:x.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.jsxs(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(Ic,{className:"w-8 h-8 text-red-500 fill-current"}),x.jsx("h1",{className:"text-3xl font-bold",children:x.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-cyan-600 bg-clip-text text-transparent",children:"Your Favorite Countries"})})]}),x.jsx("p",{className:"text-gray-600",children:t.length>0?`You have ${t.length} favorite ${t.length===1?"country":"countries"}`:"Start exploring and add countries to your favorites!"})]}),t.length>0?x.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((o,a)=>x.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:x.jsx(fD,{country:o,isFavorite:r(o),onToggleFavorite:n,onClick:s})},o.cca3))}):x.jsxs(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center py-16",children:[x.jsx(Ic,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),x.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"No favorites yet"}),x.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explore countries and click the heart icon to add them to your favorites collection."}),x.jsx("button",{onClick:()=>i("/dashboard"),className:"bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200",children:"Start Exploring"})]})]})})},sq=()=>{var i;const{currentUser:t,logout:e}=yo(),{favorites:n}=ip(),r=async()=>{try{await e()}catch(s){console.error("Failed to logout:",s)}};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:x.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.jsxs(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:x.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-cyan-600 bg-clip-text text-transparent",children:"Your Profile"})}),x.jsx("p",{className:"text-gray-600",children:"Manage your account and explore your journey"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[x.jsx(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:x.jsxs(so,{children:[x.jsx(Oy,{children:x.jsxs(My,{className:"flex items-center gap-2",children:[x.jsx(kg,{className:"w-5 h-5"}),"Account Information"]})}),x.jsxs(oo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Hv,{className:"w-4 h-4 text-gray-500"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),x.jsx("p",{className:"font-medium",children:t==null?void 0:t.email})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(oV,{className:"w-4 h-4 text-gray-500"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-500",children:"Member since"}),x.jsx("p",{className:"font-medium",children:(i=t==null?void 0:t.metadata)!=null&&i.creationTime?new Date(t.metadata.creationTime).toLocaleDateString():"Unknown"})]})]}),x.jsx("div",{className:"pt-4 border-t",children:x.jsxs(Rt,{onClick:r,variant:"destructive",className:"w-full",children:[x.jsx(cI,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})}),x.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:x.jsxs(so,{children:[x.jsx(Oy,{children:x.jsx(My,{children:"Your Statistics"})}),x.jsxs(oo,{children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-indigo-50 to-cyan-50 rounded-lg",children:[x.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:n.length}),x.jsxs("div",{className:"text-sm text-gray-600",children:["Favorite ",n.length===1?"Country":"Countries"]})]}),x.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-pink-50 to-amber-50 rounded-lg",children:[x.jsx("div",{className:"text-2xl font-bold text-pink-600",children:new Set(n.map(s=>s.region)).size}),x.jsx("div",{className:"text-sm text-gray-600",children:"Regions Explored"})]})]}),n.length>0&&x.jsxs("div",{className:"mt-6",children:[x.jsx("h4",{className:"font-medium mb-3",children:"Recent Favorites"}),x.jsx("div",{className:"space-y-2",children:n.slice(0,3).map(s=>x.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[x.jsx("img",{src:s.flags.png,alt:`Flag of ${s.name.common}`,className:"w-6 h-4 object-cover rounded"}),x.jsx("span",{className:"text-sm font-medium",children:s.name.common})]},s.cca3))})]})]})]})})]})]})})},oq=()=>{var o,a;const t=ps(),e=za();XF();const n=(o=t.state)==null?void 0:o.country,{toggleFavorite:r,isFavorite:i}=ip();if(!n)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Country not found"}),x.jsx(Rt,{onClick:()=>e("/dashboard"),children:"Back to Explorer"})]})});const s=[{icon:dI,label:"Population",value:n.population.toLocaleString()},{icon:uI,label:"Capital",value:((a=n.capital)==null?void 0:a[0])||"N/A"},{icon:bc,label:"Region",value:n.region},{icon:uV,label:"Languages",value:n.languages?Object.values(n.languages).join(", "):"N/A"}];return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:x.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.jsx(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:x.jsxs(Rt,{onClick:()=>e(-1),variant:"ghost",className:"mb-4",children:[x.jsx(sV,{className:"w-4 h-4 mr-2"}),"Back"]})}),x.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[x.jsx(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:x.jsxs(so,{className:"overflow-hidden",children:[x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:n.flags.png,alt:`Flag of ${n.name.common}`,className:"w-full h-64 object-cover"}),x.jsx(Rt,{onClick:()=>r(n),className:`absolute top-4 right-4 ${i(n)?"bg-red-500 text-white hover:bg-red-600":"bg-white/80 text-gray-600 hover:bg-white"}`,size:"sm",children:x.jsx(Ic,{className:`w-4 h-4 ${i(n)?"fill-current":""}`})})]}),x.jsxs(oo,{className:"p-6",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.name.common}),x.jsx("p",{className:"text-gray-600 mb-4",children:n.name.official})]})]})}),x.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:x.jsx(so,{children:x.jsxs(oo,{className:"p-6",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Country Information"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:s.map((l,c)=>{const d=l.icon;return x.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+c*.1},className:"flex items-start gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-100 to-cyan-100 rounded-lg flex items-center justify-center flex-shrink-0",children:x.jsx(d,{className:"w-5 h-5 text-indigo-600"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-500 mb-1",children:l.label}),x.jsx("p",{className:"font-medium text-gray-900",children:l.value})]})]},l.label)})}),n.currencies&&x.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-6 pt-6 border-t",children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Currencies"}),x.jsx("div",{className:"space-y-2",children:Object.entries(n.currencies).map(([l,c])=>x.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"font-medium",children:c.name}),x.jsx("span",{className:"text-sm text-gray-600",children:c.symbol})]},l))})]})]})})})]})]})})},aq=()=>{const t=ps();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),x.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),x.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},lq=new _F,cq=()=>x.jsx(TF,{client:lq,children:x.jsxs(X4,{children:[x.jsx(GV,{}),x.jsx(xL,{}),x.jsx(wj,{children:x.jsx($$,{children:x.jsxs("div",{className:"min-h-screen",children:[x.jsx(xH,{}),x.jsxs(hj,{children:[x.jsx(Ps,{path:"/",element:x.jsx(RH,{})}),x.jsx(Ps,{path:"/dashboard",element:x.jsx(yd,{children:x.jsx(rq,{})})}),x.jsx(Ps,{path:"/favorites",element:x.jsx(yd,{children:x.jsx(iq,{})})}),x.jsx(Ps,{path:"/profile",element:x.jsx(yd,{children:x.jsx(sq,{})})}),x.jsx(Ps,{path:"/country/:code",element:x.jsx(yd,{children:x.jsx(oq,{})})}),x.jsx(Ps,{path:"*",element:x.jsx(aq,{})})]})]})})})]})});Nb(document.getElementById("root")).render(x.jsx(cq,{}));
